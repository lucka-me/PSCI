(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var n,a=s(12);!function(e){let t,s;!function(e){e[e.Unknown=0]="Unknown",e[e.Redacted=1]="Redacted",e[e.Prime=2]="Prime"}(t=e.ScannerCode||(e.ScannerCode={})),function(e){e[e.Pending=0]="Pending",e[e.Accepted=1]="Accepted",e[e.Rejected=101]="Rejected"}(s=e.StatusCode||(e.StatusCode={}));class n{constructor(e,t,s,n){this.code=e,this.title=t,this.icon=s,this.queries=n}}e.Status=n;class i{constructor(e,t,s,n,a){this.code=e,this.title=t,this.icon=s,this.color=n,this.keywords=a}}i.undeclared=101,i.duplicated=102,i.close=103,e.Reason=i,e.scanner=a.scanners.reduce(((e,t)=>(e.set(t.code,t),e)),new Map),e.status=a.statuses.reduce(((e,t)=>{const s=new n(t.code,t.title,t.iconFA,t.queries.reduce(((e,t)=>(e.set(t.scanner,t.query),e)),new Map));return e.set(s.code,s),e}),new Map),e.reason=a.reasons.reduce(((e,t)=>{const s=new i(t.code,t.title,t.iconFA,t.color,t.keywords.reduce(((e,t)=>(e.set(t.scanner,t.keywords),e)),new Map));return e.set(s.code,s),e}),new Map)}(n||(n={}))},2:function(e,t,s){"use strict";s.d(t,"a",(function(){return S}));var n=s(4),a=s(32),i=s(1);class r{constructor(){this.events={authStatusChanged:()=>{},error:()=>{}}}init(){navigator.onLine&&gapi.load("client:auth2",(()=>this.initClient()))}initClient(){gapi.client.init({apiKey:"AIzaSyCqIaS8UizqjWrIKm5zV3_S8EffCWjKR-A",clientId:"361295761775-qshg0f5buh495dhubp4v5bignk7i5dh1.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest","https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],scope:["https://www.googleapis.com/auth/gmail.readonly","https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.appdata"].join(" ")}).then((()=>{gapi.auth2.getAuthInstance().isSignedIn.listen(this.events.authStatusChanged),this.events.authStatusChanged(this.signedIn)}),this.events.error)}get signedIn(){return navigator.onLine&&gapi.auth2.getAuthInstance().isSignedIn.get()}get accessToken(){return gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token}signIn(){gapi.auth2.getAuthInstance().signIn()}signOut(){gapi.auth2.getAuthInstance().signOut()}}var o,l,c=s(20);!function(e){e.json="application/json"}(o||(o={}));class u{constructor(){this.ids=new Map}download(e,t){const s=n=>{if(n.length<1)return void t(null);const a=n[0].id;gapi.client.drive.files.get({fileId:a,alt:"media"}).then((i=>{t(i.result)?(gapi.client.drive.files.delete({fileId:a}),n.splice(0,1),s(n)):this.ids.set(e,a)}))};gapi.client.drive.files.list({q:`name = '${e}'`,pageSize:10,spaces:u.folder,fields:"files(id)"}).then((e=>{const n=e.result.files;n?s(n):t(null)}))}upload(e,t,s,n){let a="",i="";const r={name:e,mimeType:o.json};this.ids.has(e)?(i="PATCH",a=`https://www.googleapis.com/upload/drive/v3/files/${this.ids.get(e)}?uploadType=multipart`):(i="POST",a="https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",r.parents=[u.folder]);const l=new FormData;l.append("metadata",new Blob([JSON.stringify(r)],{type:o.json})),l.append("file",t);fetch(a,{method:i,headers:new Headers({Authorization:"Bearer "+s}),body:l}).then((e=>e.json())).then((t=>{t&&t.id?(this.ids.set(e,t.id),n(!0)):n(!1,t.message)})).catch((()=>n(!1)))}}u.folder="appDataFolder";class d{constructor(){this.events={openUI:()=>{},saveUI:()=>{}}}open(e,t){this.events.openUI((s=>{if(!s)return void t(n.a.t("message:service.file.local.openFailed"));const a=new FileReader;a.onload=()=>{e(a.result)},a.readAsText(s)}))}save(e,t){this.events.saveUI(e,URL.createObjectURL(t))}}!function(e){e.nominations="nominations.json",e.nominationsLegacy="potori.json",e.bsData="bsdata.json"}(l||(l={}));class g{constructor(){this.local=new d,this.googleDrive=new u}}const h="service.nomination",m={day:h+".day",missing:h+".missing",messageParseErrorMissingId:`message:${h}.parseErrorMissingId`,messageParseErrorMissingTitle:`message:${h}.parseErrorMissingTitle`,messageParseErrorMissingImage:`message:${h}.parseErrorMissingImage`,messageParseErrorInvalidId:`message:${h}.parseErrorInvalidId`,messageParseErrorInvalidImage:`message:${h}.parseErrorInvalidImage`},f=Date.now();class p{constructor(){this.id="",this.title="",this.image="",this.scanner=i.a.ScannerCode.Unknown,this.status=i.a.StatusCode.Pending,this.reasons=[],this.confirmedTime=0,this.confirmationMailId="",this.resultTime=null,this.resultMailId=null,this.lngLat=null}get imageUrl(){return"https://lh3.googleusercontent.com/"+this.image}get intelUrl(){return`https://intel.ingress.com/intel?ll=${this.lngLat.lat},${this.lngLat.lng}&z=18`}get bsUrl(){return"https://brainstorming.azurewebsites.net/watermeter.html#"+this.id}get statusData(){return i.a.status.get(this.status)}get reasonsData(){return this.reasons.map((e=>i.a.reason.get(i.a.reason.has(e)?e:i.a.Reason.undeclared)))}get restoreTime(){return this.confirmedTime+12096e5}get confirmedDateString(){return this.confirmedTime>0?new Date(this.confirmedTime).toLocaleDateString():n.a.t(m.missing)}get resultDateString(){return new Date(this.resultTime).toLocaleDateString()}get intervalString(){const e=this.resultTime?this.resultTime:f;return n.a.t(m.day,{count:Math.floor((e-this.confirmedTime)/864e5)})}get restoreIntervalString(){return n.a.t(m.day,{count:Math.floor((this.restoreTime-f)/864e5)})}get json(){let e={id:this.id,title:this.title,image:this.image,status:this.status,confirmedTime:this.confirmedTime/1e3,confirmationMailId:this.confirmationMailId};return this.scanner!=i.a.ScannerCode.Unknown&&(e.scanner=this.scanner),this.reasons.length>0&&(e.reasons=this.reasons),this.resultTime&&(e.resultTime=this.resultTime/1e3),this.resultMailId&&(e.resultMailId=this.resultMailId),this.lngLat&&(e.lngLat={lng:this.lngLat.lng,lat:this.lngLat.lat}),e}static parse(e){if(!e.id)throw new Error(m.messageParseErrorMissingId);if(!e.title)throw new Error(m.messageParseErrorMissingTitle);if(!e.image)throw new Error(m.messageParseErrorMissingImage);const t=e.image.replace("\r","");if(!/^[a-zA-Z0-9]+$/.test(e.id))throw new Error(m.messageParseErrorInvalidId);if(!/^[0-9a-zA-Z\-\_]+$/.test(t))throw new Error(m.messageParseErrorInvalidImage);const s=new p;if(s.id=e.id,s.title=e.title,s.image=t,e.scanner&&(s.scanner=e.scanner),e.status===i.a.StatusCode.Pending?s.status=i.a.StatusCode.Pending:e.status===i.a.StatusCode.Accepted?s.status=i.a.StatusCode.Accepted:(s.status=i.a.StatusCode.Rejected,e.status!==i.a.Reason.undeclared&&i.a.reason.has(e.status)&&s.reasons.push(e.status)),e.reasons)for(const t of e.reasons)i.a.reason.has(t)&&!s.reasons.includes(t)&&s.reasons.push(t);return s.confirmedTime=e.confirmedTime>p.timestampSecondBound?e.confirmedTime:1e3*e.confirmedTime,s.confirmationMailId=e.confirmationMailId,e.resultTime&&(s.resultTime=e.resultTime>p.timestampSecondBound?e.resultTime:1e3*e.resultTime),e.resultMailId&&(s.resultMailId=e.resultMailId),e.lngLat&&(s.lngLat={lng:e.lngLat.lng,lat:e.lngLat.lat}),s}static parseId(e){return e.replace(/[^a-zA-Z0-9]/g,"").slice(-10).toLowerCase()}}p.timestampSecondBound=1e12;class v{static mail(e,t){const s=new p;s.status=t.status,s.scanner=t.scanner,t.status===i.a.StatusCode.Pending?(s.confirmedTime=parseInt(e.internalDate),s.confirmationMailId=e.id):(s.resultTime=parseInt(e.internalDate),s.resultMailId=e.id);for(let t=0;t<e.payload.headers.length;t++){const n=e.payload.headers[t];if("Subject"===n.name){const e=n.value.match(/[:ï¼š](.+)/);e&&e.length>1&&(s.title=e[1].trim());break}}for(const n of e.payload.parts){if("1"!==n.partId)continue;const e=this.base64(n.body.data),a=e.match(/googleusercontent\.com\/([0-9a-zA-Z\-\_]+)/);a&&a.length>1&&(s.image=a[1],s.id=p.parseId(s.image)),t.scanner===i.a.ScannerCode.Redacted&&t.status!==i.a.StatusCode.Pending&&(s.lngLat=this.lngLat(e)),t.status===i.a.StatusCode.Rejected&&(s.status=i.a.StatusCode.Rejected,s.reasons=this.reason(e,t.scanner));break}return s}static reason(e,t){const s=e.match(/(\n|\r|.)+?\-NianticOps/);if(!s||s.length<1)return[];const n=s[0],a=[];for(const[e,s]of i.a.reason)if(s.keywords.has(t))for(const i of s.keywords.get(t)){const t=n.search(i);if(!(t<0)){a.push([t,e]);break}}return a.sort(((e,t)=>e[0]>t[0]?1:-1)).map((e=>e[1]))}static lngLat(e){const t=e.match(/www\.ingress\.com\/intel\?ll\=([\.\d]+),([\.\d]+)/);return!t||t.length<3?null:{lng:parseFloat(t[2]),lat:parseFloat(t[1])}}static base64(e){return unescape(decodeURIComponent(escape(window.atob(e.replace(/\-/g,"+").replace(/\_/g,"/")))))}}class w{constructor(){this.total=0,this.finished=0}clear(){this.total=0,this.finished=0}get left(){return this.finished<this.total}get percent(){return 0===this.total?0:this.finished/this.total}}class I{constructor(){this.lists=new w,this.messages=new w,this.onBuffer=()=>{},this.onProgress=()=>{},this.onFinish=()=>{}}clear(){this.lists.clear(),this.messages.clear()}addList(){this.lists.total+=1}finishList(e){this.lists.finished+=1,this.messages.total+=e,this.onBuffer(this.lists.percent),this.left||this.onFinish()}finishMessage(){this.messages.finished+=1,this.lists.left||(this.onProgress(this.messages.percent),this.left||this.onFinish())}get left(){return this.lists.left||this.messages.left}}class b{constructor(){this.ignoreMailIds=[],this.nominations=[],this.progress=new I,this.events={alert:()=>{},finish:()=>{},buffer:()=>{},progress:()=>{}}}init(){this.progress.onBuffer=e=>{this.events.buffer(e)},this.progress.onProgress=e=>{this.events.progress(e)},this.progress.onFinish=()=>{this.events.finish()}}start(e){this.nominations=e,this.progress.lists.clear(),this.progress.messages.clear(),this.ignoreMailIds=[];for(const e of this.nominations)this.ignoreMailIds.push(e.confirmationMailId),e.resultMailId&&this.ignoreMailIds.push(e.resultMailId);for(const e of i.a.status.values())for(const t of e.queries.keys())this.queryList({status:e.code,scanner:t})}queryList(e){this.progress.addList();b.getListRequest(null,e).execute((t=>{this.handleListRequest(t,e,[])}))}static getListRequest(e,t){return gapi.client.gmail.users.messages.list({userId:"me",q:i.a.status.get(t.status).queries.get(t.scanner),pageToken:e})}handleListRequest(e,t,s){if(e.result.messages&&s.push(...e.result.messages),e.result.nextPageToken){b.getListRequest(e.result.nextPageToken,t).execute((e=>{this.handleListRequest(e,t,s)}))}else{for(let e=s.length-1;e>=0;e--)for(const t of this.ignoreMailIds)if(s[e].id===t){s.splice(e,1);break}this.queryMessages(t,s)}}queryMessages(e,t){this.progress.finishList(t.length);for(const s of t)gapi.client.gmail.users.messages.get({userId:"me",id:s.id,format:"full",metadataHeaders:"Subject"}).execute((t=>{const s=t.result;try{const t=v.mail(s,e);this.nominations.push(t)}catch(t){let a="";for(let e=0;e<s.payload.headers.length;e++){const t=s.payload.headers[e];if("Subject"===t.name){a=t.value;break}}let i=t;if("message"in t){const e=t;i=e.stack||e.message}this.events.alert(n.a.t("message:service.mari.reportParserError",{subject:a,message:`[${e.scanner}:${e.status}]${i}`}))}this.progress.finishMessage()}))}}var S,y=s(22),T=s(16),L=s(12);class M{constructor(){const e=document.URL.includes("lucka.moe");this.string=`${T.version}d${L.version}-${e?"lite":"full"} (${T.build})`,this.full=!e}}class C{static nominations(e){const t={matched:!1,message:"",nominations:[]};try{const s=JSON.parse(e);if(0===s.length)return t.message=n.a.t("message:service.parseEmpty"),t;for(const e of s){const s=p.parse(e);t.nominations.push(s)}t.matched=!0}catch(e){t.nominations=[],t.matched=!1,t.message=n.a.t("message:service.parseNominationsFailed")}return t}static bsData(e){const t={matched:!1,message:"",data:null};try{t.data=new Map(JSON.parse(e)),t.matched=!0}catch(e){t.matched=!1,t.message=n.a.t("message:service.parseBsDataFailed")}return t}}class E{static nominations(e){const t=[];for(const s of e)t.push(s.json);return new Blob([JSON.stringify(t,null,4)],{type:o.json})}static bsData(e){return new Blob([JSON.stringify([...e],null,4)],{type:o.json})}}!function(e){function t(){e.events.start();const t=[];for(let s=e.nominations.length-1;s>=0;s--){const n=e.nominations[s];if(n.id.length<1)t.push({target:n,candidates:[]}),e.nominations.splice(s,1);else for(let t=0;t<s;t++){const a=e.nominations[t];if(n.id===a.id){a.status===i.a.StatusCode.Pending?(a.title=n.title,a.status=n.status,a.reasons=n.reasons,a.resultTime=n.resultTime,a.resultMailId=n.resultMailId,n.lngLat&&(a.lngLat=n.lngLat)):(a.confirmedTime=n.confirmedTime,a.confirmationMailId=n.confirmationMailId,a.lngLat||(a.lngLat=n.lngLat)),e.nominations.splice(s,1);break}}}const n=e.nominations.filter((e=>e.status===i.a.StatusCode.Pending));for(const e of t){const t=e.target.scanner!==i.a.ScannerCode.Unknown;for(const s of n)e.target.title===s.title&&(e.target.resultTime<s.confirmedTime||t&&s.scanner!==i.a.ScannerCode.Unknown&&s.scanner!==e.target.scanner||e.candidates.push(s))}s(t)}function s(t){if(t.length<1)return void o();const n=t[0];if(n.candidates.length<1)return t.shift(),void s(t);const a=n.candidates[0];e.events.match(n.target,a,(e=>{if(e){a.status=n.target.status,a.resultTime=n.target.resultTime,a.resultMailId=n.target.resultMailId,t.shift();for(const e of t){const t=e.candidates.indexOf(a);t<0||e.candidates.splice(t,1)}}else n.candidates.shift();s(t)}))}function o(){e.nominations.sort(((e,t)=>(e.resultTime?e.resultTime:e.confirmedTime)<(t.resultTime?t.resultTime:t.confirmedTime)?1:-1)),function(){const t=()=>{e.events.idle()},s=e.nominations.reduce(((e,t)=>(t.lngLat||e.push(t),e)),new Array);if(s.length<1)return void t();let n=0;e.events.progressUpdate(.9);const a=()=>{n+=1,e.events.progressUpdate(.9+n/s.length*.1),n===s.length&&t()};for(const t of s)e.bs.queryLocation(t,(e=>{t.lngLat=e,a()}),a)}()}e.auth=new r,e.bs=new c.b,e.file=new g,e.mari=new b,e.version=new M,e.nominations=[],e.errors=[],e.events={authStatusChanged:()=>{},progressUpdate:()=>{},bufferUpdate:()=>{},bsUpdate:()=>{},start:()=>{},idle:()=>{},clear:()=>{},match:()=>{},alert:()=>{},info:()=>{}},e.init=function(){"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/sw.js")})),n.a.use(a.a).init({fallbackLng:"en-US",keySeparator:!1,resources:y.a,ns:["general","message"],defaultNS:"general"}),e.auth.events.authStatusChanged=t=>{t||(e.nominations.length=0),e.events.authStatusChanged(t),t&&(e.events.clear(),e.events.start(),function(t){let s=!1,n=!1;const a=()=>{s&&n&&t()};e.file.googleDrive.download(l.bsData,(t=>{if(!t)return n=!0,a(),!1;try{e.bs.data=new Map(t)}catch(e){return!0}return n=!0,a(),!1})),e.file.googleDrive.download(l.nominations,(t=>{if(!t)return s=!0,a(),!1;try{const s=t;e.nominations.length=0;for(const t of s)try{e.nominations.push(p.parse(t))}catch(e){}}catch(e){return!0}return s=!0,a(),!1}))}((()=>{e.mari.start(e.nominations)})))},e.auth.events.error=t=>{e.events.alert(JSON.stringify(t,null,2))},e.auth.init(),e.mari.events.alert=t=>e.events.alert(t),e.mari.events.progress=t=>e.events.progressUpdate(.9*t),e.mari.events.buffer=t=>e.events.bufferUpdate(t),e.mari.events.finish=()=>t(),e.mari.init(),window.addEventListener("error",(t=>{e.errors.push(t)}))},e.migrate=function(){e.events.progressUpdate(0),e.events.start(),e.file.googleDrive.download(l.nominationsLegacy,(t=>{if(!t)return e.events.idle(),!1;const s=[];try{const e=t;for(const t of e)try{s.push(p.parse(t))}catch(e){}}catch(e){return!0}return function(t){for(const s of t){let t=!1;for(const n of e.nominations)s.id===n.id&&(n.status===i.a.StatusCode.Pending&&s.status!==i.a.StatusCode.Pending&&(n.status=s.status,n.reasons=s.reasons),n.resultTime||(n.resultTime=s.resultTime),n.resultMailId||(n.resultMailId=s.resultMailId),n.lngLat||(n.lngLat=s.lngLat),t=!0);t||e.nominations.push(s)}o()}(s),!1}))},e.open=function(){e.events.clear(),e.file.local.open((s=>{const a=C.nominations(s);if(a.matched)return e.nominations.length=0,e.nominations.push(...a.nominations),void t();const i=C.bsData(s);return i.matched?(e.bs.data=i.data,e.nominations.length>0&&e.events.bsUpdate(),void e.events.info(n.a.t("message:service.loadBsData"))):void 0}),e.events.alert)},e.save=function(){e.nominations.length<1?e.events.alert(n.a.t("message:service.nominationsEmpty")):(e.file.local.save(l.nominations,E.nominations(e.nominations)),window.setTimeout((()=>{e.file.local.save(l.bsData,E.bsData(e.bs.data))}),2e3))},e.upload=function(){let t=!1,s=!1;const a=()=>{t&&s&&e.events.info(n.a.t("message:service.uploaded"))};e.file.googleDrive.upload(l.nominations,E.nominations(e.nominations),e.auth.accessToken,((s,i)=>{t=!0,s||e.events.alert(`${n.a.t("message:service.uploadNominationsError")}${i?"\n"+i:""}`),a()})),e.file.googleDrive.upload(l.bsData,E.bsData(e.bs.data),e.auth.accessToken,((t,i)=>{s=!0,t||e.events.alert(`${n.a.t("message:service.uploadBsDataError")}${i?"\n"+i:""}`),a()}))},e.importJSON=function(t){let s;try{s=JSON.parse(t)}catch(t){return void e.events.alert(n.a.t("message:service.parseError"))}if(!s.result||s.result.length<1)return void e.events.alert(n.a.t("message:service.invalidData"));const a=new Map;for(const t of e.nominations)a.set(t.id,t);let i=0;for(const e of s.result){const t=e.imageUrl.replace("https://lh3.googleusercontent.com/",""),s=p.parseId(t);if(!a.has(s))continue;const n=a.get(s);n.title=e.title,n.lngLat={lng:parseFloat(e.lng),lat:parseFloat(e.lat)},i+=1}e.events.info(n.a.t("message:service.imported",{count:i})),e.events.idle()},e.updateBsData=function(){e.bs.update(e.nominations,(()=>{e.events.bsUpdate(),e.events.info(n.a.t("message:service.bsDataUpdated"))}))},e.clearBsData=function(){e.bs.clear()}}(S||(S={}))},20:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s(2),a=s(1);const i="service.brainstorming";var r;!function(e){e.FIREBASE_ERROR="message:service.brainstorming.firebaseError",e.NOT_EXISTS="message:service.brainstorming.notExists",e.EARLY="message:service.brainstorming.early"}(r||(r={}));const o={quality:i+".quality",description:i+".description",cultural:i+".cultural",uniqueness:i+".uniqueness",safety:i+".safety",location:i+".location"};t.b=class{constructor(){this.data=new Map,this.reference=null}query(e,t,s){this.beforeCreate(e)?s(r.EARLY):this.data.has(e.id)?t(this.data.get(e.id)):n.a.version.full?this.queryFirebase(e,t,s):s(r.NOT_EXISTS)}queryLocation(e,t,s){this.query(e,(e=>{t({lng:parseFloat(e.lng),lat:parseFloat(e.lat)})}),s)}update(e,t){const s=[];for(const t of e)this.beforeCreate(t)||s.push(t);let n=s.length;const a=()=>{n--,n<1&&t()};for(const e of s)this.queryFirebase(e,(t=>{this.data.set(e.id,t),a()}),a)}queryFirebase(e,t,n){this.beforeCreate(e)?n(r.EARLY):Promise.all([s.e(0).then(s.bind(null,55)),s.e(0).then(s.bind(null,65))]).then((([s,a])=>{if(!this.reference){const e=s.default.initializeApp({databaseURL:"https://oprbrainstorming.firebaseio.com"});this.reference||(this.reference=e.database().ref("c/reviews/"))}this.reference.child(e.id).once("value",(e=>{const s=e.val();s?t(s):n(r.NOT_EXISTS)}),(()=>n(r.FIREBASE_ERROR)))}))}clear(){this.data.clear()}beforeCreate(e){return e.status!==a.a.StatusCode.Pending&&e.resultTime<15187968e5}analyse(e){const t={review:0,nomination:0,rate:new Map,reviewTimes:[],synch:{total:0,synched:0}},s=Object.keys(o);for(const e of s)t.rate.set(e,[]);const n=(e,s)=>{e[s]&&t.rate.get(s).push(parseInt(e[s]))};for(const i of e){if(!this.data.has(i.id))continue;const e=this.data.get(i.id),r=[];for(const o of Object.keys(e)){if(!o.startsWith("review"))continue;const l=e[o];if(!l.stars)continue;t.review+=1,r.push(l.stars);const c=l.JSON;for(const e of s)n(c,e);t.reviewTimes.push(l.Timestamp),i.status!==a.a.StatusCode.Pending&&(t.synch.total+=1,this.isSynched(l.stars,i)&&(t.synch.synched+=1))}r.length<1||(t.nomination+=1)}return t}isSynched(e,t){if("D"===e&&t.status===a.a.StatusCode.Rejected&&t.reasons.includes(a.a.Reason.duplicated))return!0;const s=parseFloat(e);if(isNaN(s))return!1;if(t.status===a.a.StatusCode.Accepted||t.status===a.a.StatusCode.Rejected&&t.reasons.includes(a.a.Reason.close)){if(s>=3)return!0}else if(s<3)return!0;return!1}}}}]);