(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["preferences"],{"0d7f":function(e){e.exports=JSON.parse('{"version":"0.9.0","build":"1432"}')},8398:function(e,t,c){},"88f5":function(e,t,c){},"9a23":function(e,t,c){"use strict";c("88f5")},a3c7:function(e,t,c){"use strict";c("8398")},a55d:function(e,t,c){"use strict";c.r(t);var r=c("7a23");const n={class:"preferences"},a=Object(r["i"])("hr",null,null,-1),o=Object(r["i"])("hr",null,null,-1),i=Object(r["i"])("hr",null,null,-1),s=Object(r["i"])("hr",null,null,-1);function l(e,t,c,l,d,u){const b=Object(r["A"])("material-top-app-bar"),O=Object(r["A"])("material-top-app-bar-adjust"),j=Object(r["A"])("general-preferences"),f=Object(r["A"])("google-preferences"),p=Object(r["A"])("data-preferences"),h=Object(r["A"])("brainstorming-preferences"),m=Object(r["A"])("about-preferences");return Object(r["t"])(),Object(r["e"])(r["a"],null,[Object(r["i"])(b,{title:"Preferences","navi-back":""}),Object(r["i"])(O),Object(r["i"])("main",n,[Object(r["i"])(j),a,Object(r["i"])(f),o,Object(r["i"])(p),i,Object(r["i"])(h),s,Object(r["i"])(m)])],64)}var d=c("9ab4"),u=c("ce1f"),b=c("2281"),O=c("4892");const j=Object(r["i"])("h2",null,"About",-1),f=Object(r["h"])("Open"),p=Object(r["h"])("Open"),h=Object(r["h"])("Export");function m(e,t,c,n,a,o){const i=Object(r["A"])("preference-row"),s=Object(r["A"])("material-button");return Object(r["t"])(),Object(r["e"])(r["a"],null,[j,Object(r["i"])(i,{text:"App Version",desc:e.appVersion},null,8,["desc"]),Object(r["i"])(i,{text:"Data Version",desc:e.dataVersion},null,8,["desc"]),Object(r["i"])(i,{text:"Document"},{default:Object(r["F"])(()=>[Object(r["i"])(s,{onClick:e.openDoc},{default:Object(r["F"])(()=>[f]),_:1},8,["onClick"])]),_:1}),Object(r["i"])(i,{text:"Code Repository",desc:"GitHub"},{default:Object(r["F"])(()=>[Object(r["i"])(s,{onClick:e.openRepo},{default:Object(r["F"])(()=>[p]),_:1},8,["onClick"])]),_:1}),e.hasErrors?(Object(r["t"])(),Object(r["e"])(i,{key:0,text:"Export Errors",desc:"Export errors logged by Potori"},{default:Object(r["F"])(()=>[Object(r["i"])(s,{onClick:e.exportErrors},{default:Object(r["F"])(()=>[h]),_:1},8,["onClick"])]),_:1})):Object(r["f"])("",!0)],64)}var C,y=c("42b4"),g=c("6022"),v=c("8043"),k=c("0d7f"),_=c("eded");(function(e){e.full=!document.URL.includes("lucka.moe"),e.text=`${k.version}-${e.full?"lite":"full"} (${k.build})`,e.data=_.version})(C||(C={}));var A=c("1703");const x={class:"row"},w={class:"text"},E={key:0,class:"desc"},F={key:0,class:"spacer"},S={key:1,class:"action"};function D(e,t,c,n,a,o){return Object(r["t"])(),Object(r["e"])("div",x,[Object(r["i"])("div",w,[Object(r["i"])("span",null,Object(r["C"])(e.text),1),e.desc?(Object(r["t"])(),Object(r["e"])("span",E,Object(r["C"])(e.desc),1)):Object(r["f"])("",!0)]),e.$slots.default?(Object(r["t"])(),Object(r["e"])("div",F)):Object(r["f"])("",!0),e.$slots.default?(Object(r["t"])(),Object(r["e"])("div",S,[Object(r["z"])(e.$slots,"default")])):Object(r["f"])("",!0)])}var N=c("1b40");class L extends N["d"]{}Object(d["c"])([Object(N["c"])(String)],L.prototype,"text",void 0),Object(d["c"])([Object(N["c"])(String)],L.prototype,"desc",void 0);c("e723");L.render=D;var P=L;let R=class extends u["b"]{get appVersion(){return C.text}get dataVersion(){return C.data}get hasErrors(){return g["a"].errors.length>0}openDoc(){window.open("/docs","_blank")}openRepo(){window.open("https://github.com/lucka-me/potori","_blank")}exportErrors(){let e="";for(const t of g["a"].errors){let c=t.message;if("message"in t.error){const e=t.error;c=e.stack||e.message}e+=`[${t.filename}][${t.lineno}:${t.colno}]${c}\n`}v["a"].copy(e),y["a"].inform(`Copied ${g["a"].errors.length} errors to clipboard.`)}};R=Object(d["c"])([Object(u["a"])({components:{MaterialButton:A["a"],PreferenceRow:P}})],R);var I=R;I.render=m;var V=I;const $=Object(r["i"])("h2",null,"Brainstorming",-1),T=Object(r["h"])("Import"),B=Object(r["h"])("Export"),M=Object(r["h"])("Clear");function U(e,t,c,n,a,o){const i=Object(r["A"])("material-switch"),s=Object(r["A"])("preference-row"),l=Object(r["A"])("material-button");return Object(r["t"])(),Object(r["e"])(r["a"],null,[$,Object(r["i"])(s,{text:"Automatically Query Firebase",desc:"Query Firebase to get locations after processing mails"},{default:Object(r["F"])(()=>[Object(r["i"])(i,{modelValue:e.autoQueryFirebase,"onUpdate:modelValue":t[1]||(t[1]=t=>e.autoQueryFirebase=t)},null,8,["modelValue"])]),_:1}),Object(r["i"])(s,{text:"Import Database",desc:"Import records from file"},{default:Object(r["F"])(()=>[Object(r["i"])(l,{onClick:e.importDatabase},{default:Object(r["F"])(()=>[T]),_:1},8,["onClick"])]),_:1}),Object(r["i"])(s,{text:"Export Database",desc:"Export records to file"},{default:Object(r["F"])(()=>[Object(r["i"])(l,{onClick:e.exportDatabase},{default:Object(r["F"])(()=>[B]),_:1},8,["onClick"])]),_:1}),Object(r["i"])(s,{text:"Clear Database",desc:"Clear all records from local storage"},{default:Object(r["F"])(()=>[Object(r["i"])(l,{onClick:e.clear},{default:Object(r["F"])(()=>[M]),_:1},8,["onClick"])]),_:1})],64)}var G=c("ad8e"),H=c("b15b");const Q={class:"mdc-switch"},J=Object(r["i"])("div",{class:"mdc-switch__track"},null,-1),q=Object(r["i"])("div",{class:"mdc-switch__thumb-underlay"},[Object(r["i"])("div",{class:"mdc-switch__thumb"}),Object(r["i"])("input",{type:"checkbox",class:"mdc-switch__native-control",role:"switch"})],-1);function W(e,t,c,n,a,o){return Object(r["t"])(),Object(r["e"])("div",Q,[J,q])}var K=c("8136"),z=c("9373"),X=c("d87f"),Y=c("40ff"),Z=c("4303"),ee=c("6689"),te={CHECKED:"mdc-switch--checked",DISABLED:"mdc-switch--disabled"},ce={ARIA_CHECKED_ATTR:"aria-checked",NATIVE_CONTROL_SELECTOR:".mdc-switch__native-control",RIPPLE_SURFACE_SELECTOR:".mdc-switch__thumb-underlay"},re=function(e){function t(c){return e.call(this,Object(d["a"])(Object(d["a"])({},t.defaultAdapter),c))||this}return Object(d["d"])(t,e),Object.defineProperty(t,"strings",{get:function(){return ce},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return te},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlChecked:function(){},setNativeControlDisabled:function(){},setNativeControlAttr:function(){}}},enumerable:!0,configurable:!0}),t.prototype.setChecked=function(e){this.adapter.setNativeControlChecked(e),this.updateAriaChecked_(e),this.updateCheckedStyling_(e)},t.prototype.setDisabled=function(e){this.adapter.setNativeControlDisabled(e),e?this.adapter.addClass(te.DISABLED):this.adapter.removeClass(te.DISABLED)},t.prototype.handleChange=function(e){var t=e.target;this.updateAriaChecked_(t.checked),this.updateCheckedStyling_(t.checked)},t.prototype.updateCheckedStyling_=function(e){e?this.adapter.addClass(te.CHECKED):this.adapter.removeClass(te.CHECKED)},t.prototype.updateAriaChecked_=function(e){this.adapter.setNativeControlAttr(ce.ARIA_CHECKED_ATTR,""+!!e)},t}(ee["a"]),ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ripple_=t.createRipple_(),t}return Object(d["d"])(t,e),t.attachTo=function(e){return new t(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ripple_.destroy(),this.nativeControl_.removeEventListener("change",this.changeHandler_)},t.prototype.initialSyncWithDOM=function(){var e=this;this.changeHandler_=function(){for(var t,c=[],r=0;r<arguments.length;r++)c[r]=arguments[r];return(t=e.foundation).handleChange.apply(t,Object(d["e"])(c))},this.nativeControl_.addEventListener("change",this.changeHandler_),this.checked=this.checked},t.prototype.getDefaultFoundation=function(){var e=this,t={addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},setNativeControlChecked:function(t){return e.nativeControl_.checked=t},setNativeControlDisabled:function(t){return e.nativeControl_.disabled=t},setNativeControlAttr:function(t,c){return e.nativeControl_.setAttribute(t,c)}};return new re(t)},Object.defineProperty(t.prototype,"ripple",{get:function(){return this.ripple_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this.nativeControl_.checked},set:function(e){this.foundation.setChecked(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.nativeControl_.disabled},set:function(e){this.foundation.setDisabled(e)},enumerable:!0,configurable:!0}),t.prototype.createRipple_=function(){var e=this,t=re.strings.RIPPLE_SURFACE_SELECTOR,c=this.root.querySelector(t),r=Object(d["a"])(Object(d["a"])({},Y["a"].createAdapter(this)),{addClass:function(e){return c.classList.add(e)},computeBoundingRect:function(){return c.getBoundingClientRect()},deregisterInteractionHandler:function(t,c){e.nativeControl_.removeEventListener(t,c,Object(z["a"])())},isSurfaceActive:function(){return Object(X["c"])(e.nativeControl_,":active")},isUnbounded:function(){return!0},registerInteractionHandler:function(t,c){e.nativeControl_.addEventListener(t,c,Object(z["a"])())},removeClass:function(e){c.classList.remove(e)},updateCssVariable:function(e,t){c.style.setProperty(e,t)}});return new Y["a"](this.root,new Z["a"](r))},Object.defineProperty(t.prototype,"nativeControl_",{get:function(){var e=re.strings.NATIVE_CONTROL_SELECTOR;return this.root.querySelector(e)},enumerable:!0,configurable:!0}),t}(K["a"]);class ae extends N["d"]{onValueChanged(e,t){this.ctrl&&(this.ctrl.checked=e)}mounted(){this.ctrl=ne.attachTo(this.$el),this.ctrl.checked=this.value,this.ctrl.listen("change",this.changed)}unmounted(){var e;null===(e=this.ctrl)||void 0===e||e.destroy()}changed(){this.ctrl&&this.$emit("update:modelValue",this.ctrl.checked)}}Object(d["c"])([Object(N["a"])("modelValue",{type:Boolean,default:!1})],ae.prototype,"value",void 0),Object(d["c"])([Object(N["e"])("value")],ae.prototype,"onValueChanged",null);c("9a23");ae.render=W;var oe=ae;let ie=class extends u["b"]{get autoQueryFirebase(){return H["a"].brainstorming.autoQueryFirebase()}set autoQueryFirebase(e){H["a"].brainstorming.setAutoQueryFirebase(e)}importDatabase(){return Object(d["b"])(this,void 0,void 0,(function*(){const e=yield G["a"].importDatabase();y["a"].inform(`Imported ${e} records`)}))}exportDatabase(){return Object(d["b"])(this,void 0,void 0,(function*(){const e=yield G["a"].exportDatabase();y["a"].inform(`Exported ${e} records`)}))}clear(){G["a"].clear()}};ie=Object(d["c"])([Object(u["a"])({components:{MaterialButton:A["a"],MaterialSwitch:oe,PreferenceRow:P}})],ie);var se=ie;se.render=U;var le=se;const de=Object(r["i"])("h2",null,"Data",-1),ue=Object(r["h"])("Import"),be=Object(r["h"])("Export"),Oe=Object(r["h"])("Import"),je=Object(r["h"])("Clear");function fe(e,t,c,n,a,o){const i=Object(r["A"])("material-button"),s=Object(r["A"])("preference-row");return Object(r["t"])(),Object(r["e"])(r["a"],null,[de,e.idle?(Object(r["t"])(),Object(r["e"])(s,{key:0,text:"Import Nominations",desc:"Import nominations from file"},{default:Object(r["F"])(()=>[Object(r["i"])(i,{onClick:e.importNominations},{default:Object(r["F"])(()=>[ue]),_:1},8,["onClick"])]),_:1})):Object(r["f"])("",!0),e.idle?(Object(r["t"])(),Object(r["e"])(s,{key:1,text:"Export Nominations",desc:"Export nominations to file"},{default:Object(r["F"])(()=>[Object(r["i"])(i,{onClick:e.exportNominations},{default:Object(r["F"])(()=>[be]),_:1},8,["onClick"])]),_:1})):Object(r["f"])("",!0),e.idle?(Object(r["t"])(),Object(r["e"])(s,{key:2,text:"Import Wayfarer JSON",desc:"Export JSON from https://wayfarer.nianticlabs.com/api/v1/vault/manage"},{default:Object(r["F"])(()=>[Object(r["i"])(i,{onClick:e.importWayfarerJSON},{default:Object(r["F"])(()=>[Oe]),_:1},8,["onClick"])]),_:1})):Object(r["f"])("",!0),e.idle?(Object(r["t"])(),Object(r["e"])(s,{key:3,text:"Clear Nominations",desc:"Clear all nominations from local storage"},{default:Object(r["F"])(()=>[Object(r["i"])(i,{onClick:e.clearNominations},{default:Object(r["F"])(()=>[je]),_:1},8,["onClick"])]),_:1})):Object(r["f"])("",!0)],64)}var pe=c("0613");let he=class extends u["b"]{get idle(){return this.$store.state.status===pe["a"].Status.idle}importNominations(){g["a"].importNominationsFile(e=>{y["a"].inform(`Imported ${e} nominations.`)})}exportNominations(){g["a"].exportNominationsFile()}importWayfarerJSON(){const e=window.prompt("Paste Wayfarer JSON");if(!e)return;const t=g["a"].importWayfarerJSON(e);switch(t){case-1:y["a"].alert("Unable to parse the JSON.");break;case-2:y["a"].alert("The data is invalid.");break;default:y["a"].inform(`Updated ${t} nominations.`);break}}clearNominations(){g["a"].clearNominations()}};he=Object(d["c"])([Object(u["a"])({components:{MaterialButton:A["a"],PreferenceRow:P}})],he);var me=he;me.render=fe;var Ce=me;const ye=Object(r["i"])("h2",null,"General",-1);function ge(e,t,c,n,a,o){const i=Object(r["A"])("material-switch"),s=Object(r["A"])("preference-row");return Object(r["t"])(),Object(r["e"])(r["a"],null,[ye,Object(r["i"])(s,{text:"Query After Latest",desc:"Query mails received after the latest one"},{default:Object(r["F"])(()=>[Object(r["i"])(i,{modelValue:e.queryAfterLatest,"onUpdate:modelValue":t[1]||(t[1]=t=>e.queryAfterLatest=t)},null,8,["modelValue"])]),_:1})],64)}let ve=class extends u["b"]{get queryAfterLatest(){return H["a"].general.queryAfterLatest()}set queryAfterLatest(e){H["a"].general.setQueryAfterLatest(e)}};ve=Object(d["c"])([Object(u["a"])({components:{MaterialSwitch:oe,PreferenceRow:P}})],ve);var ke=ve;ke.render=ge;var _e=ke;const Ae=Object(r["i"])("h2",null,"Google",-1),xe=Object(r["h"])("Unlink"),we=Object(r["h"])("Link"),Ee=Object(r["h"])("Sync"),Fe=Object(r["h"])("Upload"),Se=Object(r["h"])("Migrate");function De(e,t,c,n,a,o){const i=Object(r["A"])("material-button"),s=Object(r["A"])("preference-row"),l=Object(r["A"])("material-switch");return Object(r["t"])(),Object(r["e"])(r["a"],null,[Ae,e.loaded?(Object(r["t"])(),Object(r["e"])(s,{key:0,text:"Account",desc:"Link / unlink Google Account"},{default:Object(r["F"])(()=>[e.authed?(Object(r["t"])(),Object(r["e"])(i,{key:0,onClick:e.unlink},{default:Object(r["F"])(()=>[xe]),_:1},8,["onClick"])):(Object(r["t"])(),Object(r["e"])(i,{key:1,onClick:e.link},{default:Object(r["F"])(()=>[we]),_:1},8,["onClick"]))]),_:1})):Object(r["f"])("",!0),e.authed&&e.idle?(Object(r["t"])(),Object(r["e"])(s,{key:1,text:"Sync Google Drive",desc:"Sync with Google Drive when refresh"},{default:Object(r["F"])(()=>[Object(r["i"])(l,{modelValue:e.sync,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sync=t)},null,8,["modelValue"])]),_:1})):Object(r["f"])("",!0),e.authed&&e.idle?(Object(r["t"])(),Object(r["e"])(s,{key:2,text:"Sync Now",desc:"Sync with Google Drive"},{default:Object(r["F"])(()=>[Object(r["i"])(i,{onClick:e.doSync},{default:Object(r["F"])(()=>[Ee]),_:1},8,["onClick"])]),_:1})):Object(r["f"])("",!0),e.authed&&e.idle?(Object(r["t"])(),Object(r["e"])(s,{key:3,text:"Upload Now",desc:"Upload data to Google Drive"},{default:Object(r["F"])(()=>[Object(r["i"])(i,{onClick:e.upload},{default:Object(r["F"])(()=>[Fe]),_:1},8,["onClick"])]),_:1})):Object(r["f"])("",!0),e.authed&&e.idle?(Object(r["t"])(),Object(r["e"])(s,{key:4,text:"Migrate",desc:"Migrate data from Potori before 0.8.0"},{default:Object(r["F"])(()=>[Object(r["i"])(i,{onClick:e.migrate},{default:Object(r["F"])(()=>[Se]),_:1},8,["onClick"])]),_:1})):Object(r["f"])("",!0),e.loaded?Object(r["f"])("",!0):(Object(r["t"])(),Object(r["e"])(s,{key:5,text:"Loading Google API"}))],64)}let Ne=class extends u["b"]{get loaded(){return this.$store.state.gapiLoaded}get authed(){return this.$store.state.gapiAuthed}get idle(){return this.$store.state.status===pe["a"].Status.idle}get sync(){return H["a"].google.sync()}set sync(e){H["a"].google.setSync(e)}link(){g["a"].signIn()}unlink(){g["a"].signOut()}doSync(){g["a"].sync()}upload(){g["a"].upload()}migrate(){g["a"].migrate(e=>{y["a"].inform(`Migrated ${e} nominations.`)})}};Ne=Object(d["c"])([Object(u["a"])({components:{MaterialButton:A["a"],MaterialSwitch:oe,PreferenceRow:P}})],Ne);var Le=Ne;Le.render=De;var Pe=Le;let Re=class extends u["b"]{};Re=Object(d["c"])([Object(u["a"])({components:{MaterialTopAppBar:b["a"],MaterialTopAppBarAdjust:O["a"],GeneralPreferences:_e,GooglePreferences:Pe,BrainstormingPreferences:le,DataPreferences:Ce,AboutPreferences:V}})],Re);var Ie=Re;c("a3c7");Ie.render=l;t["default"]=Ie},e723:function(e,t,c){"use strict";c("e979")},e979:function(e,t,c){}}]);
//# sourceMappingURL=preferences.dd682160.js.map