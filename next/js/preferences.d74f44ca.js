(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["preferences"],{"0d7f":function(e){e.exports=JSON.parse('{"version":"0.9.0","build":"1423"}')},8398:function(e,t,c){},"88f5":function(e,t,c){},"9a23":function(e,t,c){"use strict";c("88f5")},a3c7:function(e,t,c){"use strict";c("8398")},a55d:function(e,t,c){"use strict";c.r(t);var r=c("7a23");const n={class:"preferences"},a=Object(r["h"])("hr",null,null,-1),o=Object(r["h"])("hr",null,null,-1),i=Object(r["h"])("hr",null,null,-1),s=Object(r["h"])("hr",null,null,-1);function l(e,t,c,l,d,u){const b=Object(r["x"])("material-top-app-bar"),O=Object(r["x"])("material-top-app-bar-adjust"),j=Object(r["x"])("general-preferences"),p=Object(r["x"])("google-preferences"),h=Object(r["x"])("data-preferences"),f=Object(r["x"])("brainstorming-preferences"),C=Object(r["x"])("about-preferences");return Object(r["q"])(),Object(r["d"])(r["a"],null,[Object(r["h"])(b,{title:"Preferences","navi-back":""}),Object(r["h"])(O),Object(r["h"])("main",n,[Object(r["h"])(j),a,Object(r["h"])(p),o,Object(r["h"])(h),i,Object(r["h"])(f),s,Object(r["h"])(C)])],64)}var d=c("9ab4"),u=c("ce1f"),b=c("2281"),O=c("4892");const j=Object(r["h"])("h2",null,"About",-1),p=Object(r["g"])("Open"),h=Object(r["g"])("Open"),f=Object(r["g"])("Export");function C(e,t,c,n,a,o){const i=Object(r["x"])("preference-row"),s=Object(r["x"])("material-button");return Object(r["q"])(),Object(r["d"])(r["a"],null,[j,Object(r["h"])(i,{text:"App Version",desc:e.appVersion},null,8,["desc"]),Object(r["h"])(i,{text:"Data Version",desc:e.dataVersion},null,8,["desc"]),Object(r["h"])(i,{text:"Document"},{default:Object(r["C"])(()=>[Object(r["h"])(s,{onClick:e.openDoc},{default:Object(r["C"])(()=>[p]),_:1},8,["onClick"])]),_:1}),Object(r["h"])(i,{text:"Code Repository",desc:"GitHub"},{default:Object(r["C"])(()=>[Object(r["h"])(s,{onClick:e.openRepo},{default:Object(r["C"])(()=>[h]),_:1},8,["onClick"])]),_:1}),e.hasErrors?(Object(r["q"])(),Object(r["d"])(i,{key:0,text:"Export Errors",desc:"Export errors logged by Potori"},{default:Object(r["C"])(()=>[Object(r["h"])(s,{onClick:e.exportErrors},{default:Object(r["C"])(()=>[f]),_:1},8,["onClick"])]),_:1})):Object(r["e"])("",!0)],64)}var m,g=c("42b4"),y=c("6022"),v=c("8043"),k=c("0d7f"),_=c("eded");(function(e){e.full=!document.URL.includes("lucka.moe"),e.text=`${k.version}-${e.full?"lite":"full"} (${k.build})`,e.data=_.version})(m||(m={}));var x=c("1703");const w={class:"row"},E={class:"text"},A={key:0,class:"desc"},S={key:0,class:"spacer"},D={key:1,class:"action"};function N(e,t,c,n,a,o){return Object(r["q"])(),Object(r["d"])("div",w,[Object(r["h"])("div",E,[Object(r["h"])("span",null,Object(r["z"])(e.text),1),e.desc?(Object(r["q"])(),Object(r["d"])("span",A,Object(r["z"])(e.desc),1)):Object(r["e"])("",!0)]),e.$slots.default?(Object(r["q"])(),Object(r["d"])("div",S)):Object(r["e"])("",!0),e.$slots.default?(Object(r["q"])(),Object(r["d"])("div",D,[Object(r["w"])(e.$slots,"default")])):Object(r["e"])("",!0)])}var q=c("1b40");class L extends q["d"]{}Object(d["c"])([Object(q["c"])(String)],L.prototype,"text",void 0),Object(d["c"])([Object(q["c"])(String)],L.prototype,"desc",void 0);c("e723");L.render=N;var P=L;let R=class extends u["b"]{get appVersion(){return m.text}get dataVersion(){return m.data}get hasErrors(){return y["a"].errors.length>0}openDoc(){window.open("/docs","_blank")}openRepo(){window.open("https://github.com/lucka-me/potori","_blank")}exportErrors(){let e="";for(const t of y["a"].errors){let c=t.message;if("message"in t.error){const e=t.error;c=e.stack||e.message}e+=`[${t.filename}][${t.lineno}:${t.colno}]${c}\n`}v["a"].copy(e),g["a"].inform(`Copied ${y["a"].errors.length} errors to clipboard.`)}};R=Object(d["c"])([Object(u["a"])({components:{MaterialButton:x["a"],PreferenceRow:P}})],R);var I=R;I.render=C;var V=I;const $=Object(r["h"])("h2",null,"Brainstorming",-1),T=Object(r["g"])("Import"),B=Object(r["g"])("Export"),M=Object(r["g"])("Clear");function F(e,t,c,n,a,o){const i=Object(r["x"])("material-switch"),s=Object(r["x"])("preference-row"),l=Object(r["x"])("material-button");return Object(r["q"])(),Object(r["d"])(r["a"],null,[$,Object(r["h"])(s,{text:"Automatically Query Firebase",desc:"Query Firebase to get locations after processing mails"},{default:Object(r["C"])(()=>[Object(r["h"])(i,{modelValue:e.autoQueryFirebase,"onUpdate:modelValue":t[1]||(t[1]=t=>e.autoQueryFirebase=t)},null,8,["modelValue"])]),_:1}),Object(r["h"])(s,{text:"Import Database",desc:"Import records from file"},{default:Object(r["C"])(()=>[Object(r["h"])(l,{onClick:e.importDatabase},{default:Object(r["C"])(()=>[T]),_:1},8,["onClick"])]),_:1}),Object(r["h"])(s,{text:"Export Database",desc:"Export records to file"},{default:Object(r["C"])(()=>[Object(r["h"])(l,{onClick:e.exportDatabase},{default:Object(r["C"])(()=>[B]),_:1},8,["onClick"])]),_:1}),Object(r["h"])(s,{text:"Clear Database",desc:"Clear all records from local storage"},{default:Object(r["C"])(()=>[Object(r["h"])(l,{onClick:e.clear},{default:Object(r["C"])(()=>[M]),_:1},8,["onClick"])]),_:1})],64)}var U=c("ad8e"),G=c("b15b");const H={class:"mdc-switch"},Q=Object(r["h"])("div",{class:"mdc-switch__track"},null,-1),J=Object(r["h"])("div",{class:"mdc-switch__thumb-underlay"},[Object(r["h"])("div",{class:"mdc-switch__thumb"}),Object(r["h"])("input",{type:"checkbox",class:"mdc-switch__native-control",role:"switch"})],-1);function W(e,t,c,n,a,o){return Object(r["q"])(),Object(r["d"])("div",H,[Q,J])}var K=c("8136"),z=c("9373"),X=c("d87f"),Y=c("40ff"),Z=c("4303"),ee=c("6689"),te={CHECKED:"mdc-switch--checked",DISABLED:"mdc-switch--disabled"},ce={ARIA_CHECKED_ATTR:"aria-checked",NATIVE_CONTROL_SELECTOR:".mdc-switch__native-control",RIPPLE_SURFACE_SELECTOR:".mdc-switch__thumb-underlay"},re=function(e){function t(c){return e.call(this,Object(d["a"])(Object(d["a"])({},t.defaultAdapter),c))||this}return Object(d["d"])(t,e),Object.defineProperty(t,"strings",{get:function(){return ce},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return te},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlChecked:function(){},setNativeControlDisabled:function(){},setNativeControlAttr:function(){}}},enumerable:!0,configurable:!0}),t.prototype.setChecked=function(e){this.adapter.setNativeControlChecked(e),this.updateAriaChecked_(e),this.updateCheckedStyling_(e)},t.prototype.setDisabled=function(e){this.adapter.setNativeControlDisabled(e),e?this.adapter.addClass(te.DISABLED):this.adapter.removeClass(te.DISABLED)},t.prototype.handleChange=function(e){var t=e.target;this.updateAriaChecked_(t.checked),this.updateCheckedStyling_(t.checked)},t.prototype.updateCheckedStyling_=function(e){e?this.adapter.addClass(te.CHECKED):this.adapter.removeClass(te.CHECKED)},t.prototype.updateAriaChecked_=function(e){this.adapter.setNativeControlAttr(ce.ARIA_CHECKED_ATTR,""+!!e)},t}(ee["a"]),ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ripple_=t.createRipple_(),t}return Object(d["d"])(t,e),t.attachTo=function(e){return new t(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ripple_.destroy(),this.nativeControl_.removeEventListener("change",this.changeHandler_)},t.prototype.initialSyncWithDOM=function(){var e=this;this.changeHandler_=function(){for(var t,c=[],r=0;r<arguments.length;r++)c[r]=arguments[r];return(t=e.foundation).handleChange.apply(t,Object(d["e"])(c))},this.nativeControl_.addEventListener("change",this.changeHandler_),this.checked=this.checked},t.prototype.getDefaultFoundation=function(){var e=this,t={addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},setNativeControlChecked:function(t){return e.nativeControl_.checked=t},setNativeControlDisabled:function(t){return e.nativeControl_.disabled=t},setNativeControlAttr:function(t,c){return e.nativeControl_.setAttribute(t,c)}};return new re(t)},Object.defineProperty(t.prototype,"ripple",{get:function(){return this.ripple_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this.nativeControl_.checked},set:function(e){this.foundation.setChecked(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.nativeControl_.disabled},set:function(e){this.foundation.setDisabled(e)},enumerable:!0,configurable:!0}),t.prototype.createRipple_=function(){var e=this,t=re.strings.RIPPLE_SURFACE_SELECTOR,c=this.root.querySelector(t),r=Object(d["a"])(Object(d["a"])({},Y["a"].createAdapter(this)),{addClass:function(e){return c.classList.add(e)},computeBoundingRect:function(){return c.getBoundingClientRect()},deregisterInteractionHandler:function(t,c){e.nativeControl_.removeEventListener(t,c,Object(z["a"])())},isSurfaceActive:function(){return Object(X["c"])(e.nativeControl_,":active")},isUnbounded:function(){return!0},registerInteractionHandler:function(t,c){e.nativeControl_.addEventListener(t,c,Object(z["a"])())},removeClass:function(e){c.classList.remove(e)},updateCssVariable:function(e,t){c.style.setProperty(e,t)}});return new Y["a"](this.root,new Z["a"](r))},Object.defineProperty(t.prototype,"nativeControl_",{get:function(){var e=re.strings.NATIVE_CONTROL_SELECTOR;return this.root.querySelector(e)},enumerable:!0,configurable:!0}),t}(K["a"]);class ae extends q["d"]{onValueChanged(e,t){this.ctrl&&(this.ctrl.checked=e)}mounted(){this.ctrl=ne.attachTo(this.$el),this.ctrl.checked=this.value,this.ctrl.listen("change",this.changed)}unmounted(){var e;null===(e=this.ctrl)||void 0===e||e.destroy()}changed(){this.ctrl&&this.$emit("update:modelValue",this.ctrl.checked)}}Object(d["c"])([Object(q["a"])("modelValue",{type:Boolean,default:!1})],ae.prototype,"value",void 0),Object(d["c"])([Object(q["e"])("value")],ae.prototype,"onValueChanged",null);c("9a23");ae.render=W;var oe=ae;let ie=class extends u["b"]{get autoQueryFirebase(){return G["a"].brainstorming.autoQueryFirebase()}set autoQueryFirebase(e){G["a"].brainstorming.setAutoQueryFirebase(e)}importDatabase(){return Object(d["b"])(this,void 0,void 0,(function*(){const e=yield U["a"].importDatabase();g["a"].inform(`Imported ${e} records`)}))}exportDatabase(){return Object(d["b"])(this,void 0,void 0,(function*(){const e=yield U["a"].exportDatabase();g["a"].inform(`Exported ${e} records`)}))}clear(){U["a"].clear()}};ie=Object(d["c"])([Object(u["a"])({components:{MaterialButton:x["a"],MaterialSwitch:oe,PreferenceRow:P}})],ie);var se=ie;se.render=F;var le=se;const de=Object(r["h"])("h2",null,"Data",-1),ue=Object(r["g"])("Import"),be=Object(r["g"])("Export"),Oe=Object(r["g"])("Import"),je=Object(r["g"])("Clear");function pe(e,t,c,n,a,o){const i=Object(r["x"])("material-button"),s=Object(r["x"])("preference-row");return Object(r["q"])(),Object(r["d"])(r["a"],null,[de,e.idle?(Object(r["q"])(),Object(r["d"])(s,{key:0,text:"Import Nominations",desc:"Import nominations from file"},{default:Object(r["C"])(()=>[Object(r["h"])(i,{onClick:e.importNominations},{default:Object(r["C"])(()=>[ue]),_:1},8,["onClick"])]),_:1})):Object(r["e"])("",!0),e.idle?(Object(r["q"])(),Object(r["d"])(s,{key:1,text:"Export Nominations",desc:"Export nominations to file"},{default:Object(r["C"])(()=>[Object(r["h"])(i,{onClick:e.exportNominations},{default:Object(r["C"])(()=>[be]),_:1},8,["onClick"])]),_:1})):Object(r["e"])("",!0),e.idle?(Object(r["q"])(),Object(r["d"])(s,{key:2,text:"Import Wayfarer JSON",desc:"Export JSON from https://wayfarer.nianticlabs.com/api/v1/vault/manage"},{default:Object(r["C"])(()=>[Object(r["h"])(i,{onClick:e.importWayfarerJSON},{default:Object(r["C"])(()=>[Oe]),_:1},8,["onClick"])]),_:1})):Object(r["e"])("",!0),e.idle?(Object(r["q"])(),Object(r["d"])(s,{key:3,text:"Clear Nominations",desc:"Clear all nominations from local storage"},{default:Object(r["C"])(()=>[Object(r["h"])(i,{onClick:e.clearNominations},{default:Object(r["C"])(()=>[je]),_:1},8,["onClick"])]),_:1})):Object(r["e"])("",!0)],64)}var he=c("0613");let fe=class extends u["b"]{get idle(){return this.$store.state.status===he["a"].Status.idle}importNominations(){y["a"].importNominationsFile(e=>{g["a"].inform(`Imported ${e} nominations.`)})}exportNominations(){y["a"].exportNominationsFile()}importWayfarerJSON(){const e=window.prompt("Paste Wayfarer JSON");if(!e)return;const t=y["a"].importWayfarerJSON(e);switch(t){case-1:g["a"].alert("Unable to parse the JSON.");break;case-2:g["a"].alert("The data is invalid.");break;default:g["a"].inform(`Updated ${t} nominations.`);break}}clearNominations(){y["a"].clearNominations()}};fe=Object(d["c"])([Object(u["a"])({components:{MaterialButton:x["a"],PreferenceRow:P}})],fe);var Ce=fe;Ce.render=pe;var me=Ce;const ge=Object(r["h"])("h2",null,"General",-1);function ye(e,t,c,n,a,o){const i=Object(r["x"])("material-switch"),s=Object(r["x"])("preference-row");return Object(r["q"])(),Object(r["d"])(r["a"],null,[ge,Object(r["h"])(s,{text:"Query After Latest",desc:"Query mails received after the latest one"},{default:Object(r["C"])(()=>[Object(r["h"])(i,{modelValue:e.queryAfterLatest,"onUpdate:modelValue":t[1]||(t[1]=t=>e.queryAfterLatest=t)},null,8,["modelValue"])]),_:1})],64)}let ve=class extends u["b"]{get queryAfterLatest(){return G["a"].general.queryAfterLatest()}set queryAfterLatest(e){G["a"].general.setQueryAfterLatest(e)}};ve=Object(d["c"])([Object(u["a"])({components:{MaterialSwitch:oe,PreferenceRow:P}})],ve);var ke=ve;ke.render=ye;var _e=ke;const xe=Object(r["h"])("h2",null,"Google",-1),we=Object(r["g"])("Unlink"),Ee=Object(r["g"])("Link"),Ae=Object(r["g"])("Sync"),Se=Object(r["g"])("Upload"),De=Object(r["g"])("Migrate");function Ne(e,t,c,n,a,o){const i=Object(r["x"])("material-button"),s=Object(r["x"])("preference-row"),l=Object(r["x"])("material-switch");return Object(r["q"])(),Object(r["d"])(r["a"],null,[xe,e.loaded?(Object(r["q"])(),Object(r["d"])(s,{key:0,text:"Account",desc:"Link / unlink Google Account"},{default:Object(r["C"])(()=>[e.authed?(Object(r["q"])(),Object(r["d"])(i,{key:0,onClick:e.unlink},{default:Object(r["C"])(()=>[we]),_:1},8,["onClick"])):(Object(r["q"])(),Object(r["d"])(i,{key:1,onClick:e.link},{default:Object(r["C"])(()=>[Ee]),_:1},8,["onClick"]))]),_:1})):Object(r["e"])("",!0),e.authed&&e.idle?(Object(r["q"])(),Object(r["d"])(s,{key:1,text:"Sync Google Drive",desc:"Sync with Google Drive when refresh"},{default:Object(r["C"])(()=>[Object(r["h"])(l,{modelValue:e.sync,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sync=t)},null,8,["modelValue"])]),_:1})):Object(r["e"])("",!0),e.authed&&e.idle?(Object(r["q"])(),Object(r["d"])(s,{key:2,text:"Sync Now",desc:"Sync with Google Drive"},{default:Object(r["C"])(()=>[Object(r["h"])(i,{onClick:e.doSync},{default:Object(r["C"])(()=>[Ae]),_:1},8,["onClick"])]),_:1})):Object(r["e"])("",!0),e.authed&&e.idle?(Object(r["q"])(),Object(r["d"])(s,{key:3,text:"Upload Now",desc:"Upload data to Google Drive"},{default:Object(r["C"])(()=>[Object(r["h"])(i,{onClick:e.upload},{default:Object(r["C"])(()=>[Se]),_:1},8,["onClick"])]),_:1})):Object(r["e"])("",!0),e.authed&&e.idle?(Object(r["q"])(),Object(r["d"])(s,{key:4,text:"Migrate",desc:"Migrate data from Potori before 0.8.0"},{default:Object(r["C"])(()=>[Object(r["h"])(i,{onClick:e.migrate},{default:Object(r["C"])(()=>[De]),_:1},8,["onClick"])]),_:1})):Object(r["e"])("",!0),e.loaded?Object(r["e"])("",!0):(Object(r["q"])(),Object(r["d"])(s,{key:5,text:"Loading Google API"}))],64)}let qe=class extends u["b"]{get loaded(){return this.$store.state.gapiLoaded}get authed(){return this.$store.state.gapiAuthed}get idle(){return this.$store.state.status===he["a"].Status.idle}get sync(){return G["a"].google.sync()}set sync(e){G["a"].google.setSync(e)}link(){y["a"].signIn()}unlink(){y["a"].signOut()}doSync(){y["a"].sync()}upload(){y["a"].upload()}migrate(){y["a"].migrate(e=>{g["a"].inform(`Migrated ${e} nominations.`)})}};qe=Object(d["c"])([Object(u["a"])({components:{MaterialButton:x["a"],MaterialSwitch:oe,PreferenceRow:P}})],qe);var Le=qe;Le.render=Ne;var Pe=Le;let Re=class extends u["b"]{};Re=Object(d["c"])([Object(u["a"])({components:{MaterialTopAppBar:b["a"],MaterialTopAppBarAdjust:O["a"],GeneralPreferences:_e,GooglePreferences:Pe,BrainstormingPreferences:le,DataPreferences:me,AboutPreferences:V}})],Re);var Ie=Re;c("a3c7");Ie.render=l;t["default"]=Ie},e723:function(e,t,c){"use strict";c("e979")},e979:function(e,t,c){}}]);
//# sourceMappingURL=preferences.d74f44ca.js.map