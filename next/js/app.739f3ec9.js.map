{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/material/Button.vue","webpack:///./src/components/material/Button.vue?6b1b","webpack:///./src/components/material/Button.vue?9c32","webpack:///./src/service/dia/index.ts","webpack:///./src/components/material/Button.vue?8bab","webpack:///./src/service/delibird/index.ts","webpack:///./src/components/material/Snackbar.vue?19af","webpack:///./src/components/material/IconRaw.vue?7a99","webpack:///./src/service/google/auth/index.ts","webpack:///./src/service/google/drive/index.ts","webpack:///./src/service/google/index.ts","webpack:///./src/service/mari/parser.ts","webpack:///./src/service/index.ts","webpack:///./src/service/mari/index.ts","webpack:///./src/service/utils/index.ts","webpack:///./src/components/material/IconButton.vue","webpack:///./src/components/material/IconButton.vue?cac5","webpack:///./src/components/material/IconButton.vue?6ace","webpack:///./src/App.vue?99e2","webpack:///./src/service/nomination/index.ts","webpack:///./src/service/brainstorming/index.ts","webpack:///./src/service/preferences/index.ts","webpack:///./src/components/material/Dialog.vue?a49e","webpack:///./src/components/material/IconRaw.vue","webpack:///./src/components/material/IconRaw.vue?4db4","webpack:///./src/components/material/IconRaw.vue?950b","webpack:///./src/App.vue","webpack:///./src/components/material/Dialog.vue","webpack:///./src/components/material/DialogAction.vue","webpack:///./src/components/material/DialogAction.vue?dfd3","webpack:///./src/components/material/DialogAction.vue?c9dd","webpack:///./src/components/material/Dialog.vue?76f8","webpack:///./src/components/material/Dialog.vue?bd7a","webpack:///./src/components/material/Snackbar.vue","webpack:///./src/components/material/Snackbar.vue?2826","webpack:///./src/components/material/Snackbar.vue?b275","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?eabf","webpack:///./src/locales/index.ts","webpack:///./src/router/index.ts","webpack:///./src/store/modules/google/index.ts","webpack:///./src/store/modules/dia/index.ts","webpack:///./src/store/modules/progress/index.ts","webpack:///./src/store/modules/service/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/service/umi/index.ts","webpack:///./src/components/material/IconButton.vue?cf57"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","class","className","this","outlined","raised","ctrl","attachTo","$el","unbounded","destroy","Boolean","render","dia","databaseName","databaseVersion","storeName","_store","database","init","store","indexedDB","open","onsuccess","commit","onupgradeneeded","createObjectStore","keyPath","autoIncrement","count","predicator","_","getStore","getAll","filter","id","save","nomination","put","saved","saveAll","nominations","allSettled","map","remove","delete","clear","transaction","objectStore","delibird","alert","events","inform","AuthKit","authStatusChanged","navigator","onLine","gapi","load","initClient","client","apiKey","clientId","discoveryDocs","scope","join","auth2","getAuthInstance","isSignedIn","listen","signedIn","currentUser","getAuthResponse","access_token","signIn","signOut","ids","Map","filename","validator","listResponse","drive","files","list","q","pageSize","spaces","folder","fields","file","fileResponse","fileId","alt","solidFile","set","mimeType","blob","token","url","method","metadata","has","parents","form","FormData","append","Blob","JSON","stringify","authHeader","response","responseRaw","fetch","headers","Headers","Authorization","body","json","auth","callback","loadScript","ServiceStatus","parser","parse","mail","status","scanner","umi","StatusCode","Pending","confirmedTime","parseInt","internalDate","confirmationMailId","resultTime","resultMailId","header","payload","matched","match","title","trim","part","parts","partId","mailBody","base64","image","parseId","ScannerCode","Redacted","lngLat","Rejected","reasons","reason","matchedMainBody","mainBody","indexReasons","keywords","keyword","pos","search","sort","a","b","pair","lng","parseFloat","lat","text","unescape","decodeURIComponent","escape","atob","replace","ProgressItem","total","finished","Progress","lists","messages","onProgress","percent","log","left","queryAfter","ignoreIds","progress","flatMap","preferences","general","queryAfterLatest","latest","Math","floor","reduce","time","max","queries","values","keys","query","addList","pageToken","gmail","users","userId","filtered","includes","nextPageToken","finishList","format","metadataHeaders","fullMail","subject","details","typedError","stack","finishMessage","service","Filename","Status","mimeJSON","google","mari","i18n","addEventListener","errorEvent","errors","brainstorming","authed","setProgress","refresh","sync","download","setStatus","processingMails","raws","start","matchTargets","reduced","raw","from","merged","merge","Array","autoQueryFirebase","queryBrainstorming","upload","idle","updateBrainstorming","queryingBrainstorming","update","syncing","getNominationsJSONBlod","accessToken","migrate","legacy","importNominationsFile","content","importFile","importNominations","exportNominationsFile","exportFile","importWayfarerJSON","parsed","mapNomination","imageUrl","targets","pendings","packs","checkScanner","Unknown","candidates","selected","matchData","pack","candidate","requestMatch","record","catch","forEach","sources","jsons","util","copy","textarea","readOnly","select","execCommand","anchor","URL","createObjectURL","hidden","click","input","accept","fileReader","FileReader","readAsText","defer","icon","String","components","MaterialIconRaw","ParseErrorReason","Nomination","MISSING_ID","MISSING_TITLE","MISSING_IMAGE","test","INVALID_ID","INVALID_IMAGE","Accepted","Reason","undeclared","timestampSecondBound","imgUrl","toLowerCase","comparatorByTime","timeA","timeB","FailReason","reference","beforeCreate","EARLY","queryDatabase","queryFirebase","NOT_EXISTS","succeed","processed","getFromLocal","contains","importDatabase","size","exportDatabase","pairs","INDEXEDDB_ERROR","firebase","FIREBASE_ERROR","app","default","initializeApp","databaseURL","ref","child","once","val","localStorage","setItem","def","getItem","keyQueryAfterLatest","setQueryAfterLatest","keySync","setSync","keyAutoQueryFirebase","setAutoQueryFirebase","symbol","IconSymbolMap","nameRegex","alertOpen","alertMessage","informMessage","informOpen","role","aria-modal","$t","action","as-default","data-mdc-dialog-action","data-mdc-dialog-button-default","asDefault","MaterialButton","newVal","$emit","isOpen","close","MaterialDialogAction","aria-relevant","aria-atomic","labelText","MaterialIconButton","MaterialDialog","MaterialSnackbar","en","zh","routes","path","component","router","history","googleModule","namespaced","state","loaded","mutations","diaModule","saveID","progressModule","serviceModule","locale","language","fallbackLocale","locales","global","use","mount","Scanner","color","indexOf","scanners","item","statuses","iconFA","duplicated","version"],"mappings":"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","file":"js/app.739f3ec9.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"brainstorming~charts~dashboard~details~list~map~match~preferences\":\"brainstorming~charts~dashboard~details~list~map~match~preferences\",\"brainstorming~charts\":\"brainstorming~charts\",\"brainstorming~dashboard\":\"brainstorming~dashboard\",\"brainstorming\":\"brainstorming\",\"charts\":\"charts\",\"dashboard\":\"dashboard\",\"details~map\":\"details~map\",\"details\":\"details\",\"map\":\"map\",\"list\":\"list\",\"match\":\"match\",\"preferences\":\"preferences\",\"firebase\":\"firebase\",\"mapbox\":\"mapbox\"}[chunkId]||chunkId) + \".\" + {\"brainstorming~charts~dashboard~details~list~map~match~preferences\":\"8cbc9ed7\",\"brainstorming~charts\":\"26766597\",\"brainstorming~dashboard\":\"f3f2bb86\",\"brainstorming\":\"11469c15\",\"charts\":\"e4ff4bb7\",\"dashboard\":\"9b6fdd7c\",\"details~map\":\"df86ac01\",\"details\":\"f6e6567e\",\"map\":\"1edfc995\",\"list\":\"f3f1f9a5\",\"match\":\"8f408d69\",\"preferences\":\"d8439ccb\",\"firebase\":\"6f230759\",\"mapbox\":\"5d5a8588\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"brainstorming~charts~dashboard~details~list~map~match~preferences\":1,\"brainstorming~charts\":1,\"brainstorming~dashboard\":1,\"brainstorming\":1,\"charts\":1,\"dashboard\":1,\"details~map\":1,\"details\":1,\"map\":1,\"list\":1,\"match\":1,\"preferences\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"brainstorming~charts~dashboard~details~list~map~match~preferences\":\"brainstorming~charts~dashboard~details~list~map~match~preferences\",\"brainstorming~charts\":\"brainstorming~charts\",\"brainstorming~dashboard\":\"brainstorming~dashboard\",\"brainstorming\":\"brainstorming\",\"charts\":\"charts\",\"dashboard\":\"dashboard\",\"details~map\":\"details~map\",\"details\":\"details\",\"map\":\"map\",\"list\":\"list\",\"match\":\"match\",\"preferences\":\"preferences\",\"firebase\":\"firebase\",\"mapbox\":\"mapbox\"}[chunkId]||chunkId) + \".\" + {\"brainstorming~charts~dashboard~details~list~map~match~preferences\":\"456360f3\",\"brainstorming~charts\":\"5109a264\",\"brainstorming~dashboard\":\"088a28d9\",\"brainstorming\":\"92917073\",\"charts\":\"a8695c17\",\"dashboard\":\"030c0685\",\"details~map\":\"8a324763\",\"details\":\"e45c7c88\",\"map\":\"dc687b38\",\"list\":\"6a9f041e\",\"match\":\"4e5ee524\",\"preferences\":\"a2815486\",\"firebase\":\"31d6cfe0\",\"mapbox\":\"31d6cfe0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/next/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n<button :class=\"className\">\n    <span class=\"mdc-button__ripple\"></span>\n    <span class=\"mdc-button__label\"><slot/></span>\n</button>\n</template>\n\n<script lang=\"ts\">\nimport { MDCRipple } from '@material/ripple';\nimport { Vue, Prop } from 'vue-property-decorator';\n\nexport default class MaterialButton extends Vue {\n\n    @Prop(Boolean) readonly outlined?: boolean;\n    @Prop(Boolean) readonly raised?: boolean;\n\n    private ctrl?: MDCRipple;\n\n    get className(): string {\n        let name = 'mdc-button';\n        if (this.outlined) {\n            name += ' mdc-button--outlined';\n        } else if (this.raised) {\n            name += ' mdc-button--raised';\n        }\n        return name;\n    }\n\n    mounted() {\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    updated() {\n        this.ctrl?.destroy();\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    unmounted() {\n        this.ctrl?.destroy();\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@use '~@material/button/styles';\n</style>","\nimport { MDCRipple } from '@material/ripple';\nimport { Vue, Prop } from 'vue-property-decorator';\n\nexport default class MaterialButton extends Vue {\n\n    @Prop(Boolean) readonly outlined?: boolean;\n    @Prop(Boolean) readonly raised?: boolean;\n\n    private ctrl?: MDCRipple;\n\n    get className(): string {\n        let name = 'mdc-button';\n        if (this.outlined) {\n            name += ' mdc-button--outlined';\n        } else if (this.raised) {\n            name += ' mdc-button--raised';\n        }\n        return name;\n    }\n\n    mounted() {\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    updated() {\n        this.ctrl?.destroy();\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    unmounted() {\n        this.ctrl?.destroy();\n    }\n}\n","import { render } from \"./Button.vue?vue&type=template&id=79013cda\"\nimport script from \"./Button.vue?vue&type=script&lang=ts\"\nexport * from \"./Button.vue?vue&type=script&lang=ts\"\n\nimport \"./Button.vue?vue&type=style&index=0&id=79013cda&lang=scss\"\nscript.render = render\n\nexport default script","import { Store } from 'vuex';\nimport { State } from '@/store/state';\n\nimport { NominationData, Predicator } from '@/service/nomination';\n\nexport namespace dia {\n\n    const databaseName = 'potori';\n    const databaseVersion = 1;\n    const storeName = 'nomination';\n\n    let _store: Store<State>;\n    let database: IDBDatabase | undefined = undefined;\n\n    export function init(store: Store<State>) {\n        _store = store;\n        const request = window.indexedDB.open(databaseName, databaseVersion);\n        return new Promise<boolean>((resolve, reject) => {\n            request.onsuccess = () => {\n                database = request.result;\n                _store.commit('dia/saved');\n                resolve(true);\n            };\n            request.onerror = () => reject(request.error);\n            request.onupgradeneeded = () => {\n                request.result.createObjectStore(storeName, {\n                    keyPath: 'id', autoIncrement: false\n                });\n            };\n        });\n    }\n\n    export function count(predicator?: Predicator) {\n        return new Promise<number>((resolve, _) => {\n            const store = getStore('readonly');\n            if (!store) {\n                resolve(0);\n                return;\n            }\n            if (predicator) {\n                const request = store.getAll();\n                request.onsuccess = () => {\n                    let result = request.result as Array<NominationData>;\n                    if (predicator) result = result.filter(predicator);\n                    resolve(result.length);\n                }\n                request.onerror = () => resolve(0);\n            } else {\n                const request = store.count();\n                request.onsuccess = () => resolve(request.result);\n                request.onerror = () => resolve(0);\n            }\n        });\n    }\n\n    export function get(id: string) {\n        return new Promise<NominationData | undefined>((resolve, _) => {\n            const store = getStore('readonly');\n            if (!store) {\n                resolve(undefined);\n                return;\n            }\n            const request = store.get(id);\n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => resolve(undefined);\n        });\n    }\n\n    export function getAll(predicator?: Predicator) {\n        return new Promise<Array<NominationData>>((resolve, _) => {\n            const store = getStore('readonly');\n            if (!store) {\n                resolve([]);\n                return;\n            }\n            const request = store.getAll();\n            request.onsuccess = () => {\n                let result = request.result as Array<NominationData>;\n                if (predicator) result = result.filter(predicator);\n                resolve(result);\n            }\n            request.onerror = () => resolve([]);\n        });\n    }\n\n    export async function save(nomination: NominationData) {\n        return new Promise<void>(resolve => {\n            const store = getStore('readwrite');\n            if (!store) {\n                resolve();\n                return;\n            }\n            const request = store.put(nomination);\n            request.onsuccess = () => {\n                saved();\n                resolve();\n            }\n            request.onerror = () => resolve;\n        });\n    }\n\n    export async function saveAll(nominations: Array<NominationData>) {\n        await Promise.allSettled(nominations.map(nomination => save(nomination)));\n        saved();\n    }\n\n    export async function remove(id: string) {\n        return new Promise<void>(resolve => {\n            const store = getStore('readwrite');\n            if (!store) {\n                resolve();\n                return;\n            }\n            const request = store.delete(id);\n            request.onsuccess = () => {\n                saved();\n                resolve();\n            };\n            request.onerror = () => resolve();\n        });\n    }\n\n    export async function clear() {\n        return new Promise<void>(resolve => {\n            const store = getStore('readwrite');\n            if (!store) {\n                resolve();\n                return;\n            }\n            const request = store.clear();\n            request.onsuccess = () => {\n                saved();\n                resolve();\n            };\n            request.onerror = () => resolve();\n        });\n    }\n\n    function getStore(mode: IDBTransactionMode): IDBObjectStore | undefined {\n        if (!database) return undefined;\n        return database.transaction([ storeName ], mode).objectStore(storeName);\n    }\n\n    function saved() {\n        _store.commit('dia/saved');\n    }\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Button.vue?vue&type=style&index=0&id=79013cda&lang=scss\"","import { MessageCallback } from '@/service/types';\n\nexport namespace delibird {\n    interface Events {\n        alert   : MessageCallback,  // Triggered when alert raised\n        inform  : MessageCallback,  // Triggered when some information should be passed to user\n    }\n\n    export const events: Events = {\n        alert   : () => { },\n        inform  : () => { },\n    }\n\n    export function alert(message: string) {\n        events.alert(message);\n    }\n\n    export function inform(message: string) {\n        events.inform(message);\n    }\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Snackbar.vue?vue&type=style&index=0&id=12cf8ebd&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IconRaw.vue?vue&type=style&index=0&id=cd6e7afa&lang=scss\"","export type AuthStatusChangedCallback = (signedIn: boolean) => void;\ntype ErrorCallback = (message: string) => void;\n\n/**\n * Events for {@link AuthKit}\n */\ninterface AuthKitEvents {\n    authStatusChanged: AuthStatusChangedCallback;   // Triggered when sign-in or sign-out\n    error: ErrorCallback;   // Triggered when gapi.auth error occures\n}\n\n/**\n * Handle GAPI authentication\n */\nexport default class AuthKit {\n\n    events: AuthKitEvents = {\n        authStatusChanged: () => { },\n        error: () => { },\n    };\n\n    init() {\n        if (navigator.onLine) {\n            gapi.load('client:auth2', () => this.initClient());\n        }\n    }\n\n    /**\n     * Initialize the GAPI and load client libraries\n     */\n    private initClient() {\n        gapi.client.init({\n            apiKey: 'AIzaSyCqIaS8UizqjWrIKm5zV3_S8EffCWjKR-A',\n            clientId: '361295761775-qshg0f5buh495dhubp4v5bignk7i5dh1.apps.googleusercontent.com',\n            discoveryDocs: [\n                'https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest',\n                'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'\n            ],\n            scope: [\n                'https://www.googleapis.com/auth/gmail.readonly',\n                'https://www.googleapis.com/auth/drive.file',\n                'https://www.googleapis.com/auth/drive.appdata'\n            ].join(' '),\n        }).then(\n            () => {\n                // Listen for sign-in state changes.\n                gapi.auth2.getAuthInstance().isSignedIn.listen(this.events.authStatusChanged);\n                // Handle the initial sign-in state.\n                this.events.authStatusChanged(this.signedIn);\n            },\n            this.events.error\n        );\n    }\n\n    /**\n     * Get authentication status, signed in or not\n     */\n    get signedIn() {\n        return navigator.onLine && gapi.auth2.getAuthInstance().isSignedIn.get();\n    }\n\n    /**\n     * Get the token for accessing the account\n     */\n    get accessToken() {\n        return gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token;\n    }\n\n    /**\n     * Sign in\n     */\n    signIn() {\n        gapi.auth2.getAuthInstance().signIn();\n    }\n\n    /**\n     * Sign out\n     */\n    signOut() {\n        gapi.auth2.getAuthInstance().signOut();\n    }\n}","type FileValidator = (file: gapi.client.drive.File) => boolean;\n\n/**\n * Download and upload from / to Google Drive\n */\nexport default class GoogleDriveKit {\n\n    private static readonly folder = 'appDataFolder';   // The private folder in Google Drive\n\n    private ids: Map<string, string> = new Map();   // ID of files, <filename, id>\n\n    /**\n     * Download file from Google Drive.\n     * \n     * The caller should decide whether to delete the current one & download\n     * next one or not by return a boolean\n     * \n     * @param filename Name of the file to download\n     * @param callback Triggered when a file is downloaded\n     */\n    async download(filename: string, validator: FileValidator) {\n        const listResponse = await gapi.client.drive.files.list({\n            q: `name = '${filename}'`,\n            pageSize: 10,\n            spaces: GoogleDriveKit.folder,\n            fields: 'files(id)'\n        });\n        if (!listResponse.result.files) return undefined;\n        const list = listResponse.result.files;\n        for (const file of list) {\n            if (!file.id) continue;\n            const fileResponse = await gapi.client.drive.files.get({\n                fileId: file.id,\n                alt: 'media'\n            });\n            const solidFile = fileResponse.result;\n            if (validator(solidFile)) {\n                this.ids.set(filename, file.id);\n                return solidFile;\n            }\n            gapi.client.drive.files.delete({ fileId: file.id })\n        }\n    }\n\n    /**\n     * Upload file to Google Drive\n     * @param filename Filename to upload\n     * @param mimeType MIME type of the file\n     * @param blob Content to upload\n     * @param token The Google account access token\n     * @param callback Triggered when process finished\n     */\n    async upload(filename: string, mimeType: string, blob: Blob, token: string) {\n        // Ref: https://gist.github.com/tanaikech/bd53b366aedef70e35a35f449c51eced\n        let url = '';\n        let method = '';\n        const metadata: any = {\n            name: filename,\n            mimeType: mimeType,\n        };\n        // Using parent in Update will cause 403\n        if (this.ids.has(filename)) {\n            method = 'PATCH';\n            url = `https://www.googleapis.com/upload/drive/v3/files/${this.ids.get(filename)}?uploadType=multipart`;\n        } else {\n            method = 'POST';\n            url = 'https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart';\n            metadata.parents = [ GoogleDriveKit.folder ];\n        }\n        const form = new FormData();\n        form.append('metadata', new Blob([JSON.stringify(metadata)], { type: mimeType }));\n        form.append('file', blob);\n        const authHeader = `Bearer ${token}`;\n        let response: any | undefined;\n        try {\n            const responseRaw = await fetch(url, {\n                method: method,\n                headers: new Headers({ Authorization: authHeader }),\n                body: form,\n            });\n            response = await responseRaw.json();\n        } catch {\n            return false;\n        }\n        if (!response || typeof response.id !== 'string') return false;\n        this.ids.set(filename, response.id);\n        return true;\n    }\n}","import { util } from '@/service/utils';\nimport AuthKit from './auth';\nimport GoogleDriveKit from './drive';\n\ntype BasicCallback = () => void;\n\nexport default class GoogleKit {\n\n    auth = new AuthKit();\n    drive = new GoogleDriveKit();\n\n    init(callback: BasicCallback) {\n        util.loadScript('https://apis.google.com/js/api.js')\n            .then(() => {\n                callback();\n            });\n    }\n}","import { umi } from '@/service/umi';\nimport Nomination, { LngLat } from '@/service/nomination';\n\n/**\n * Parsers for mail content\n */\nexport namespace parser {\n    /**\n     * Parse the full mail to nomination\n     * @param mail The full mail to parse\n     * @param status Statue of the mail\n     * @param scanner Scanner of the mail\n     * @returns The parsed nomination\n     */\n    export function parse(\n        mail: gapi.client.gmail.Message,\n        status: umi.StatusCode,\n        scanner: umi.ScannerCode\n    ): Nomination {\n        const nomination = new Nomination();\n        nomination.status = status;\n        nomination.scanner = scanner;\n        if (status === umi.StatusCode.Pending) {\n            nomination.confirmedTime = parseInt(mail.internalDate!);\n            nomination.confirmationMailId = mail.id!;\n        } else {\n            nomination.resultTime = parseInt(mail.internalDate!);\n            nomination.resultMailId = mail.id!;\n        }\n\n        // Subject -> Title\n        for (const header of mail.payload!.headers!) {\n            if (header.name === 'Subject') {\n                const matched = header.value!.match(/[:：](.+)/);\n                if (matched && matched.length > 1) {\n                    nomination.title = matched[1].trim();\n                }\n                break;\n            }\n        }\n\n        // Body -> image, id, lngLat and reason\n        for (const part of mail.payload!.parts!) {\n            if (part.partId !== '1') continue;\n            const mailBody = base64(part.body!.data!);\n            const matched = mailBody.match(/(?:googleusercontent|ggpht)\\.com\\/([0-9a-zA-Z\\-\\_]+)/);\n            if (matched && matched.length > 1) {\n                nomination.image = matched[1];\n                nomination.id = Nomination.parseId(nomination.image);\n            }\n            if (scanner === umi.ScannerCode.Redacted && status !== umi.StatusCode.Pending) {\n                nomination.lngLat = lngLat(mailBody);\n            }\n            if (status === umi.StatusCode.Rejected) {\n                nomination.status = umi.StatusCode.Rejected;\n                nomination.reasons = reason(mailBody, scanner);\n            }\n            break;\n        }\n        return nomination;\n    }\n\n    /**\n     * Parse the reject reason from mail body\n     * @param mail Body (content) of the mail\n     * @param scanner The scanner key for fetch the keywords\n     */\n    function reason(mail: string, scanner: umi.ScannerCode): Array<umi.ReasonCode> {\n        const matchedMainBody = mail.match(/(\\n|\\r|.)+?\\-NianticOps/);\n        if (!matchedMainBody || matchedMainBody.length < 1) {\n            return [ ];\n        }\n        const mainBody = matchedMainBody[0];\n\n        const indexReasons: Array<[number, umi.ReasonCode]> = []\n        for (const [code, reason] of umi.reason) {\n            const keywords = reason.keywords.get(scanner);\n            if (!keywords) continue;\n            for (const keyword of keywords) {\n                const pos = mainBody.search(keyword);\n                if (pos < 0) continue;\n                indexReasons.push([pos, code]);\n                break;\n            }\n        }\n        return indexReasons\n            .sort((a, b) => a[0] > b[0] ? 1 : -1)\n            .map((pair) => pair[1]);\n    }\n\n    /**\n     * Parse the location from mail body, only redacted mails contain location\n     * @param mail Body (content) of the mail\n     */\n    function lngLat(mail: string): LngLat | undefined {\n        const matched = mail.match(/www\\.ingress\\.com\\/intel\\?ll\\=([\\.\\d]+),([\\.\\d]+)/);\n        if (!matched || matched.length < 3) {\n            return undefined;\n        }\n        return {\n            lng: parseFloat(matched[2]),\n            lat: parseFloat(matched[1])\n        };\n    }\n\n    /**\n     * Decode base64\n     * @param text Base64 encoded text\n     * @see https://nelluil.postach.io/post/btoa-atob-zhi-yuan-zhong-wen-de-fang-fa\n     * @see https://cnodejs.org/topic/4fd6b7ba839e1e581407aac8\n     */\n    function base64(text: string) {\n        return unescape(\n            decodeURIComponent(\n                escape(window.atob(text.replace(/\\-/g, '+').replace(/\\_/g, '/')))\n            )\n        );\n    }\n}","import type { VueI18n } from 'vue-i18n';\nimport { Store } from 'vuex'\nimport { toRaw } from '@vue/reactivity';\n\nimport type { State } from '@/store/state';\nimport { brainstorming } from './brainstorming';\nimport { delibird } from './delibird';\nimport { dia } from './dia';\nimport { preferences } from './preferences';\nimport { umi } from './umi';\nimport { util } from './utils';\nimport { CountCallback } from './types';\nimport GoogleKit from './google';\nimport Mari from './mari';\nimport Nomination, { NominationData, NominationJSON } from './nomination';\n\nexport enum ServiceStatus {\n    idle,\n    processingMails,\n    requestMatch,\n    queryingBrainstorming,\n    syncing\n}\n\nexport namespace service {\n\n    export import Status = ServiceStatus;\n\n    enum Filename {\n        nominations = 'nominations.json',\n        legacy = 'potori.json'\n    }\n\n    export interface MatchPack {\n        target: Nomination;\n        candidates: Array<Nomination>;\n        selected: string;\n    }\n\n    export interface MatchData {\n        packs: Array<MatchPack>;\n        callback: () => void;\n    }\n\n    const mimeJSON = 'application/json';\n\n    const google = new GoogleKit();\n    const mari = new Mari();\n    let _store: Store<State>;\n\n    export const matchData: MatchData = {\n        packs: [],\n        callback: () => { }\n    };\n\n    export const errors: Array<ErrorEvent> = [];\n\n    export function init(store: Store<State>, i18n: VueI18n<unknown, unknown, unknown>) {\n        _store = store;\n\n        window.addEventListener('error', (errorEvent) => {\n            errors.push(errorEvent);\n        });\n\n        dia.init(_store);\n        brainstorming.init();\n        umi.init(i18n);\n\n        google.init(() => {\n            google.auth.events.authStatusChanged = (authed) => {\n                _store.commit('google/setAuthed', authed);\n                _store.commit('google/loaded');\n            };\n            google.auth.init();\n\n            mari.events.alert = (message) => {\n                delibird.alert(message);\n            }\n            mari.events.progress = (progress) => {\n                setProgress(progress);\n            };\n            mari.init();\n        });\n    }\n\n    export function signIn() {\n        google.auth.signIn();\n    }\n\n    export function signOut() {\n        google.auth.signOut();\n    }\n\n    export async function refresh() {\n        if (preferences.google.sync()) await download(Filename.nominations);\n        setProgress(0);\n        setStatus(Status.processingMails);\n        const raws = await dia.getAll()\n        await mari.start(raws);\n        const matchTargets: Array<Nomination> = [];\n        const reduced = raws.reduce((list, raw) => {\n            if (raw.id.length < 1) {\n                console.log(`service.arrange: Need match: #${raw.id}[${raw.title}]`);\n                matchTargets.push(Nomination.from(raw));\n                return list;\n            }\n            // Merge\n            let merged = false;\n\n            for (const target of list) {\n                if (target.merge(raw)) {\n                    merged = true;\n                    break;\n                }\n            }\n            if (!merged) {\n                list.push(Nomination.from(raw));\n            }\n            return list;\n        }, new Array<Nomination>());\n        console.log(`service.arrange: ${raws.length} reduced to ${reduced.length}`);\n        if (matchTargets.length > 0) {\n            await match(matchTargets, reduced);\n        }\n        if (preferences.brainstorming.autoQueryFirebase()) {\n            await queryBrainstorming(reduced);\n        }\n        if (preferences.google.sync()) {\n            await upload();\n        }\n        await dia.saveAll(reduced);\n        setStatus(Status.idle);\n    }\n\n    export async function updateBrainstorming() {\n        setStatus(Status.queryingBrainstorming);\n        const count = await brainstorming.update(await dia.getAll(), progress => {\n            setProgress(progress);\n        });\n        setStatus(Status.idle);\n        return count;\n    }\n\n    export async function sync() {\n        await download(Filename.nominations);\n        await upload();\n    }\n\n    export async function upload() {\n        setStatus(Status.syncing);\n        const blob = await getNominationsJSONBlod();\n        await google.drive.upload(Filename.nominations, mimeJSON, blob, google.auth.accessToken);\n        setStatus(Status.idle);\n    }\n\n    export function migrate(callback: CountCallback) {\n        download(Filename.legacy).then(count => {\n            setStatus(Status.idle);\n            callback(count);\n        })\n    }\n\n    export async function importNominationsFile(): Promise<number> {\n        const content = await util.importFile();\n        try {\n            const list = JSON.parse(content) as Array<NominationData>;\n            const count = await importNominations(list);\n            return count;\n        } catch (error) {\n            return 0;\n        }\n    }\n\n    export async function exportNominationsFile() {\n        const blob = await getNominationsJSONBlod();\n        util.exportFile(Filename.nominations, blob);\n    }\n\n    /**\n     * Import JSON from Wayfarer API response\n     * \n     * Error codes\n     * - `-1` Parse error\n     * - `-2` Invalid data\n     * @param json Raw JSON\n     * @returns Count of updated nominations or error code\n     */\n    export async function importWayfarerJSON(json: string): Promise<number> {\n        let parsed;\n        try {\n            parsed = JSON.parse(json);\n        } catch (error) {\n            // Parse error\n            return -1;\n        }\n        if (!parsed.result || parsed.result.length < 1) {\n            // Invalid data\n            return -2;\n        }\n\n        const nominations = await dia.getAll();\n        const mapNomination = nominations.reduce((map, nomination) => {\n            map.set(nomination.id, nomination);\n            return map;\n        }, new Map<string, NominationData>());\n        \n        let count = 0;\n        for (const data of parsed.result) {\n            const id = Nomination.parseId(data.imageUrl);\n            const nomination = mapNomination.get(id);\n            if (!nomination) continue;\n            nomination.title = data.title;\n            nomination.lngLat = {\n                lng: parseFloat(data.lng),\n                lat: parseFloat(data.lat)\n            };\n            count += 1;\n        }\n        await dia.saveAll(nominations);\n        return count;\n    }\n\n    /**\n     * Some result mails don't contain image URL, should match from pending nominations manually.\n     * @param targets Nominations without image\n     * @param list Normal nominations\n     */\n     async function match(targets: Array<Nomination>, list: Array<Nomination>) {\n        const pendings = list.filter(umi.status.get(umi.StatusCode.Pending)!.predicator);\n        const packs: Array<MatchPack> = [];\n        for (const target of targets) {\n            const checkScanner = target.scanner !== umi.ScannerCode.Unknown;\n            const candidates = pendings.filter((nomination) => {\n                if (nomination.title !== target.title) return false;\n                if (nomination.confirmedTime >= target.resultTime) return false;\n                if (checkScanner && nomination.scanner !== umi.ScannerCode.Unknown && nomination.scanner !== nomination.scanner) return false;\n                return true;\n            });\n            if (candidates.length < 1) continue;\n            packs.push({ target: target, candidates: candidates, selected: '' });\n        }\n        return new Promise<void>((resolve) => {\n            if (packs.length < 1) {\n                resolve();\n                return;\n            }\n            matchData.packs = packs;\n            matchData.callback = () => {\n                matchData.callback = () => { };\n                for (const pack of matchData.packs) {\n                    if (pack.selected.length < 1) continue;\n                    for (const candidate of pack.candidates) {\n                        if (candidate.id !== pack.selected) continue;\n                        pack.target.image = candidate.image;\n                        pack.target.id = candidate.id;\n                        break;\n                    }\n                    if (pack.target.id.length < 1) continue;\n                    for (const nomination of list) {\n                        nomination.merge(pack.target);\n                    }\n                }\n                matchData.packs = [];\n                resolve();\n            };\n            setStatus(Status.requestMatch);\n        });\n    }\n\n    async function queryBrainstorming(list: Array<Nomination>) {\n        setStatus(Status.queryingBrainstorming);\n        let count = 0;\n        for (const nomination of list) {\n            count++;\n            if (nomination.lngLat) {\n                setProgress(count / list.length);\n                continue;\n            }\n            const record = await brainstorming.query(nomination).catch(_ => undefined);\n            if (!record) {\n                setProgress(count / list.length);\n                continue;\n            }\n            nomination.lngLat = {\n                lng: parseFloat(record.lng), lat: parseFloat(record.lat)\n            };\n            setProgress(count / list.length);\n        }\n    }\n\n    function setStatus(status: Status) {\n        _store.commit('service/setStatus', status);\n    }\n\n    function setProgress(progress: number) {\n        _store.commit('progress/setProgress', progress);\n    }\n\n    async function download(filename: Filename) {\n        setStatus(Status.syncing);\n        const file = await google.drive.download(filename, content => {\n            try {\n                const list = content as Array<NominationJSON>;\n                list.forEach(data => Nomination.from(data));\n            } catch {\n                return false;\n            }\n            return true;\n        });\n        if (!file) return 0;\n        return await importNominations(file as Array<NominationJSON>);\n    }\n\n    async function importNominations(list: Array<NominationJSON>): Promise<number> {\n        let count = 0;\n        try {\n            const sources = list.map(data => Nomination.from(data));\n            const raws = await dia.getAll();\n            const nominations = raws.map(raw => Nomination.from(raw));\n            for (const nomination of sources) {\n                let merged = false;\n                for (const target of nominations) {\n                    merged = target.merge(nomination);\n                    if (merged) {\n                        count += 1;\n                        break;\n                    }\n                }\n                if (merged) continue;\n                nominations.push(nomination);\n            }\n            await dia.saveAll(nominations.map(nomination => nomination.data));\n        } catch (error) {\n            count = 0;\n        }\n        return count;\n    }\n\n    async function getNominationsJSONBlod(): Promise<Blob> {\n        const raws = await dia.getAll();\n        const jsons = raws.map(raws => Nomination.from(raws).json);\n        return new Blob(\n            [ JSON.stringify(jsons, null, 4) ],\n            { type: mimeJSON }\n        )\n    }\n}","import { preferences } from '@/service/preferences';\nimport { umi } from '@/service/umi';\nimport { MessageCallback, ProgressCallback } from '@/service/types';\nimport Nomination, { NominationData } from '@/service/nomination';\n\nimport { parser } from './parser';\n\n/**\n * Events for {@link Mari}\n */\ninterface MariEvents {\n    alert:      MessageCallback;    // Triggered when alert should be displayed\n    progress:   ProgressCallback,   // Triggered when main progress update\n}\n\n/**\n * Item of {@link Progress}\n */\nclass ProgressItem {\n    total: number = 0;\n    finished: number = 0;\n\n    clear() {\n        this.total = 0;\n        this.finished = 0;\n    }\n\n    /**\n     * Detect if the progress is not 100%\n     */\n    get left() {\n        return this.finished < this.total;\n    }\n\n    /**\n     * The percentage of progress\n     */\n    get percent() {\n        return this.total === 0 ? 0.0 : (this.finished / this.total);\n    }\n}\n\n/**\n * Manage the progress of mail processing\n */\nclass Progress {\n\n    lists = new ProgressItem();\n    messages = new ProgressItem();\n\n    onProgress  : ProgressCallback  = () => { };    // Triggered when a message finished if all lists are finished\n\n    /**\n     * Clear all progress\n     */\n    clear() {\n        this.lists.clear();\n        this.messages.clear();\n    }\n\n    /**\n     * Add a WIP list\n     */\n    addList() {\n        this.lists.total += 1;\n    }\n\n    /**\n     * Finish a list and check finish\n     * @param messages Count of the messages to process\n     */\n    finishList(messages: number) {\n        this.lists.finished += 1;\n        this.messages.total += messages;\n        this.onProgress(this.percent);\n        console.log(`Mari progress: [list][${this.lists.finished}/${this.lists.total}]`);\n    }\n\n    /**\n     * Finish a message and check finish\n     */\n    finishMessage() {\n        this.messages.finished += 1;\n        console.log(`Mari progress: [message][${this.messages.finished}/${this.messages.total}]`);\n        if (!this.lists.left) {\n            this.onProgress(this.percent);\n        }\n    }\n\n    /**\n     * Detect if there is list or message left\n     */\n    private get left() {\n        return this.lists.left || this.messages.left;\n    }\n\n    /**\n     * The percentage of progress\n     */\n    private get percent() {\n        if (this.lists.total === 0 || this.messages.total === 0) {\n            return 0.0\n        }\n        if (this.lists.left) {\n            return this.lists.percent * 0.2;\n        }\n        return 0.2 + this.messages.percent * 0.8;\n    }\n}\n\n/**\n * Query and process mails\n */\nexport default class Mari {\n\n    private queryAfter: string = '';\n    private ignoreIds: Array<string> = [];      // List of ids of mails that should be ignored\n    private nominations: Array<Nomination> = [];    // List of nominations\n\n    private progress = new Progress();  // Progress manager\n\n    events: MariEvents = {\n        alert:  () => {},\n        progress: () => {},\n    };\n\n    /**\n     * Initiate Mari\n     */\n    init() {\n        this.progress.onProgress = (percent) => this.events.progress(percent);\n    }\n\n    /**\n     * Start the process\n     * @param nominations Existing nominations\n     */\n    async start(nominations: Array<NominationData>) {\n        this.nominations.length = 0;\n        this.progress.lists.clear();\n        this.progress.messages.clear();\n\n        // Ignore the mails already in the list\n        this.ignoreIds = nominations.flatMap(nomination => {\n            return nomination.resultMailId.length > 0 \n                ? [ nomination.confirmationMailId, nomination.resultMailId ] : [ nomination.confirmationMailId ];\n        });\n        if (preferences.general.queryAfterLatest()) {\n            const latest = Math.floor(this.nominations.reduce((time, nomination) => {\n                return Math.max(time, nomination.confirmedTime, nomination.resultTime)\n            }, 0) / 1000);\n            this.queryAfter = ` after:${latest}`;\n        } else {\n            this.queryAfter = '';\n        }\n        const queries: Array<Promise<void>> = [];\n        for (const status of umi.status.values()) {\n            for (const scanner of status.queries.keys()) {\n                queries.push(this.query(status, scanner));\n            }\n        }\n        await Promise.allSettled(queries);\n        nominations.push(...this.nominations);\n        return;\n    }\n\n    /**\n     * Start to query message list\n     * @param status Status to query\n     * @param scanner Scanner to query\n     */\n    private async query(status: umi.Status, scanner: umi.ScannerCode) {\n        this.progress.addList();\n        // Query ID list\n        const ids: Array<string> = [];\n        let pageToken: string | undefined = undefined;\n        do {\n            type ListResponse = gapi.client.Response<gapi.client.gmail.ListMessagesResponse>;\n            const response: ListResponse = await gapi.client.gmail.users.messages.list({\n                userId: 'me',\n                q: `${status.queries.get(scanner)!}${this.queryAfter}`,\n                pageToken: pageToken\n            });\n            if (!response) break;\n            if (response.result.messages) {\n                const filtered = response.result.messages.filter(message => {\n                    if (!message.id) return false;\n                    return !this.ignoreIds.includes(message.id);\n                }).map(message => message.id!);\n                ids.push(...filtered);\n            }\n            pageToken = response.result.nextPageToken;\n        } while (pageToken);\n        this.progress.finishList(ids.length);\n        // Query and parse mails\n        for (const id of ids) {\n            const response = await gapi.client.gmail.users.messages.get({\n                userId: 'me',\n                id: id,\n                format: 'full',\n                metadataHeaders: 'Subject'\n            });\n            if (!response) continue;\n            const fullMail = response.result;\n            try {\n                const nomination = parser.parse(fullMail, status.code, scanner);\n                this.nominations.push(nomination);\n            } catch (error) {\n                let subject = '';\n                for (const header of fullMail.payload!.headers!) {\n                    if (header.name === 'Subject') {\n                        subject = header.value!;\n                        break;\n                    }\n                }\n                let details: string = error;\n                if ('message' in error) {\n                    const typedError = error as Error;\n                    details = typedError.stack || typedError.message;\n                }\n                this.events.alert(`An error occurs when parsing mail, you may report the mail ${subject}  with this message to developers: [${status}:${scanner}]${details}`);\n            }\n            this.progress.finishMessage();\n        }\n        return;\n    }\n}","import { eli } from \"@lucka-labs/eli\";\n\nexport namespace util {\n\n    export function copy(text: string) {\n        const textarea = eli('textarea', { value: text, readOnly: true });\n        document.body.append(textarea);\n        textarea.select();\n        document.execCommand('copy');\n        textarea.remove();\n    }\n\n    export function exportFile(filename: string, blob: Blob) {\n        const anchor = eli('a', {\n            href: URL.createObjectURL(blob),\n            download: filename,\n            hidden: true\n        });\n        document.body.append(anchor);\n        anchor.click();\n        anchor.remove();\n    }\n\n    export async function importFile() {\n        const input = eli('input', {\n            type: 'file',\n            accept: 'json',\n            hidden: true\n        });\n        return new Promise<string>(resolve => {\n            input.addEventListener('change', () => {\n                setTimeout(() => {\n                    input.remove();\n                }, 1000);\n                if (!input.files || input.files.length < 1) return;\n                const file = input.files[0];\n                const fileReader = new FileReader();\n                fileReader.onload = () => {\n                    if (typeof fileReader.result !== 'string') return;\n                    resolve(fileReader.result);\n                };\n                fileReader.readAsText(file);\n            }, false);\n            document.body.append(input);\n            input.click();\n        });\n    }\n\n    export async function loadScript(url: string) {\n        const script = eli('script', { src: url, defer: true });\n        return new Promise<void>(resolve => {\n            script.onload = () => {\n                resolve();\n            };\n            document.head.append(script);\n        });\n    }\n}","<template>\n<button class=\"fa mdc-icon-button\">\n    <material-icon-raw :icon=\"icon\"/>\n</button>\n</template>\n\n<script lang=\"ts\">\nimport { MDCRipple } from '@material/ripple';\nimport { Vue, Options, Prop } from 'vue-property-decorator';\n\nimport MaterialIconRaw from './IconRaw.vue';\n\n@Options({\n    components: {\n        MaterialIconRaw\n    },\n})\nexport default class MaterialTopAppBar extends Vue {\n\n    @Prop(String) readonly icon!: string;\n\n    private ctrl?: MDCRipple;\n\n    mounted() {\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    updated() {\n        this.ctrl?.destroy();\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    unmounted() {\n        this.ctrl?.destroy();\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@use '~@material/icon-button';\n\n@include icon-button.core-styles;\n</style>","\nimport { MDCRipple } from '@material/ripple';\nimport { Vue, Options, Prop } from 'vue-property-decorator';\n\nimport MaterialIconRaw from './IconRaw.vue';\n\n@Options({\n    components: {\n        MaterialIconRaw\n    },\n})\nexport default class MaterialTopAppBar extends Vue {\n\n    @Prop(String) readonly icon!: string;\n\n    private ctrl?: MDCRipple;\n\n    mounted() {\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    updated() {\n        this.ctrl?.destroy();\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    unmounted() {\n        this.ctrl?.destroy();\n    }\n}\n","import { render } from \"./IconButton.vue?vue&type=template&id=0b15f13c\"\nimport script from \"./IconButton.vue?vue&type=script&lang=ts\"\nexport * from \"./IconButton.vue?vue&type=script&lang=ts\"\n\nimport \"./IconButton.vue?vue&type=style&index=0&id=0b15f13c&lang=scss\"\nscript.render = render\n\nexport default script","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=68ba03c6&lang=scss\"","import { umi } from '@/service/umi';\n\nenum ParseErrorReason {\n    MISSING_ID = 'MISSING_ID',\n    MISSING_TITLE = 'MISSING_TITLE',\n    MISSING_IMAGE = 'MISSING_IMAGE',\n\n    INVALID_ID = 'INVALID_ID',\n    INVALID_IMAGE = 'INVALID_IMAGE'\n}\n\n/**\n * Location\n */\nexport interface LngLat {\n    lng: number;    // Longitude\n    lat: number;    // Latitude\n}\n\nexport interface NominationJSON {\n    id: string;     // Short ID, also brainstorming ID\n    title: string;  // Title\n    image: string;  // Hash part of the image URL\n    scanner: umi.ScannerCode;   // Scanner of the nomination\n\n    status: umi.StatusCode; // Status code\n    reasons?: Array<umi.ReasonCode>; // Reason codes\n\n    confirmedTime: number;  // Confirmed time, the timestamp of confirmation mail\n    confirmationMailId: string; // ID of confirmation mail\n    resultTime?: number; // Result time, the timestamp of result mail\n    resultMailId?: string;   // ID of result mail\n\n    lngLat?: LngLat;    // Location\n}\n\nexport interface NominationData extends NominationJSON {\n    reasons: Array<umi.ReasonCode>;\n    resultTime: number;\n    resultMailId: string;\n}\n\n/**\n * Nomination data\n */\nexport default class Nomination implements NominationData {\n\n    private static timestampSecondBound = 1E12;\n\n    /**\n     * Comparator for sorting by time\n     */\n    static readonly comparatorByTime = (a: NominationData, b: NominationData) => {\n        const timeA = a.resultTime ? a.resultTime : a.confirmedTime;\n        const timeB = b.resultTime ? b.resultTime : b.confirmedTime;\n        return timeA < timeB ? 1 : -1;\n    };\n\n    id = '';\n    title = '';\n    image = '';\n    scanner: umi.ScannerCode = umi.ScannerCode.Unknown;\n\n    status: umi.StatusCode = umi.StatusCode.Pending;\n    reasons: Array<umi.ReasonCode> = [];\n\n    confirmedTime = 0;\n    confirmationMailId = '';\n    resultTime = 0;\n    resultMailId = '';\n\n    lngLat?: LngLat = undefined;\n\n    /**\n     * Get the image URL\n     */\n    get imageUrl(): string {\n        return `https://lh4.googleusercontent.com/${this.image}`;\n    }\n\n    /**\n     * Get Intel Maps URL\n     */\n    get intelUrl(): string {\n        if (this.lngLat) {\n            return `https://intel.ingress.com/intel?ll=${this.lngLat.lat},${this.lngLat.lng}&z=18`;\n        } else {\n            return 'https://intel.ingress.com/intel';\n        }\n    }\n\n    /**\n     * Get Brainstorming watermeter URL\n     */\n    get bsUrl(): string {\n        return `https://brainstorming.azurewebsites.net/watermeter.html#${this.id}`;\n    }\n\n    get scannerData(): umi.Scanner {\n        return umi.scanner.get(this.scanner)!;\n    }\n\n    /**\n     * Get status data\n     */\n    get statusData(): umi.Status {\n        return umi.status.get(this.status)!;\n    }\n\n    /**\n     * Get data of reasons\n     */\n    get reasonsData(): Array<umi.Reason> {\n        return this.reasons.map((code) => {\n            return umi.reason.get(code)!;\n        });\n    }\n\n    /**\n     * Get the time of quota being restored\n     */\n    get restoreTime(): number {\n        return this.confirmedTime + (14 * 24 * 3600 * 1000);\n    }\n\n    get data(): NominationData {\n        let data: NominationData = {\n            id: this.id,\n            title: this.title,\n            image: this.image,\n            scanner: this.scanner,\n            status: this.status,\n            reasons: this.reasons,\n            confirmedTime: this.confirmedTime / 1000,\n            confirmationMailId: this.confirmationMailId,\n            resultTime: this.resultTime / 1000,\n            resultMailId: this.resultMailId\n        };\n        if (this.lngLat) {\n            data.lngLat = {\n                lng: this.lngLat.lng,\n                lat: this.lngLat.lat\n            };\n        }\n        return data;\n    }\n\n    /**\n     * Serialize to JSON\n     */\n    get json(): NominationJSON {\n        let json: NominationJSON = {\n            id: this.id,\n            title: this.title,\n            image: this.image,\n            scanner: this.scanner,\n            status: this.status,\n            confirmedTime: this.confirmedTime / 1000,\n            confirmationMailId: this.confirmationMailId,\n        };\n        if (this.reasons.length > 0) {\n            json.reasons = this.reasons;\n        }\n        if (this.resultTime) json.resultTime = this.resultTime / 1000;\n        if (this.resultMailId) json.resultMailId = this.resultMailId;\n        if (this.lngLat) {\n            json.lngLat = {\n                lng: this.lngLat.lng,\n                lat: this.lngLat.lat\n            };\n        }\n        return json;\n    }\n\n    /**\n     * Merge from another nomination\n     * @param nomination The nomination to merge from\n     * @returns Succeed or not\n     */\n    merge(nomination: NominationData): boolean {\n        if (this.id !== nomination.id) return false;\n        if (this.status === umi.StatusCode.Pending) {\n            this.title = nomination.title;\n            this.status = nomination.status;\n            this.reasons = nomination.reasons;\n            this.resultTime = nomination.resultTime;\n            this.resultMailId = nomination.resultMailId;\n        } else {\n            this.confirmedTime = nomination.confirmedTime;\n            this.confirmationMailId = nomination.confirmationMailId;\n        }\n        if (!this.lngLat) {\n            this.lngLat = nomination.lngLat;\n        }\n        return true;\n    }\n\n    /**\n     * Parse nomination from JSON\n     * @param json Raw JSON to be parsed\n     * @throws An `Error` when JSON missing `id`, `title` or `image`\n     */\n    static from(json: NominationJSON): Nomination {\n        if (!json.id) throw new Error(ParseErrorReason.MISSING_ID);\n        if (!json.title) throw new Error(ParseErrorReason.MISSING_TITLE);\n        if (!json.image) throw new Error(ParseErrorReason.MISSING_IMAGE);\n\n        // Fix old issues\n        const image = json.image.replace('\\r', '');\n\n        // Test format\n        if (!/^[a-zA-Z0-9]+$/.test(json.id)) {\n            throw new Error(ParseErrorReason.INVALID_ID);\n        }\n        if (!/^[0-9a-zA-Z\\-\\_]+$/.test(image)) {\n            throw new Error(ParseErrorReason.INVALID_IMAGE);\n        }\n\n        const nomination = new Nomination();\n        nomination.id = json.id;\n        nomination.title = json.title;\n        nomination.image = image;\n\n        if (json.scanner) {\n            nomination.scanner = json.scanner;\n        }\n\n        if (json.status === umi.StatusCode.Pending) {\n            nomination.status = umi.StatusCode.Pending;\n        } else if (json.status === umi.StatusCode.Accepted) {\n            nomination.status = umi.StatusCode.Accepted;\n        } else {\n            nomination.status = umi.StatusCode.Rejected;\n            if (json.status !== umi.Reason.undeclared) {\n                if (umi.reason.has(json.status)) {\n                    nomination.reasons.push(json.status);\n                }\n            }\n        }\n        if (json.reasons) {\n            for (const code of json.reasons) {\n                if (umi.reason.has(code) && !nomination.reasons.includes(code)) {\n                    nomination.reasons.push(code);\n                }\n            }\n        }\n\n        nomination.confirmedTime = json.confirmedTime > Nomination.timestampSecondBound ? json.confirmedTime : json.confirmedTime * 1000;\n        nomination.confirmationMailId = json.confirmationMailId;\n\n        if (json.resultTime) nomination.resultTime = json.resultTime > Nomination.timestampSecondBound ? json.resultTime : json.resultTime * 1000;\n        if (json.resultMailId) nomination.resultMailId = json.resultMailId;\n\n        if (json.lngLat) {\n            nomination.lngLat = {\n                lng: json.lngLat.lng,\n                lat: json.lngLat.lat,\n            }\n        }\n        return nomination;\n    }\n\n    /**\n     * Convert hash part of image URL to short ID\n     * @param imgUrl Hash part of the image URL\n     */\n    static parseId(imgUrl: string): string {\n        return imgUrl.replace(/[^a-zA-Z0-9]/g, '').slice(-10).toLowerCase();\n    }\n}\n\n/**\n * Callback for Array<Nomination>.filter()\n */\nexport type Predicator = (nomination: NominationData) => boolean;","import type { Reference } from '@firebase/database-types';\n\nimport { umi } from '@/service/umi';\nimport { util } from '../utils';\nimport { ProgressCallback } from '../types';\nimport Nomination, { NominationData } from '@/service/nomination';\n\n/**\n * Result for {@link BrainstormingKit.analyse}\n */\ninterface BrainstormingStats {\n    review: number,                     // Review count\n    nomination: number,                 // Count of nominations containing reviews\n    rate: Map<string, Array<number>>,   // Map of rate lists\n    reviewTimes: Array<number>,         // List of review timestamps\n    synch: {\n        total: number,  // Count of reviews of resulted nominations\n        synched: number // Count of reviews matches the result\n    },\n}\n\n/**\n * Host Brainstorming data and handle tasks related to Brainstorming\n */\nexport namespace brainstorming {\n\n    const mimeJSON = 'application/json';\n    const filename = 'bsdata.json';\n\n    export enum FailReason {\n        INDEXEDDB_ERROR = 'INDEXEDDB_ERROR',    // Unable to query local database\n        FIREBASE_ERROR  = 'FIREBASE_ERROR',     // Unable to query firebase\n        NOT_EXISTS      = 'NOT_EXISTS',         // Nomination not exists in local database or firebase\n        EARLY           = 'EARLY',              // Nomination got result before firebase exists\n    };\n\n    export interface ReviewRaw {\n        cultural: string;\n        description: string;\n        location: string;\n        quality: string;\n        safety: string;\n        uniqueness: string;\n    }\n\n    export interface Review {\n        JSON: ReviewRaw;\n        Timestamp: number;\n        author: string;\n        reasons: string;\n        stars: string;\n    }\n\n    export interface Record {\n        description: string;\n        hashTags: Array<string>;\n        imageUrl: string;\n        lastTime: number;\n        lat: string;\n        lng: string;\n        statement?: string;\n        streetAddress: string;\n        supportingImageUrl?: string;\n        title: string;\n        [name: string]: any | Review;\n    }\n\n    const databaseName = 'brainstorming';\n    const databaseVersion = 1;\n    const storeName = 'record';\n\n    let database: IDBDatabase | undefined = undefined;  // Local database\n    let reference: Reference | undefined = undefined;   // Firebase reference\n\n    export async function init() {\n        return new Promise<boolean>((resolve, reject) => {\n            const request = window.indexedDB.open(databaseName, databaseVersion);\n            request.onsuccess = () => {\n                database = request.result;\n                resolve(true);\n            };\n            request.onerror = () => reject(request.error);\n            request.onupgradeneeded = () => {\n                request.result.createObjectStore(storeName);\n            };\n        });\n    }\n\n    /**\n     * Query data from local databse and firebase (full version only)\n     * @param nomination Nomination to query\n     * @param succeed Triggered when succeed to query data\n     * @param failed Triggered when Failed to query data\n     */\n    export async function query(nomination: NominationData): Promise<Record> {\n        if (beforeCreate(nomination)) {\n            throw new Error(FailReason.EARLY);\n        }\n        let record = await queryDatabase(nomination.id).catch(error => {\n            throw error;\n        });\n        if (record) {\n            return record;\n        }\n        record = await queryFirebase(nomination.id).catch(error => {\n            throw error;\n        });\n        if (!record) throw new Error(FailReason.NOT_EXISTS);\n        return record;\n    }\n\n    /**\n     * Query firebase to update local database\n     * @param nominations Nomination list\n     * @param finish Triggered when all query finishes\n     */\n    export async function update(nominations: Array<NominationData>, callback: ProgressCallback): Promise<number> {\n        let succeed = 0;\n        let processed = 0;\n        const total = nominations.length;\n        const queries: Array<Promise<Record | undefined>> = [];\n        for (const nomination of nominations) {\n            if (beforeCreate(nomination)) {\n                processed++;\n                callback(processed / total);\n                continue;\n            }\n            const query = queryFirebase(nomination.id)\n                .then(record => {\n                    processed++;\n                    if (record) succeed++;\n                    callback(processed / total);\n                    return record;\n                })\n                .catch(_ => {\n                    processed++;\n                    callback(processed / total);\n                    return undefined;\n                })\n            queries.push(query);\n        }\n        await Promise.allSettled(queries);\n        return succeed;\n    }\n\n    export async function getFromLocal(nomination: NominationData) {\n        if (beforeCreate(nomination)) return undefined;\n        return await queryDatabase(nomination.id);\n    }\n\n    export async function contains(nomination: NominationData) {\n        if (beforeCreate(nomination)) return false;\n        const record = await queryDatabase(nomination.id);\n        return typeof record !== 'undefined';\n    }\n\n    export async function importDatabase() {\n        const content = await util.importFile();\n        let data: Map<string, Record>;\n        try {\n            data = new Map(JSON.parse(content));\n        } catch (error) {\n            return 0;\n        }\n        for (const [key, record] of data) save(key, record);\n        return data.size;\n    }\n\n    export async function exportDatabase(): Promise<number> {\n        const list = await getAll();\n        if (list.length < 1) return 0;\n        const pairs: Array<[string, Record]> = list.map(record => [ Nomination.parseId(record.imageUrl), record]);\n        const blob = new Blob(\n            [ JSON.stringify(pairs, null, 4) ],\n            { type: mimeJSON }\n        );\n        util.exportFile(filename, blob);\n        return pairs.length;\n    }\n\n    /**\n     * Clear local database\n     */\n     export function clear() {\n        const store = getStore('readwrite');\n        if (!store) return;\n        store.clear();\n    }\n\n    /**\n     * Check if the nomination got result before creation of firebase, should skip query if true\n     * @param nomination The nomination\n     */\n     export function beforeCreate(nomination: NominationData): boolean {\n        return nomination.status !== umi.StatusCode.Pending && nomination.resultTime < 1518796800000;\n    }\n\n    /**\n     * Query from the local IndexedDB database\n     * @param id Brainstorming ID\n     */\n    function queryDatabase(id: string) {\n        return new Promise<Record | undefined>((resolve, reject) => {\n            const store = getStore('readonly');\n            if (!store) {\n                reject(FailReason.INDEXEDDB_ERROR);\n                return;\n            }\n            const request = store.get(id);\n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => resolve(undefined);\n        });\n    }\n\n    /**\n     * Query from the Firebase database\n     * @param id Brainstorming ID\n     */\n    async function queryFirebase(id: string): Promise<Record | undefined> {\n        const [ firebase, _ ] = await Promise.all([\n            import(/* webpackChunkName: 'firebase' */ '@firebase/app'),\n            import(/* webpackChunkName: 'firebase' */ '@firebase/database'),\n        ]).catch(_ => {\n            throw new Error(FailReason.FIREBASE_ERROR);\n        });\n        if (!reference) {\n            const app = firebase.default.initializeApp({ databaseURL: 'https://oprbrainstorming.firebaseio.com' });\n            if (!reference) reference = app.database!().ref('c/reviews/');\n        }\n        const data = await reference.child(id).once('value').catch(_ => {\n            throw new Error(FailReason.FIREBASE_ERROR);\n        });\n        const record: Record | undefined = data.val();\n        if (record) save(id, record);\n        return record;\n    }\n\n    function getAll() {\n        return new Promise<Array<Record>>((resolve) => {\n            const store = getStore('readonly');\n            if (!store) {\n                resolve([]);\n                return;\n            }\n            const request = store.getAll();\n            request.onsuccess = () => {\n                resolve(request.result);\n            }\n            request.onerror = () => {\n                console.log(request.error);\n                resolve([]);\n            }\n        });\n    }\n\n    function save(id: string, record: Record) {\n        const store = getStore('readwrite');\n        if (!store) return;\n        store.put(record, id);\n    }\n\n    function getStore(mode: IDBTransactionMode): IDBObjectStore | undefined {\n        if (!database) return undefined;\n        return database.transaction([ storeName ], mode).objectStore(storeName);\n    }\n}","export namespace preferences {\n\n    export function set<T>(key: string, value: T) {\n        localStorage.setItem(key, JSON.stringify(value));\n    }\n\n    export function get<T>(key: string, def: T): T {\n        const value = localStorage.getItem(key);\n        if (value !== null) return JSON.parse(value);\n        return def;\n    }\n\n    export namespace general {\n\n        const keyQueryAfterLatest = 'potori.pref.general.queryAfterLatest';\n\n        export function queryAfterLatest(): boolean { return preferences.get(keyQueryAfterLatest, false); }\n        export function setQueryAfterLatest(value: boolean) { preferences.set(keyQueryAfterLatest, value); }\n    }\n\n    export namespace google {\n        \n        const keySync = 'potori.pref.google.sync';\n        \n        export function sync(): boolean { return preferences.get(keySync, false); }\n        export function setSync(value: boolean) { preferences.set(keySync, value); }\n    }\n\n    export namespace brainstorming {\n\n        const keyAutoQueryFirebase = 'potori.pref.brainstorming.autoQueryFirebase';\n\n        export function autoQueryFirebase(): boolean { return preferences.get(keyAutoQueryFirebase, false); }\n        export function setAutoQueryFirebase(value: boolean) { preferences.set(keyAutoQueryFirebase, value); }\n    }\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Dialog.vue?vue&type=style&index=0&id=cfbf7b90&lang=scss\"","<template>\n{{ symbol }}\n</template>\n\n<script lang=\"ts\">\nimport { Vue, Prop } from 'vue-property-decorator';\n\nconst IconSymbolMap: Record<string, string> = {\n    'search': '\\uf002',\n    'th-list'   : '\\uf00b',\n    'check' : '\\uf00c',\n    'times' : '\\uf00d',\n    'cog'   : '\\uf013',\n    'clock' : '\\uf017',\n    'redo'  : '\\uf01e',\n    'edit'  : '\\uf044',\n    'info-circle'   : '\\uf05a',\n    'arrow-left': '\\uf060',\n    'arrow-up'  : '\\uf062',\n    'plus'  : '\\uf067',\n    'calendar-alt'  : '\\uf073',\n    'folder-open'   : '\\uf07c',\n    'chart-bar' : '\\uf080',\n    'globe' : '\\uf0ac',\n    'angle-up'  : '\\uf106',\n    'angle-down': '\\uf107',\n    'ellipsis-v': '\\uf142',\n    'trash' : '\\uf1f8',\n    'map'   : '\\uf279',\n    'sync-alt'  : '\\uf2f1',\n    'sign-in-alt'   : '\\uf2f6',\n    'redo-alt'  : '\\uf2f9',\n    'pen'   : '\\uf304',\n    'map-marker-alt': '\\uf3c5',\n    'mobile-alt': '\\uf3cd',\n    'tachometer-alt': '\\uf3fd',\n    'user-check': '\\uf4fc',\n    'brain' : '\\uf5dc',\n}\n\nexport default class MaterialIconRaw extends Vue {\n\n    private static nameRegex = /^[a-z\\-]+$/;\n\n    @Prop(String) readonly icon!: string;\n\n    get symbol(): string {\n        if (MaterialIconRaw.nameRegex.test(this.icon)) {\n            return IconSymbolMap[this.icon];\n        } else {\n            return this.icon;\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n$fa-font-path: '~@fortawesome/fontawesome-free/webfonts';\n@import '~@fortawesome/fontawesome-free/scss/solid';\n@import '~@fortawesome/fontawesome-free/scss/mixins';\n@import '~@fortawesome/fontawesome-free/scss/core';\n@import '~@fortawesome/fontawesome-free/scss/fixed-width';\n</style>","\nimport { Vue, Prop } from 'vue-property-decorator';\n\nconst IconSymbolMap: Record<string, string> = {\n    'search': '\\uf002',\n    'th-list'   : '\\uf00b',\n    'check' : '\\uf00c',\n    'times' : '\\uf00d',\n    'cog'   : '\\uf013',\n    'clock' : '\\uf017',\n    'redo'  : '\\uf01e',\n    'edit'  : '\\uf044',\n    'info-circle'   : '\\uf05a',\n    'arrow-left': '\\uf060',\n    'arrow-up'  : '\\uf062',\n    'plus'  : '\\uf067',\n    'calendar-alt'  : '\\uf073',\n    'folder-open'   : '\\uf07c',\n    'chart-bar' : '\\uf080',\n    'globe' : '\\uf0ac',\n    'angle-up'  : '\\uf106',\n    'angle-down': '\\uf107',\n    'ellipsis-v': '\\uf142',\n    'trash' : '\\uf1f8',\n    'map'   : '\\uf279',\n    'sync-alt'  : '\\uf2f1',\n    'sign-in-alt'   : '\\uf2f6',\n    'redo-alt'  : '\\uf2f9',\n    'pen'   : '\\uf304',\n    'map-marker-alt': '\\uf3c5',\n    'mobile-alt': '\\uf3cd',\n    'tachometer-alt': '\\uf3fd',\n    'user-check': '\\uf4fc',\n    'brain' : '\\uf5dc',\n}\n\nexport default class MaterialIconRaw extends Vue {\n\n    private static nameRegex = /^[a-z\\-]+$/;\n\n    @Prop(String) readonly icon!: string;\n\n    get symbol(): string {\n        if (MaterialIconRaw.nameRegex.test(this.icon)) {\n            return IconSymbolMap[this.icon];\n        } else {\n            return this.icon;\n        }\n    }\n}\n","import { render } from \"./IconRaw.vue?vue&type=template&id=cd6e7afa\"\nimport script from \"./IconRaw.vue?vue&type=script&lang=ts\"\nexport * from \"./IconRaw.vue?vue&type=script&lang=ts\"\n\nimport \"./IconRaw.vue?vue&type=style&index=0&id=cd6e7afa&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n<router-view/>\n<material-dialog v-model=\"alertOpen\">{{ alertMessage }}</material-dialog>\n<material-snackbar :message=\"informMessage\" v-model=\"informOpen\"/>\n</template>\n\n<script lang=\"ts\">\nimport { useI18n } from 'vue-i18n';\nimport { Vue, Options } from 'vue-property-decorator';\n\nimport { delibird } from './service/delibird';\n\nimport MaterialDialog from '@/components/material/Dialog.vue';\nimport MaterialSnackbar from '@/components/material/Snackbar.vue';\n\n@Options({\n    components: {\n        MaterialDialog,\n        MaterialSnackbar\n    }\n})\nexport default class App extends Vue {\n\n    alertMessage: string = '';\n    alertOpen: boolean = false;\n\n    informMessage: string = '';\n    informOpen: boolean = false;\n\n    mounted() {\n        delibird.events.alert = (message) => {\n            this.alertMessage = message;\n            this.alertOpen = true;\n        };\n        delibird.events.inform = (message) => {\n            this.informMessage = message;\n            this.informOpen = true;\n        };\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@use './variables';\n@use '@material/theme' with (\n    $primary: variables.$primary,\n    $secondary: variables.$secondary,\n);\n@use '~@material/typography';\n@import url('https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap');\n\n@include theme.core-styles;\n\nhtml {\n    // Fix for iOS standalone mode\n    height: calc(100% + env(safe-area-inset-top, 0));\n}\n\nbody, #app {\n    margin: 0;\n    height: 100%;\n}\n\n#app {\n    @include typography.base();\n    display: flex;\n    flex-flow: column nowrap;\n\n    > main:not(.ignore-safe-area) {\n        margin-bottom: env(safe-area-inset-bottom);\n        margin-left: env(safe-area-inset-left);\n        margin-right: env(safe-area-inset-right);\n    }\n}\n</style>\n","<template>\n<div class=\"mdc-dialog\">\n    <div class=\"mdc-dialog__container\">\n        <div class=\"mdc-dialog__surface\" role=\"alertdialog\" aria-modal=\"true\">\n            <div class=\"mdc-dialog__content\">\n                <slot/>\n            </div>\n            <div class=\"mdc-dialog__actions\">\n                <slot name=\"actions\">\n                    <material-dialog-action :text=\"$t('discard')\" action=\"close\" as-default/>\n                </slot>\n            </div>\n        </div>\n    </div>\n    <div class=\"mdc-dialog__scrim\"></div>\n</div>\n</template>\n\n<script lang=\"ts\">\nimport { MDCDialog } from '@material/dialog';\nimport { Vue, Model, Options, Watch } from 'vue-property-decorator';\n\nimport MaterialDialogAction from './DialogAction.vue';\n\nimport locales from './Dialog.locales.json';\n\n@Options({\n    components: {\n        MaterialDialogAction\n    },\n    i18n: {\n        messages: locales\n    }\n})\nexport default class MaterialDialog extends Vue {\n\n    @Model('modelValue', { type: Boolean, default: false }) readonly value!: boolean;\n\n    private ctrl?: MDCDialog;\n\n    @Watch('value')\n    onValueChanged(newVal: boolean, _: string) {\n        if (!this.ctrl) return;\n        if (newVal) this.ctrl.open();\n    }\n\n    mounted() {\n        this.ctrl = MDCDialog.attachTo(this.$el);\n        this.ctrl.listen('MDCDialog:closed', () => {\n            this.$emit('update:modelValue', false);\n        });\n        if (this.value) this.ctrl.open();\n    }\n\n    unmounted() {\n        if (this.ctrl?.isOpen) this.ctrl?.close();\n        this.ctrl?.destroy();\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@use \"@material/dialog\";\n\n@include dialog.core-styles;\n</style>","<template>\n<material-button\n    type=\"button\" class=\"mdc-dialog__button\"\n    :data-mdc-dialog-action=\"action\"\n    :data-mdc-dialog-button-default=\"asDefault\">\n    {{ text }}\n</material-button>\n</template>\n\n<script lang=\"ts\">\nimport { Vue, Options, Prop } from 'vue-property-decorator';\n\nimport MaterialButton from './Button.vue';\n\n@Options({\n    components: {\n        MaterialButton\n    }\n})\nexport default class MaterialDialogAction extends Vue {\n    @Prop(String) readonly action?: string;\n    @Prop(Boolean) readonly asDefault?: boolean;\n    @Prop(String) readonly text!: string;\n}\n</script>\n\n<style lang=\"scss\">\n\n</style>","\nimport { Vue, Options, Prop } from 'vue-property-decorator';\n\nimport MaterialButton from './Button.vue';\n\n@Options({\n    components: {\n        MaterialButton\n    }\n})\nexport default class MaterialDialogAction extends Vue {\n    @Prop(String) readonly action?: string;\n    @Prop(Boolean) readonly asDefault?: boolean;\n    @Prop(String) readonly text!: string;\n}\n","import { render } from \"./DialogAction.vue?vue&type=template&id=5ae349b4\"\nimport script from \"./DialogAction.vue?vue&type=script&lang=ts\"\nexport * from \"./DialogAction.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { MDCDialog } from '@material/dialog';\nimport { Vue, Model, Options, Watch } from 'vue-property-decorator';\n\nimport MaterialDialogAction from './DialogAction.vue';\n\nimport locales from './Dialog.locales.json';\n\n@Options({\n    components: {\n        MaterialDialogAction\n    },\n    i18n: {\n        messages: locales\n    }\n})\nexport default class MaterialDialog extends Vue {\n\n    @Model('modelValue', { type: Boolean, default: false }) readonly value!: boolean;\n\n    private ctrl?: MDCDialog;\n\n    @Watch('value')\n    onValueChanged(newVal: boolean, _: string) {\n        if (!this.ctrl) return;\n        if (newVal) this.ctrl.open();\n    }\n\n    mounted() {\n        this.ctrl = MDCDialog.attachTo(this.$el);\n        this.ctrl.listen('MDCDialog:closed', () => {\n            this.$emit('update:modelValue', false);\n        });\n        if (this.value) this.ctrl.open();\n    }\n\n    unmounted() {\n        if (this.ctrl?.isOpen) this.ctrl?.close();\n        this.ctrl?.destroy();\n    }\n}\n","import { render } from \"./Dialog.vue?vue&type=template&id=cfbf7b90\"\nimport script from \"./Dialog.vue?vue&type=script&lang=ts\"\nexport * from \"./Dialog.vue?vue&type=script&lang=ts\"\n\nimport \"./Dialog.vue?vue&type=style&index=0&id=cfbf7b90&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n<aside class=\"mdc-snackbar\">\n    <div class=\"mdc-snackbar__surface\" role=\"status\" aria-relevant=\"additions\">\n        <div class=\"mdc-snackbar__label\" aria-atomic=\"false\"></div>\n        <div class=\"mdc-snackbar__actions\" aria-atomic=\"true\">\n            <material-icon-button class=\"mdc-snackbar__dismiss\" icon=\"times\"/>\n        </div>\n    </div>\n</aside>\n</template>\n\n<script lang=\"ts\">\nimport { MDCSnackbar } from '@material/snackbar';\nimport { Vue, Model, Options, Prop, Watch } from 'vue-property-decorator';\n\nimport MaterialIconButton from './IconButton.vue';\n\n@Options({\n    components: {\n        MaterialIconButton\n    }\n})\nexport default class MaterialSnackbar extends Vue {\n\n    @Model('modelValue', { type: Boolean, default: false }) readonly value!: boolean;\n    @Prop(String) readonly message!: string;\n\n    private ctrl?: MDCSnackbar;\n\n    @Watch('message')\n    onMessageChanged(newVal: string, _: string) {\n        if (!this.ctrl) return;\n        this.ctrl.labelText = newVal;\n    }\n\n    @Watch('value')\n    onValueChanged(newVal: boolean, _: string) {\n        if (!this.ctrl) return;\n        if (newVal) this.ctrl.open();\n    }\n\n    mounted() {\n        this.ctrl = MDCSnackbar.attachTo(this.$el);\n        this.ctrl.labelText = this.message;\n        this.ctrl.listen('MDCSnackbar:closed', () => {\n            this.$emit('update:modelValue', false);\n        });\n        if (this.value) this.ctrl.open();\n    }\n\n    unmounted() {\n        if (this.ctrl?.isOpen) this.ctrl?.close();\n        this.ctrl?.destroy();\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@use \"@material/snackbar/mdc-snackbar\";\n</style>","\nimport { MDCSnackbar } from '@material/snackbar';\nimport { Vue, Model, Options, Prop, Watch } from 'vue-property-decorator';\n\nimport MaterialIconButton from './IconButton.vue';\n\n@Options({\n    components: {\n        MaterialIconButton\n    }\n})\nexport default class MaterialSnackbar extends Vue {\n\n    @Model('modelValue', { type: Boolean, default: false }) readonly value!: boolean;\n    @Prop(String) readonly message!: string;\n\n    private ctrl?: MDCSnackbar;\n\n    @Watch('message')\n    onMessageChanged(newVal: string, _: string) {\n        if (!this.ctrl) return;\n        this.ctrl.labelText = newVal;\n    }\n\n    @Watch('value')\n    onValueChanged(newVal: boolean, _: string) {\n        if (!this.ctrl) return;\n        if (newVal) this.ctrl.open();\n    }\n\n    mounted() {\n        this.ctrl = MDCSnackbar.attachTo(this.$el);\n        this.ctrl.labelText = this.message;\n        this.ctrl.listen('MDCSnackbar:closed', () => {\n            this.$emit('update:modelValue', false);\n        });\n        if (this.value) this.ctrl.open();\n    }\n\n    unmounted() {\n        if (this.ctrl?.isOpen) this.ctrl?.close();\n        this.ctrl?.destroy();\n    }\n}\n","import { render } from \"./Snackbar.vue?vue&type=template&id=12cf8ebd\"\nimport script from \"./Snackbar.vue?vue&type=script&lang=ts\"\nexport * from \"./Snackbar.vue?vue&type=script&lang=ts\"\n\nimport \"./Snackbar.vue?vue&type=style&index=0&id=12cf8ebd&lang=scss\"\nscript.render = render\n\nexport default script","\nimport { useI18n } from 'vue-i18n';\nimport { Vue, Options } from 'vue-property-decorator';\n\nimport { delibird } from './service/delibird';\n\nimport MaterialDialog from '@/components/material/Dialog.vue';\nimport MaterialSnackbar from '@/components/material/Snackbar.vue';\n\n@Options({\n    components: {\n        MaterialDialog,\n        MaterialSnackbar\n    }\n})\nexport default class App extends Vue {\n\n    alertMessage: string = '';\n    alertOpen: boolean = false;\n\n    informMessage: string = '';\n    informOpen: boolean = false;\n\n    mounted() {\n        delibird.events.alert = (message) => {\n            this.alertMessage = message;\n            this.alertOpen = true;\n        };\n        delibird.events.inform = (message) => {\n            this.informMessage = message;\n            this.informOpen = true;\n        };\n    }\n}\n","import { render } from \"./App.vue?vue&type=template&id=68ba03c6\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=68ba03c6&lang=scss\"\nscript.render = render\n\nexport default script","// This file is generated by scripts/build-locals.ts\nimport en from './en.json'\nimport zh from './zh.json'\n\nexport default {\n    'en': en,\n    'zh': zh,\n};","import { createRouter, createWebHashHistory, RouteRecordRaw } from 'vue-router';\n\nconst routes: Array<RouteRecordRaw> = [\n    {\n        path: '/',\n        name: 'Dashboard',\n        component: () => import(/* webpackChunkName: 'dashboard' */ '@/views/Dashboard.vue')\n    },\n\n    {\n        path: '/charts',\n        name: 'Charts',\n        component: () => import(/* webpackChunkName: 'charts' */ '@/views/Charts.vue'),\n    },\n    {\n        path: '/brainstorming',\n        name: 'Brainstorming',\n        component: () => import(/* webpackChunkName: 'brainstorming' */ '@/views/Brainstorming.vue'),\n    },\n\n\n    {\n        path: '/list',\n        name: 'List',\n        component: () => import(/* webpackChunkName: 'list' */ '@/views/NominationList.vue'),\n    },\n    {\n        path: '/details',\n        name: 'Details',\n        component: () => import(/* webpackChunkName: 'details' */ '@/views/NominationDetails.vue'),\n    },\n    {\n        path: '/map',\n        name: 'Map',\n        component: () => import(/* webpackChunkName: 'map' */ '@/views/NominationMap.vue'),\n    },\n    {\n      path: '/preferences',\n      name: 'Preferences',\n      component: () => import(/* webpackChunkName: 'preferences' */ '@/views/Preferences.vue')\n    },\n\n    {\n        path: '/match',\n        name: 'Match',\n        component: () => import(/* webpackChunkName: 'match' */ '@/views/MatchView.vue')\n    },\n];\n\nconst router = createRouter({\n    history: createWebHashHistory('/next/'),\n    routes: routes,\n});\n\nexport default router\n","import { Module } from 'vuex';\n\nimport type { State } from '@/store/state';\n\nexport interface GoogleState {\n    loaded: boolean;\n    authed: boolean;\n}\n\nconst googleModule: Module<GoogleState, State> = {\n    namespaced: true,\n    state: {\n        loaded: false,\n        authed: false,\n    },\n    mutations: {\n        loaded(state: GoogleState) {\n            state.loaded = true;\n        },\n        setAuthed(state: GoogleState, payload: boolean) {\n            state.authed = payload;\n        },\n    }\n}\n\nexport default googleModule;","import { Module } from 'vuex';\n\nimport type { State } from '@/store/state';\n\nexport interface DiaState {\n    saveID: number;\n}\n\nconst diaModule: Module<DiaState, State> = {\n    namespaced: true,\n    state: {\n        saveID: 0\n    },\n    mutations: {\n        saved(state: DiaState, _) {\n            state.saveID++;\n        }\n    }\n}\n\nexport default diaModule;","import { Module } from 'vuex';\n\nimport type { State } from '@/store/state';\n\nexport interface ProgressState {\n    progress: number;\n    max: number;\n}\n\nconst progressModule: Module<ProgressState, State> = {\n    namespaced: true,\n    state: {\n        progress: 0,\n        max: 0\n    },\n    mutations: {\n        setProgress(state: ProgressState, payload: number) {\n            state.progress = payload;\n        },\n        setMax(state: ProgressState, payload: number) {\n            state.max = payload;\n        }\n    }\n}\n\nexport default progressModule;","import { Module } from 'vuex';\n\nimport type { State } from '@/store/state';\nimport { ServiceStatus } from '@/service';\n\nexport interface ServiceState {\n    status: ServiceStatus;\n}\n\nconst serviceModule: Module<ServiceState, State> = {\n    namespaced: true,\n    state: {\n        status: ServiceStatus.idle\n    },\n    mutations: {\n        setStatus(state: ServiceState, payload: ServiceStatus) {\n            state.status = payload;\n        },\n    }\n}\n\nexport default serviceModule;","import { createStore } from 'vuex'\n\nimport type { State } from './state';\nimport google from './modules/google';\nimport dia from './modules/dia';\nimport progress from './modules/progress';\nimport service from './modules/service';\n\nexport default createStore<State>({\n    modules: { service, dia, google, progress }\n});\n","import { createApp } from 'vue';\nimport { createI18n } from 'vue-i18n';\n\nimport { service } from './service';\nimport App from './App.vue';\nimport locales from './locales';\nimport router from './router';\nimport store from './store';\n\nconst i18n = createI18n({\n    locale: navigator.language,\n    fallbackLocale: 'en',\n    messages: locales\n});\n\nservice.init(store, i18n.global);\ncreateApp(App)\n    .use(i18n)\n    .use(store)\n    .use(router)\n    .mount('#app');\n","import type { VueI18n } from 'vue-i18n';\n\nimport data from '@/data/umi/umi.json';\nimport { Predicator } from '@/service/nomination';\n\n/**\n * Keep all status data\n */\nexport namespace umi {\n\n    /**\n     * Code to identify scanner\n     */\n    export enum ScannerCode {\n        Unknown     = 0,\n        Redacted    = 1,\n        Prime       = 2,\n    }\n    \n    /**\n     * Scanner information\n     */\n    export class Scanner {\n        readonly code: ScannerCode;\n        readonly title: string;\n\n        readonly predicator: Predicator;    // Predicator for filter\n\n        constructor(code: ScannerCode, title: string) {\n            this.code = code;\n            this.title = title;\n            this.predicator = (nomination) => nomination.scanner === this.code;\n        }\n    }\n\n    /**\n     * Code to identify status\n     */\n    export enum StatusCode {\n        Pending     = 0,\n        Accepted    = 1,\n        Rejected    = 101,\n    }\n\n    /**\n     * Code to identify reason\n     */\n    export type ReasonCode = number;\n    \n    /**\n     * Status information\n     */\n    export class Status {\n\n        readonly code: StatusCode; // Code to identify the status and saved in file\n        readonly title: string; // Title to display\n        readonly icon: string;  // Icon to represent the status\n    \n        readonly queries: Map<ScannerCode, string>;  // Queries to search mails, <scanner, query>\n\n        readonly predicator: Predicator;    // Predicator for filter\n    \n        constructor(\n            code: number, title: string, icon: string,\n            queries: Map<ScannerCode, string>\n        ) {\n            this.code = code;\n            this.title = title;\n            this.icon = icon;\n\n            this.queries = queries;\n            this.predicator = (nomination) => nomination.status === this.code;\n        }\n    }\n    \n    /**\n     * Reason information\n     */\n    export class Reason {\n\n        static undeclared: ReasonCode = 101;\n        static duplicated: ReasonCode = 102;\n        static close: ReasonCode = 103;\n\n        //readonly key: string;   // Key of the status\n        readonly code: ReasonCode; // Code to identify the status and saved in file\n        readonly title: string; // Title to display\n        readonly icon: string;  // Icon to represent the status\n    \n        readonly color: string; // Color to represent the reason in charts\n        readonly keywords: Map<ScannerCode, Array<string>>;  // Keywords to identify the reason, <scanner, keywords>\n\n        readonly predicator: Predicator;    // Predicator for filter\n    \n        constructor(\n            code: number, title: string, icon: string,\n            color: string, keyword: Map<ScannerCode, Array<string>>\n        ) {\n            this.code = code;\n            this.title = title;\n            this.icon = icon;\n\n            this.color = color;\n            this.keywords = keyword;\n\n            if (code === Reason.undeclared) {\n                this.predicator = (nomination) => nomination.status === StatusCode.Rejected && nomination.reasons.length < 1;\n            } else {\n                this.predicator = (nomination) => nomination.status === StatusCode.Rejected && nomination.reasons.indexOf(code) > -1;\n            }\n        }\n    }\n\n    /**\n     * Common type of `Scanner`, `Status` and `Reason`\n     */\n    export type CommonSense = Scanner | Status | Reason;\n\n    export const scanner = new Map<ScannerCode, Scanner>();\n    export const status = new Map<StatusCode, Status>();\n    export const reason = new Map<ReasonCode, Reason>();\n    export const version = data.version;\n\n    export function init(i18n: VueI18n<unknown, unknown, unknown>) {\n        for (const raw of data.scanners) {\n            const item = new Scanner(raw.code, raw.title);\n            scanner.set(item.code, item);\n        }\n        for (const raw of data.statuses) {\n            const item = new Status(\n                raw.code, i18n.t(raw.title), raw.iconFA,\n                raw.queries.reduce((map, query) => {\n                    map.set(query.scanner, query.query);\n                    return map;\n                }, new Map<ScannerCode, string>())\n            );\n            status.set(item.code, item);\n        }\n        for (const raw of data.reasons) {\n            const item = new Reason(\n                raw.code, i18n.t(raw.title), raw.iconFA, raw.color,\n                raw.keywords.reduce((map, keywords) => {\n                    map.set(keywords.scanner, keywords.keywords);\n                    return map;\n                }, new Map<ScannerCode, Array<string>>())\n            );\n            reason.set(item.code, item);\n        }\n    }\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IconButton.vue?vue&type=style&index=0&id=0b15f13c&lang=scss\""],"sourceRoot":""}