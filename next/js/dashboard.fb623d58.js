(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"0473":function(t,e,s){},"075d":function(t){t.exports=JSON.parse('{"en":{"link":"Link Google Account","match":"Manually Match","charts":"Charts","brainstorming":"Brainstorming","processingMails":"Processing Mails","queryingBrainstorming":"Querying Brainstorming","syncing":"Syncing","loadingGAPI":"Loading Google API"},"zh":{"link":"连接Google账号","match":"手动匹配","charts":"图表","brainstorming":"Brainstorming","processingMails":"处理邮件中","queryingBrainstorming":"查询Brainstorming中","syncing":"同步中","loadingGAPI":"正在加载Google API"}}')},"0dcb":function(t,e,s){},"0f82":function(t,e,s){},"123d":function(t){t.exports=JSON.parse('{"en":{"header":"Hightlight","all":"All"},"zh":{"header":"要点","all":"全部"}}')},"27ea":function(t,e,s){},"2f0c":function(t){t.exports=JSON.parse('{"en":{"title":"Dashboard","refresh":"Refresh","preferences":"Preferences"},"zh":{"title":"仪表盘","refresh":"刷新","preferences":"偏好设置"}}')},"33ce":function(t,e,s){"use strict";s("27ea")},5442:function(t,e,s){},"55fa":function(t){t.exports=JSON.parse('{"en":{"header":"Scanners"},"zh":{"header":"扫描器"}}')},"625f":function(t,e,s){"use strict";s("5442")},7277:function(t,e,s){"use strict";s.r(e);var a=s("7a23");const c={class:"dashboard"};function n(t,e,s,n,r,i){const o=Object(a["A"])("material-icon-button"),l=Object(a["A"])("material-top-app-bar"),u=Object(a["A"])("material-top-app-bar-adjust"),d=Object(a["A"])("status"),b=Object(a["A"])("highlight"),O=Object(a["A"])("gallery"),j=Object(a["A"])("scanners"),h=Object(a["A"])("reasons");return Object(a["t"])(),Object(a["e"])(a["a"],null,[Object(a["i"])(l,{title:t.$t("title")},{default:Object(a["F"])(()=>[t.canRefresh?(Object(a["t"])(),Object(a["e"])(o,{key:0,icon:"redo",title:t.$t("refresh"),onClick:t.refresh},null,8,["title","onClick"])):Object(a["f"])("",!0),Object(a["i"])(o,{icon:"cog",title:t.$t("preferences"),onClick:t.openPreference},null,8,["title","onClick"])]),_:1},8,["title"]),Object(a["i"])(u),Object(a["i"])("main",c,[Object(a["i"])(d),t.empty?Object(a["f"])("",!0):(Object(a["t"])(),Object(a["e"])(b,{key:0})),t.empty?Object(a["f"])("",!0):(Object(a["t"])(),Object(a["e"])(O,{key:1})),t.empty?Object(a["f"])("",!0):(Object(a["t"])(),Object(a["e"])(j,{key:2})),t.empty?Object(a["f"])("",!0):(Object(a["t"])(),Object(a["e"])(h,{key:3}))])],64)}var r=s("9ab4"),i=s("1b40"),o=s("6022"),l=s("81dd"),u=s("2281"),d=s("4892");const b={class:"status"},O={key:0,class:"progress"},j={key:1,class:"actions"};function h(t,e,s,c,n,r){const i=Object(a["A"])("material-linear-progress"),o=Object(a["A"])("material-icon-button");return Object(a["t"])(),Object(a["e"])("div",b,[t.showProgress?(Object(a["t"])(),Object(a["e"])("div",O,[Object(a["i"])("div",null,Object(a["C"])(t.$t(t.progressText)),1),Object(a["i"])(i,{progress:t.$store.state.progress.progress,determinate:t.progressDeterminate},null,8,["progress","determinate"])])):Object(a["f"])("",!0),t.showActions?(Object(a["t"])(),Object(a["e"])("div",j,[t.showLinkButton?(Object(a["t"])(),Object(a["e"])(o,{key:0,icon:"sign-in-alt",title:t.$t("link"),onClick:t.link},null,8,["title","onClick"])):Object(a["f"])("",!0),t.showMatchButton?(Object(a["t"])(),Object(a["e"])(o,{key:1,icon:"user-check",title:t.$t("match"),onClick:t.match},null,8,["title","onClick"])):Object(a["f"])("",!0),t.showChartsButton?(Object(a["t"])(),Object(a["e"])(o,{key:2,icon:"chart-bar",title:t.$t("charts"),onClick:t.openCharts},null,8,["title","onClick"])):Object(a["f"])("",!0),t.showChartsButton?(Object(a["t"])(),Object(a["e"])(o,{key:3,icon:"brain",title:t.$t("brainstorming"),onClick:t.openBrainstorming},null,8,["title","onClick"])):Object(a["f"])("",!0)])):Object(a["f"])("",!0)])}var p=s("ce1f"),g=s("ea0e"),m=s("075d");let f=class extends p["b"]{get showProgress(){return this.$store.state.service.status===o["b"].Status.processingMails||(this.$store.state.service.status===o["b"].Status.queryingBrainstorming||(this.$store.state.service.status===o["b"].Status.syncing||!(!this.$store.getters.empty||this.gapiLoaded)))}get progressText(){return this.$store.state.service.status===o["b"].Status.processingMails?"processingMails":this.$store.state.service.status===o["b"].Status.queryingBrainstorming?"queryingBrainstorming":this.$store.state.service.status===o["b"].Status.syncing?"syncing":this.$store.getters.empty&&!this.gapiLoaded?"loadingGAPI":""}get progressDeterminate(){return this.$store.state.service.status===o["b"].Status.processingMails||this.$store.state.service.status===o["b"].Status.queryingBrainstorming}get showLinkButton(){return this.gapiLoaded&&!this.$store.state.google.authed}get showMatchButton(){return this.$store.state.service.status===o["b"].Status.requestMatch}get showChartsButton(){return!this.$store.getters.empty}get showActions(){return this.showLinkButton||this.showMatchButton||this.showChartsButton}get idle(){return this.$store.state.service.status===o["b"].Status.idle}get gapiLoaded(){return this.$store.state.google.loaded}link(){o["b"].signIn()}match(){this.$router.push({path:"/match"})}openCharts(){this.$router.push({path:"/charts"})}openBrainstorming(){this.$router.push({path:"/brainstorming"})}};f=Object(r["c"])([Object(p["a"])({components:{MaterialIconButton:l["a"],MaterialLinearProgress:g["a"]},i18n:{messages:m}})],f);var v=f;s("33ce");v.render=h;var y=v;const k={class:"card-grid"};function C(t,e,s,c,n,r){const i=Object(a["A"])("dashboard-card");return Object(a["t"])(),Object(a["e"])(a["a"],null,[Object(a["i"])("h2",null,Object(a["C"])(t.$t("header")),1),Object(a["i"])("div",k,[Object(a["i"])(i,{title:t.$t("all"),icon:"arrow-up",count:t.countAll,onClick:t.open},null,8,["title","count","onClick"]),(Object(a["t"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(t.dataset,e=>(Object(a["t"])(),Object(a["e"])(i,{key:e.status.code,title:e.status.title,icon:e.status.icon,count:e.count,onClick:s=>t.open(e.status)},null,8,["title","icon","count","onClick"]))),128))])],64)}var $=s("2e5e"),A=s("ce89");const D={class:"content"},S={class:"label"},w={class:"title"},B={class:"count"};function M(t,e,s,c,n,r){const i=Object(a["A"])("material-icon"),o=Object(a["A"])("material-card");return Object(a["t"])(),Object(a["e"])(o,{class:"dashboard-card"},{default:Object(a["F"])(()=>[Object(a["i"])("div",D,[Object(a["i"])("div",S,[Object(a["i"])(i,{icon:t.icon,"fixed-width":""},null,8,["icon"]),Object(a["i"])("span",w,Object(a["C"])(t.title),1)]),Object(a["i"])("div",B,Object(a["C"])(t.count),1)])]),_:1})}var I=s("e3a9"),x=s("7e13");let q=class extends i["d"]{};Object(r["c"])([Object(i["c"])(String)],q.prototype,"icon",void 0),Object(r["c"])([Object(i["c"])(String)],q.prototype,"title",void 0),Object(r["c"])([Object(i["c"])(Number)],q.prototype,"count",void 0),q=Object(r["c"])([Object(i["b"])({components:{MaterialCard:I["a"],MaterialIcon:x["a"]}})],q);var P=q;s("d101");P.render=M;var L=P,N=s("123d");let _=class extends i["d"]{constructor(){super(...arguments),this.countAll=0,this.dataset=[]}get saveID(){return this.$store.state.dia.saveID}created(){this.updateData()}onSaved(){this.updateData()}open(t){const e={path:"/list"};t&&(e.query={status:t.code}),this.$router.push(e)}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=new Map;for(const s of A["a"].status.values())t.set(s.code,{status:s,count:0});const e=yield $["a"].getAll();for(const s of e){const e=t.get(s.status);e.count++}this.countAll=e.length,this.dataset=Array.from(t.values())}))}};Object(r["c"])([Object(i["e"])("saveID")],_.prototype,"onSaved",null),_=Object(r["c"])([Object(i["b"])({components:{DashboardCard:L},i18n:{messages:N}})],_);var G=_;G.render=C;var J=G;const z={class:"gallery"},R={class:"caption"};function T(t,e,s,c,n,r){const i=Object(a["A"])("material-icon"),o=Object(a["A"])("material-card");return Object(a["t"])(),Object(a["e"])(a["a"],null,[Object(a["i"])("h2",null,Object(a["C"])(t.$t("header")),1),Object(a["i"])("div",z,[(Object(a["t"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(t.nominations,e=>(Object(a["t"])(),Object(a["e"])("div",{key:e.id},[Object(a["i"])(o,{image:e.imageUrl,"square-image":"",onClick:s=>t.open(e.id)},{default:Object(a["F"])(()=>[Object(a["i"])("div",R,[Object(a["i"])(i,{icon:e.statusData.icon,"fixed-width":""},null,8,["icon"]),Object(a["i"])("span",null,Object(a["C"])(e.title),1)])]),_:2},1032,["image","onClick"])]))),128))])],64)}var F,U=s("a7a0"),H=s("a1cc");let W=F=class extends i["d"]{constructor(){super(...arguments),this.nominations=[]}get saveID(){return this.$store.state.dia.saveID}created(){this.updateData()}onSaved(){this.updateData()}open(t){this.$router.push({path:"/details",query:{id:t}})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=yield $["a"].getAll(F.predicator);this.nominations=t.map(t=>U["a"].from(t)).sort(U["a"].comparatorByTime)}))}};W.datePast30Days=Date.now()-2592e6,W.predicator=t=>t.confirmedTime>F.datePast30Days||t.resultTime>F.datePast30Days,Object(r["c"])([Object(i["e"])("saveID")],W.prototype,"onSaved",null),W=F=Object(r["c"])([Object(i["b"])({components:{MaterialCard:I["a"],MaterialIcon:x["a"]},i18n:{messages:H}})],W);var Q=W;s("c79b");Q.render=T;var E=Q;const K={class:"card-grid"};function V(t,e,s,c,n,r){const i=Object(a["A"])("dashboard-card");return Object(a["t"])(),Object(a["e"])(a["a"],null,[Object(a["i"])("h2",null,Object(a["C"])(t.$t("header")),1),Object(a["i"])("div",K,[(Object(a["t"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(t.dataset,e=>(Object(a["t"])(),Object(a["e"])(i,{key:e.scanner.code,title:e.scanner.title,icon:"mobile-alt",count:e.count,onClick:s=>t.open(e.scanner)},null,8,["title","count","onClick"]))),128))])],64)}var X=s("55fa");let Y=class extends i["d"]{constructor(){super(...arguments),this.dataset=[]}created(){this.updateData()}onSaved(){this.updateData()}open(t){this.$router.push({path:"/list",query:{scanner:t.code}})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=new Map;for(const s of A["a"].scanner.values())s.code!==A["a"].ScannerCode.Unknown&&t.set(s.code,{scanner:s,count:0});const e=yield $["a"].getAll();for(const s of e){if(s.scanner===A["a"].ScannerCode.Unknown)continue;const e=t.get(s.scanner);e.count++}this.dataset=Array.from(t.values()).filter(t=>t.count>0).sort((t,e)=>t.scanner.code>e.scanner.code?1:-1)}))}};Object(r["c"])([Object(i["e"])("saveID")],Y.prototype,"onSaved",null),Y=Object(r["c"])([Object(i["b"])({components:{DashboardCard:L},i18n:{messages:X}})],Y);var Z=Y;Z.render=V;var tt=Z;const et={class:"title-with-action"},st=Object(a["i"])("div",{class:"spacer"},null,-1),at={class:"card-grid"};function ct(t,e,s,c,n,r){const i=Object(a["A"])("material-button"),o=Object(a["A"])("dashboard-card");return Object(a["t"])(),Object(a["e"])(a["a"],null,[Object(a["i"])("h2",et,[Object(a["i"])("span",null,Object(a["C"])(t.$t("header")),1),st,Object(a["i"])(i,{onClick:t.toggleMore},{default:Object(a["F"])(()=>[Object(a["h"])(Object(a["C"])(t.$t(t.more?"less":"more")),1)]),_:1},8,["onClick"])]),Object(a["i"])("div",at,[(Object(a["t"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(t.dataset,e=>(Object(a["t"])(),Object(a["e"])(o,{key:e.reason.code,title:e.reason.title,icon:e.reason.icon,count:e.count,onClick:s=>t.open(e.reason)},null,8,["title","icon","count","onClick"]))),128))])],64)}var nt=s("1703"),rt=s("960b");let it=class extends i["d"]{constructor(){super(...arguments),this.more=!1,this.datasetAll=[]}get saveID(){return this.$store.state.dia.saveID}get dataset(){return this.more?this.datasetAll:this.datasetAll.slice(0,4)}created(){this.updateData()}onSaved(){this.updateData()}toggleMore(){this.more=!this.more}open(t){this.$router.push({path:"/list",query:{reason:t.code}})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=new Map,e=yield $["a"].getAll(A["a"].status.get(A["a"].StatusCode.Rejected).predicator);for(const s of A["a"].reason.values()){const a=e.filter(s.predicator).length;a<1||t.set(s.code,{reason:s,count:a})}this.datasetAll=Array.from(t.values())}))}};Object(r["c"])([Object(i["e"])("saveID")],it.prototype,"onSaved",null),it=Object(r["c"])([Object(i["b"])({components:{MaterialButton:nt["a"],DashboardCard:L},i18n:{messages:rt}})],it);var ot=it;s("adc7");ot.render=ct;var lt=ot,ut=s("2f0c");let dt=class extends i["d"]{constructor(){super(...arguments),this.empty=!0}get canRefresh(){return this.$store.state.service.status===o["b"].Status.idle&&this.$store.state.google.authed}get saveID(){return this.$store.state.dia.saveID}created(){this.updateData()}onSaved(){this.updateData()}refresh(){o["b"].refresh()}openPreference(){this.$router.push({path:"/preferences"})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=yield $["a"].count();this.empty=t<1}))}};Object(r["c"])([Object(i["e"])("saveID")],dt.prototype,"onSaved",null),dt=Object(r["c"])([Object(i["b"])({components:{MaterialTopAppBar:u["a"],MaterialTopAppBarAdjust:d["a"],MaterialIconButton:l["a"],Status:y,Highlight:J,Gallery:E,Scanners:tt,Reasons:lt},i18n:{messages:ut}})],dt);var bt=dt;s("625f");bt.render=n;e["default"]=bt},"7e13":function(t,e,s){"use strict";var a=s("7a23");function c(t,e,s,c,n,r){const i=Object(a["A"])("material-icon-raw");return Object(a["t"])(),Object(a["e"])("i",{class:t.className},[Object(a["i"])(i,{icon:t.icon},null,8,["icon"])],2)}var n=s("9ab4"),r=s("1b40"),i=s("bd16");let o=class extends r["d"]{get className(){let t="fa";return this.fixedWidth&&(t+=" fa-fw"),t}};Object(n["c"])([Object(r["c"])(String)],o.prototype,"icon",void 0),Object(n["c"])([Object(r["c"])(Boolean)],o.prototype,"fixedWidth",void 0),o=Object(n["c"])([Object(r["b"])({components:{MaterialIconRaw:i["a"]}})],o);var l=o;l.render=c;e["a"]=l},"8e15":function(t,e,s){"use strict";s("0f82")},"960b":function(t){t.exports=JSON.parse('{"en":{"header":"Reasons","more":"More","less":"Less"},"zh":{"header":"拒绝原因","more":"更多","less":"更少"}}')},a1cc:function(t){t.exports=JSON.parse('{"en":{"header":"Last 30 Days"},"zh":{"header":"近30天"}}')},adc7:function(t,e,s){"use strict";s("0473")},c79b:function(t,e,s){"use strict";s("0dcb")},d101:function(t,e,s){"use strict";s("ee55")},e3a9:function(t,e,s){"use strict";var a=s("7a23");const c={class:"mdc-card mdc-card--outlined"},n={class:"mdc-card__primary-action"};function r(t,e,s,r,i,o){return Object(a["t"])(),Object(a["e"])("div",c,[Object(a["i"])("div",n,[t.image?(Object(a["t"])(),Object(a["e"])("div",{key:0,class:t.mediaClassName,style:t.mediaStyle},null,6)):Object(a["f"])("",!0),Object(a["z"])(t.$slots,"default")])])}var i=s("9ab4"),o=s("1b40");class l extends o["d"]{get mediaClassName(){return"mdc-card__media mdc-card__media--"+(this.squareImage?"square":"16-9")}get mediaStyle(){return this.image?`background-image: url("${this.image}")`:""}}Object(i["c"])([Object(o["c"])(String)],l.prototype,"image",void 0),Object(i["c"])([Object(o["c"])(Boolean)],l.prototype,"squareImage",void 0);s("8e15");l.render=r;e["a"]=l},ee55:function(t,e,s){}}]);
//# sourceMappingURL=dashboard.fb623d58.js.map