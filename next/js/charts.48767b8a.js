(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["charts"],{6923:function(t,e,a){"use strict";a.r(e);var s=a("7a23");const o={key:0,class:"charts"},r={class:"grid grid--1-2"},n={class:"grid grid--2-1"};function c(t,e,a,c,l,i){const u=Object(s["x"])("material-top-app-bar"),b=Object(s["x"])("material-top-app-bar-adjust"),d=Object(s["x"])("status-chart"),h=Object(s["x"])("reasons-chart"),p=Object(s["x"])("count-by-month-chart"),f=Object(s["x"])("interval-chart"),O=Object(s["x"])("quotas-chart");return Object(s["q"])(),Object(s["d"])(s["a"],null,[Object(s["h"])(u,{title:"Charts","navi-back":""}),Object(s["h"])(b),t.$store.getters.empty?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("main",o,[Object(s["h"])("div",r,[Object(s["h"])(d),Object(s["h"])(h)]),Object(s["h"])(p),Object(s["h"])("div",n,[Object(s["h"])(f),Object(s["h"])(O)])]))],64)}var l=a("9ab4"),i=a("9b4a"),u=(a("cadc"),a("ce1f")),b=a("2281"),d=a("4892");function h(t,e,a,o,r,n){const c=Object(s["x"])("chart-view"),l=Object(s["x"])("chart-block");return Object(s["q"])(),Object(s["d"])(l,{title:"Count by Month"},{default:Object(s["C"])(()=>[Object(s["h"])(c,{"chart-type":"line","chart-datasets":t.datasets,"chart-options":t.options},null,8,["chart-datasets","chart-options"])]),_:1})}var p=a("1315"),f=a("1b40"),O=a("240d"),j=a("6163");let m=class extends f["d"]{constructor(){super(...arguments),this.options={scales:{x:{type:"time",time:{unit:"month",tooltipFormat:"yyyy-MM",displayFormats:{month:"yyyy-MM"}}}},plugins:{tooltip:{mode:"x"}}}}get datasets(){var t,e;const a=this.$store.state.nominations,s=new Map,o=new Map;if(a.length>0){let r=p["DateTime"].fromMillis(a[0].confirmedTime).startOf("month").valueOf(),n=r;for(const c of a){if(c.confirmedTime>0){const e=p["DateTime"].fromMillis(c.confirmedTime).startOf("month").valueOf();e<r?r=e:e>n&&(n=e),s.set(e,(null!==(t=s.get(e))&&void 0!==t?t:0)+1)}if(c.resultTime>0){const t=p["DateTime"].fromMillis(c.resultTime).startOf("month").valueOf();t>n&&(n=t),o.set(t,(null!==(e=o.get(t))&&void 0!==e?e:0)+1)}}Object(O["b"])(s,r,n),Object(O["b"])(o,r,n)}const r=[],n=[];for(const[i,u]of s)r.push({x:i,y:u});for(const[i,u]of o)n.push({x:i,y:u});r.sort((t,e)=>t.x-e.x),n.sort((t,e)=>t.x-e.x);const c={label:"Submissions",data:r,borderColor:"orange",pointBackgroundColor:"orange",pointRadius:0,fill:!1},l={label:"Results",data:n,borderColor:"royalblue",pointBackgroundColor:"royalblue",pointRadius:0,fill:!1};return[c,l]}};m=Object(l["c"])([Object(f["b"])({components:{ChartBlock:O["a"],ChartView:j["a"]}})],m);var g=m;g.render=h;var v=g;function C(t,e,a,o,r,n){const c=Object(s["x"])("chart-view"),l=Object(s["x"])("chart-block");return Object(s["q"])(),Object(s["d"])(l,{title:"Interval (Days)"},{default:Object(s["C"])(()=>[Object(s["h"])(c,{"chart-type":"bar","chart-datasets":t.datasets,"chart-labels":t.labels,"chart-options":t.options},null,8,["chart-datasets","chart-labels","chart-options"])]),_:1})}var y,x=a("ce89");let k=y=class extends f["d"]{constructor(){super(...arguments),this.options={plugins:{legend:{display:!1}}}}get labels(){return this.stats.map(t=>t.interval)}get datasets(){const t=this.stats.map(t=>t.count),e={data:t,backgroundColor:"royalblue",hoverBackgroundColor:"royalblue"};return[e]}get stats(){const t=this.$store.state.nominations,e=t.reduce((t,e)=>{var a;if(e.status===x["a"].StatusCode.Pending)return t;if(e.confirmedTime<y.timeValid)return t;if(e.resultTime<y.timeValid)return t;if(e.resultTime<e.confirmedTime)return t;const s=Math.floor((e.resultTime-e.confirmedTime)/y.timeDay);return t.set(s,(null!==(a=t.get(s))&&void 0!==a?a:0)+1),t},new Map),a=[];for(const[s,o]of e)a.push({interval:s,count:o});return a.sort((t,e)=>t.interval-e.interval),a}};k.timeValid=1325347200,k.timeDay=864e5,k=y=Object(l["c"])([Object(f["b"])({components:{ChartBlock:O["a"],ChartView:j["a"]}})],k);var w=k;w.render=C;var M,B=w;function T(t,e,a,o,r,n){const c=Object(s["x"])("chart-view"),l=Object(s["x"])("chart-block");return Object(s["q"])(),Object(s["d"])(l,{title:"Quotas (Days)"},{default:Object(s["C"])(()=>[Object(s["h"])(c,{"chart-type":"bar","chart-datasets":t.datasets,"chart-labels":t.labels,"chart-options":t.options},null,8,["chart-datasets","chart-labels","chart-options"])]),_:1})}let D=M=class extends f["d"]{constructor(){super(...arguments),this.options={plugins:{legend:{display:!1}}}}get labels(){const t=[];for(let e=0;e<14;e++)t.push(e);return t}get datasets(){const t=this.$store.state.nominations,e=Date.now(),a=new Array(14).fill(0);for(const o of t){const t=o.restoreTime;t>e&&(a[Math.floor((t-e)/M.timeDay)]+=1)}const s={data:a,backgroundColor:"royalblue",hoverBackgroundColor:"royalblue"};return[s]}};D.timeDay=864e5,D=M=Object(l["c"])([Object(f["b"])({components:{ChartBlock:O["a"],ChartView:j["a"]}})],D);var q=D;q.render=T;var A=q;function R(t,e,a,o,r,n){const c=Object(s["x"])("chart-view"),l=Object(s["x"])("chart-block");return Object(s["q"])(),Object(s["d"])(l,{title:"Reasons"},{default:Object(s["C"])(()=>[Object(s["h"])(c,{"chart-type":"doughnut","chart-datasets":t.datasets,"chart-labels":t.labels,"chart-options":t.opitons},null,8,["chart-datasets","chart-labels","chart-options"])]),_:1})}let V=class extends f["d"]{constructor(){super(...arguments),this.opitons={plugins:{legend:{display:!0,position:"right"}}}}get labels(){const t=this.stats,e=[];for(const a of t.values())a[1]<1||e.push(a[0].title);return e}get datasets(){const t=this.stats,e=[],a=[];for(const o of t.values())o[1]<1||(e.push(o[1]),a.push(o[0].color));const s={data:e,backgroundColor:a,borderAlign:"inner",borderColor:"rgba(0, 0, 0, 0.2)",hoverBackgroundColor:a,hoverBorderColor:"rgba(0, 0, 0, 0.4)"};return[s]}get stats(){const t=new Map;for(const[e,a]of x["a"].reason)t.set(e,[a,0]);return this.$store.state.nominations.reduce((t,e)=>{if(e.status!==x["a"].StatusCode.Rejected)return t;if(e.reasons.length>0)for(const a of e.reasons)t.get(a)[1]++;else t.get(x["a"].Reason.undeclared)[1]++;return t},t),t}};V=Object(l["c"])([Object(f["b"])({components:{ChartBlock:O["a"],ChartView:j["a"]}})],V);var $=V;$.render=R;var S,_=$;function F(t,e,a,o,r,n){const c=Object(s["x"])("chart-view"),l=Object(s["x"])("chart-block");return Object(s["q"])(),Object(s["d"])(l,{title:"Status"},{default:Object(s["C"])(()=>[Object(s["h"])(c,{"chart-type":"doughnut","chart-datasets":t.datasets,"chart-labels":t.labels,"chart-options":t.options},null,8,["chart-datasets","chart-labels","chart-options"])]),_:1})}let I=S=class extends f["d"]{constructor(){super(...arguments),this.options={plugins:{legend:{display:!0,position:"right"}}}}get labels(){const t=[];for(const e of x["a"].status.values())t.push(e.title);return t}get datasets(){const t=new Map;for(const s of x["a"].status.keys())t.set(s,0);this.$store.state.nominations.reduce((t,e)=>(t.set(e.status,t.get(e.status)+1),t),t);const e=[];for(const s of t.values())e.push(s);const a={data:e,backgroundColor:S.colors,borderAlign:"inner",borderColor:"rgba(0, 0, 0, 0.2)",hoverBackgroundColor:S.colors,hoverBorderColor:"rgba(0, 0, 0, 0.4)"};return[a]}};I.colors=["#CAAF85","#35C572","#B0373C"],I=S=Object(l["c"])([Object(f["b"])({components:{ChartBlock:O["a"],ChartView:j["a"]}})],I);var J=I;J.render=F;var Q=J;let P=class extends u["b"]{created(){i["e"].register(i["a"],i["c"],i["j"],i["m"],i["b"],i["f"],i["i"],i["d"],i["k"],i["l"],i["p"],i["q"],i["h"]),i["e"].defaults.maintainAspectRatio=!1,i["e"].defaults.plugins.legend.labels.boxWidth=10,i["e"].defaults.plugins.tooltip.intersect=!1,i["e"].defaults.elements.line.tension=.1}};P=Object(l["c"])([Object(u["a"])({components:{MaterialTopAppBar:b["a"],MaterialTopAppBarAdjust:d["a"],StatusChart:Q,ReasonsChart:_,CountByMonthChart:v,IntervalChart:B,QuotasChart:A}})],P);var W=P;a("d567");W.render=c;e["default"]=W},"715e":function(t,e,a){},d567:function(t,e,a){"use strict";a("715e")}}]);
//# sourceMappingURL=charts.48767b8a.js.map