(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["charts"],{6923:function(t,e,a){"use strict";a.r(e);var s=a("7a23");const o={key:0,class:"charts"},r={class:"grid grid--1-2"},n={class:"grid grid--2-1"};function c(t,e,a,c,i,l){const u=Object(s["A"])("material-top-app-bar"),b=Object(s["A"])("material-top-app-bar-adjust"),d=Object(s["A"])("status-chart"),h=Object(s["A"])("reasons-chart"),p=Object(s["A"])("count-by-month-chart"),f=Object(s["A"])("interval-chart"),O=Object(s["A"])("quotas-chart");return Object(s["t"])(),Object(s["e"])(s["a"],null,[Object(s["i"])(u,{title:"Charts","navi-back":""}),Object(s["i"])(b),t.$store.getters.empty?Object(s["f"])("",!0):(Object(s["t"])(),Object(s["e"])("main",o,[Object(s["i"])("div",r,[Object(s["i"])(d),Object(s["i"])(h)]),Object(s["i"])(p),Object(s["i"])("div",n,[Object(s["i"])(f),Object(s["i"])(O)])]))],64)}var i=a("9ab4"),l=a("9b4a"),u=(a("cadc"),a("ce1f")),b=a("2281"),d=a("4892");function h(t,e,a,o,r,n){const c=Object(s["A"])("chart-view"),i=Object(s["A"])("chart-block");return Object(s["t"])(),Object(s["e"])(i,{title:"Count by Month"},{default:Object(s["F"])(()=>[Object(s["i"])(c,{"chart-type":"line","chart-datasets":t.datasets,"chart-options":t.options},null,8,["chart-datasets","chart-options"])]),_:1})}var p=a("1315"),f=a("1b40"),O=a("240d"),j=a("6163");let m=class extends f["d"]{constructor(){super(...arguments),this.options={scales:{x:{type:"time",time:{unit:"month",tooltipFormat:"yyyy-MM",displayFormats:{month:"yyyy-MM"}}}},plugins:{tooltip:{mode:"x"}}}}get datasets(){var t,e;const a=this.$store.state.nominations,s=new Map,o=new Map;if(a.length>0){let r=p["DateTime"].fromMillis(a[0].confirmedTime).startOf("month").valueOf(),n=r;for(const c of a){if(c.confirmedTime>0){const e=p["DateTime"].fromMillis(c.confirmedTime).startOf("month").valueOf();e<r?r=e:e>n&&(n=e),s.set(e,(null!==(t=s.get(e))&&void 0!==t?t:0)+1)}if(c.resultTime>0){const t=p["DateTime"].fromMillis(c.resultTime).startOf("month").valueOf();t>n&&(n=t),o.set(t,(null!==(e=o.get(t))&&void 0!==e?e:0)+1)}}Object(O["b"])(s,r,n),Object(O["b"])(o,r,n)}const r=[],n=[];for(const[l,u]of s)r.push({x:l,y:u});for(const[l,u]of o)n.push({x:l,y:u});r.sort((t,e)=>t.x-e.x),n.sort((t,e)=>t.x-e.x);const c={label:"Submissions",data:r,borderColor:"orange",pointBackgroundColor:"orange",pointRadius:0,fill:!1},i={label:"Results",data:n,borderColor:"royalblue",pointBackgroundColor:"royalblue",pointRadius:0,fill:!1};return[c,i]}};m=Object(i["c"])([Object(f["b"])({components:{ChartBlock:O["a"],ChartView:j["a"]}})],m);var g=m;g.render=h;var v=g;function y(t,e,a,o,r,n){const c=Object(s["A"])("chart-view"),i=Object(s["A"])("chart-block");return Object(s["t"])(),Object(s["e"])(i,{title:"Interval (Days)"},{default:Object(s["F"])(()=>[Object(s["i"])(c,{"chart-type":"bar","chart-datasets":t.datasets,"chart-labels":t.labels,"chart-options":t.options},null,8,["chart-datasets","chart-labels","chart-options"])]),_:1})}var C,k=a("ce89");let A=C=class extends f["d"]{constructor(){super(...arguments),this.options={plugins:{legend:{display:!1}}}}get labels(){return this.stats.map(t=>t.interval)}get datasets(){const t=this.stats.map(t=>t.count),e={data:t,backgroundColor:"royalblue",hoverBackgroundColor:"royalblue"};return[e]}get stats(){const t=this.$store.state.nominations,e=t.reduce((t,e)=>{var a;if(e.status===k["a"].StatusCode.Pending)return t;if(e.confirmedTime<C.timeValid)return t;if(e.resultTime<C.timeValid)return t;if(e.resultTime<e.confirmedTime)return t;const s=Math.floor((e.resultTime-e.confirmedTime)/C.timeDay);return t.set(s,(null!==(a=t.get(s))&&void 0!==a?a:0)+1),t},new Map),a=[];for(const[s,o]of e)a.push({interval:s,count:o});return a.sort((t,e)=>t.interval-e.interval),a}};A.timeValid=1325347200,A.timeDay=864e5,A=C=Object(i["c"])([Object(f["b"])({components:{ChartBlock:O["a"],ChartView:j["a"]}})],A);var w=A;w.render=y;var M,B=w;function T(t,e,a,o,r,n){const c=Object(s["A"])("chart-view"),i=Object(s["A"])("chart-block");return Object(s["t"])(),Object(s["e"])(i,{title:"Quotas (Days)"},{default:Object(s["F"])(()=>[Object(s["i"])(c,{"chart-type":"bar","chart-datasets":t.datasets,"chart-labels":t.labels,"chart-options":t.options},null,8,["chart-datasets","chart-labels","chart-options"])]),_:1})}let x=M=class extends f["d"]{constructor(){super(...arguments),this.options={plugins:{legend:{display:!1}}}}get labels(){const t=[];for(let e=0;e<14;e++)t.push(e);return t}get datasets(){const t=this.$store.state.nominations,e=Date.now(),a=new Array(14).fill(0);for(const o of t){const t=o.restoreTime;t>e&&(a[Math.floor((t-e)/M.timeDay)]+=1)}const s={data:a,backgroundColor:"royalblue",hoverBackgroundColor:"royalblue"};return[s]}};x.timeDay=864e5,x=M=Object(i["c"])([Object(f["b"])({components:{ChartBlock:O["a"],ChartView:j["a"]}})],x);var D=x;D.render=T;var F=D;function R(t,e,a,o,r,n){const c=Object(s["A"])("chart-view"),i=Object(s["A"])("chart-block");return Object(s["t"])(),Object(s["e"])(i,{title:"Reasons"},{default:Object(s["F"])(()=>[Object(s["i"])(c,{"chart-type":"doughnut","chart-datasets":t.datasets,"chart-labels":t.labels,"chart-options":t.opitons},null,8,["chart-datasets","chart-labels","chart-options"])]),_:1})}let V=class extends f["d"]{constructor(){super(...arguments),this.opitons={plugins:{legend:{display:!0,position:"right"}}}}get labels(){const t=this.stats,e=[];for(const a of t.values())a[1]<1||e.push(a[0].title);return e}get datasets(){const t=this.stats,e=[],a=[];for(const o of t.values())o[1]<1||(e.push(o[1]),a.push(o[0].color));const s={data:e,backgroundColor:a,borderAlign:"inner",borderColor:"rgba(0, 0, 0, 0.2)",hoverBackgroundColor:a,hoverBorderColor:"rgba(0, 0, 0, 0.4)"};return[s]}get stats(){const t=new Map;for(const[e,a]of k["a"].reason)t.set(e,[a,0]);return this.$store.state.nominations.reduce((t,e)=>{if(e.status!==k["a"].StatusCode.Rejected)return t;if(e.reasons.length>0)for(const a of e.reasons)t.get(a)[1]++;else t.get(k["a"].Reason.undeclared)[1]++;return t},t),t}};V=Object(i["c"])([Object(f["b"])({components:{ChartBlock:O["a"],ChartView:j["a"]}})],V);var $=V;$.render=R;var S,_=$;function q(t,e,a,o,r,n){const c=Object(s["A"])("chart-view"),i=Object(s["A"])("chart-block");return Object(s["t"])(),Object(s["e"])(i,{title:"Status"},{default:Object(s["F"])(()=>[Object(s["i"])(c,{"chart-type":"doughnut","chart-datasets":t.datasets,"chart-labels":t.labels,"chart-options":t.options},null,8,["chart-datasets","chart-labels","chart-options"])]),_:1})}let I=S=class extends f["d"]{constructor(){super(...arguments),this.options={plugins:{legend:{display:!0,position:"right"}}}}get labels(){const t=[];for(const e of k["a"].status.values())t.push(e.title);return t}get datasets(){const t=new Map;for(const s of k["a"].status.keys())t.set(s,0);this.$store.state.nominations.reduce((t,e)=>(t.set(e.status,t.get(e.status)+1),t),t);const e=[];for(const s of t.values())e.push(s);const a={data:e,backgroundColor:S.colors,borderAlign:"inner",borderColor:"rgba(0, 0, 0, 0.2)",hoverBackgroundColor:S.colors,hoverBorderColor:"rgba(0, 0, 0, 0.4)"};return[a]}};I.colors=["#CAAF85","#35C572","#B0373C"],I=S=Object(i["c"])([Object(f["b"])({components:{ChartBlock:O["a"],ChartView:j["a"]}})],I);var J=I;J.render=q;var Q=J;let P=class extends u["b"]{created(){l["e"].register(l["a"],l["c"],l["j"],l["m"],l["b"],l["f"],l["i"],l["d"],l["k"],l["l"],l["p"],l["q"],l["h"]),l["e"].defaults.maintainAspectRatio=!1,l["e"].defaults.plugins.legend.labels.boxWidth=10,l["e"].defaults.plugins.tooltip.intersect=!1,l["e"].defaults.elements.line.tension=.1}};P=Object(i["c"])([Object(u["a"])({components:{MaterialTopAppBar:b["a"],MaterialTopAppBarAdjust:d["a"],StatusChart:Q,ReasonsChart:_,CountByMonthChart:v,IntervalChart:B,QuotasChart:F}})],P);var W=P;a("d567");W.render=c;e["default"]=W},"715e":function(t,e,a){},d567:function(t,e,a){"use strict";a("715e")}}]);
//# sourceMappingURL=charts.c8371b53.js.map