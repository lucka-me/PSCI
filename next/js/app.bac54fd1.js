(function(e){function t(t){for(var r,n,o=t[0],c=t[1],l=t[2],d=0,u=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&u.push(a[n][0]),a[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);m&&m(t);while(u.length)u.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],r=!0,n=1;n<i.length;n++){var o=i[n];0!==a[o]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=i[0]))}return e}var r={},n={app:0},a={app:0},s=[];function o(e){return c.p+"js/"+({"brainstorming~charts~dashboard~details~list~map~match~preferences":"brainstorming~charts~dashboard~details~list~map~match~preferences","brainstorming~charts":"brainstorming~charts","brainstorming~dashboard":"brainstorming~dashboard",brainstorming:"brainstorming",charts:"charts",dashboard:"dashboard","details~map":"details~map",details:"details",map:"map",list:"list",match:"match",preferences:"preferences",firebase:"firebase",mapbox:"mapbox"}[e]||e)+"."+{"brainstorming~charts~dashboard~details~list~map~match~preferences":"525ed155","brainstorming~charts":"3acccedf","brainstorming~dashboard":"e2315c63",brainstorming:"609d93ab",charts:"c8371b53",dashboard:"b0c30abb","details~map":"df86ac01",details:"507094e7",map:"ff73995c",list:"37c6526b",match:"bccba58b",preferences:"17ddd0a6",firebase:"5e48b75b",mapbox:"2dcfe6ae"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.e=function(e){var t=[],i={"brainstorming~charts~dashboard~details~list~map~match~preferences":1,"brainstorming~charts":1,"brainstorming~dashboard":1,brainstorming:1,charts:1,dashboard:1,"details~map":1,details:1,map:1,list:1,match:1,preferences:1};n[e]?t.push(n[e]):0!==n[e]&&i[e]&&t.push(n[e]=new Promise((function(t,i){for(var r="css/"+({"brainstorming~charts~dashboard~details~list~map~match~preferences":"brainstorming~charts~dashboard~details~list~map~match~preferences","brainstorming~charts":"brainstorming~charts","brainstorming~dashboard":"brainstorming~dashboard",brainstorming:"brainstorming",charts:"charts",dashboard:"dashboard","details~map":"details~map",details:"details",map:"map",list:"list",match:"match",preferences:"preferences",firebase:"firebase",mapbox:"mapbox"}[e]||e)+"."+{"brainstorming~charts~dashboard~details~list~map~match~preferences":"456360f3","brainstorming~charts":"5109a264","brainstorming~dashboard":"088a28d9",brainstorming:"92917073",charts:"a8695c17",dashboard:"030c0685","details~map":"370ca2bc",details:"e45c7c88",map:"dc687b38",list:"6a9f041e",match:"4e5ee524",preferences:"a2815486",firebase:"31d6cfe0",mapbox:"31d6cfe0"}[e]+".css",a=c.p+r,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var l=s[o],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===r||d===a))return t()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){l=u[o],d=l.getAttribute("data-href");if(d===r||d===a)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete n[e],m.parentNode.removeChild(m),i(s)},m.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){n[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,i){r=a[e]=[t,i]}));t.push(r[2]=s);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=o(e);var u=new Error;l=function(t){d.onerror=d.onload=null,clearTimeout(m);var i=a[e];if(0!==i){if(i){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+n+")",u.name="ChunkLoadError",u.type=r,u.request=n,i[1](u)}a[e]=void 0}};var m=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(i,r,function(t){return e[t]}.bind(null,r));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/next/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var m=d;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("cd49")},"0613":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var r,n=i("5502");(function(e){let t;(function(e){e[e["idle"]=0]="idle",e[e["processingMails"]=1]="processingMails",e[e["requestMatch"]=2]="requestMatch",e[e["queryingBrainstorming"]=3]="queryingBrainstorming",e[e["syncing"]=4]="syncing"})(t=e.Status||(e.Status={}))})(r||(r={})),t["b"]=Object(n["a"])({state:{status:r.Status.idle,progress:0,gapiLoaded:!1,gapiAuthed:!1,nominations:[]},getters:{empty(e){return e.nominations.length<1},count:e=>t=>e.nominations.filter(t).length},mutations:{setStatus(e,t){e.status=t},setProgress(e,t){e.progress=t},gapiLoaded(e){e.gapiLoaded=!0},setGAPIAuthed(e,t){e.gapiAuthed=t},setNominations(e,t){e.nominations=t},deleteNomination(e,t){e.nominations=e.nominations.filter(e=>e.id!==t)}},actions:{},modules:{}})},1703:function(e,t,i){"use strict";var r=i("7a23");const n=Object(r["i"])("span",{class:"mdc-button__ripple"},null,-1),a={class:"mdc-button__label"};function s(e,t,i,s,o,c){return Object(r["t"])(),Object(r["e"])("button",{class:e.className},[n,Object(r["i"])("span",a,[Object(r["z"])(e.$slots,"default")])],2)}var o=i("9ab4"),c=i("40ff"),l=i("1b40");class d extends l["d"]{get className(){let e="mdc-button";return this.outlined?e+=" mdc-button--outlined":this.raised&&(e+=" mdc-button--raised"),e}mounted(){this.ctrl=c["a"].attachTo(this.$el),this.ctrl.unbounded=!0}updated(){var e;null===(e=this.ctrl)||void 0===e||e.destroy(),this.ctrl=c["a"].attachTo(this.$el),this.ctrl.unbounded=!0}unmounted(){var e;null===(e=this.ctrl)||void 0===e||e.destroy()}}Object(o["c"])([Object(l["c"])(Boolean)],d.prototype,"outlined",void 0),Object(o["c"])([Object(l["c"])(Boolean)],d.prototype,"raised",void 0);i("2eea");d.render=s;t["a"]=d},"29d4":function(e,t,i){},"2ab6":function(e,t,i){},"2eba":function(e){e.exports=JSON.parse('{"service.brainstorming.firebaseError":"无法擷取線上資料庫。","service.brainstorming.notExists":"資料庫中未找到提名。","service.brainstorming.early":"早期提名資料未录入資料庫中。","service.loadBsData":"加載為Brainstorming數據。","service.nominationsEmpty":"没有提名。","service.uploaded":"已上載。","service.uploadNominationsError":"無法上載提名列表。","service.uploadBsDataError":"無法上載Brainstorming數據。","service.parseError":"无法解析代码。","service.invalidData":"數據無效。","service.bsDataUpdated":"Brainstorming數據已更新。","service.parseEmpty":"列表為空。","service.parseNominationsFailed":"無法解析為提名列表。","service.parseBsDataFailed":"無法解析為Brainstorming數據。","service.imported":"已匯入並更新{{count}}个提名。","service.mari.reportParserError":"解析郵件時出現錯誤，您可以將郵件《{{ subject }}》與這些訊息報告給開發者：{{ message }}。","service.nomination.parseErrorMissingId":"JSON內缺少ID信息","service.nomination.parseErrorMissingTitle":"JSON內缺少標題信息","service.nomination.parseErrorMissingImage":"JSON內缺少圖像信息","service.nomination.parseErrorInvalidId":"JSON內ID為無效值","service.nomination.parseErrorInvalidImage":"JSON內圖片為無效值"}')},"2eea":function(e,t,i){"use strict";i("9408")},"35b6":function(e,t,i){},"39e4":function(e,t,i){},"42b4":function(e,t,i){"use strict";var r;i.d(t,"a",(function(){return r})),function(e){function t(t){e.events.alert(t)}function i(t){e.events.inform(t)}e.events={alert:()=>{},inform:()=>{}},e.alert=t,e.inform=i}(r||(r={}))},5558:function(e,t,i){"use strict";i("de57")},"5be9":function(e,t,i){"use strict";i("2ab6")},6022:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var r,n=i("9ab4"),a=i("a1e9"),s=i("ad8e"),o=i("42b4");(function(e){const t="potori",i=1,r="nomination";let n=void 0;function a(){return new Promise((e,a)=>{const s=window.indexedDB.open(t,i);s.onsuccess=()=>{n=s.result,e(!0)},s.onerror=()=>a(s.error),s.onupgradeneeded=()=>{s.result.createObjectStore(r,{keyPath:"id",autoIncrement:!1})}})}function s(){return new Promise((e,t)=>{const i=u("readonly");if(!i)return void t();const r=i.getAll();r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)})}function o(e){const t=u("readwrite");if(t)for(const i of e)t.put(i)}function c(e){const t=u("readwrite");t&&t.put(e)}function l(e){const t=u("readwrite");t&&t.delete(e)}function d(){const e=u("readwrite");e&&e.clear()}function u(e){if(n)return n.transaction([r],e).objectStore(r)}e.init=a,e.load=s,e.saveAll=o,e.save=c,e.remove=l,e.clear=d})(r||(r={}));var c=i("b15b"),l=i("ce89"),d=i("8043"),u=i("0613");class m{constructor(){this.events={authStatusChanged:()=>{},error:()=>{}}}init(){navigator.onLine&&gapi.load("client:auth2",()=>this.initClient())}initClient(){gapi.client.init({apiKey:"AIzaSyCqIaS8UizqjWrIKm5zV3_S8EffCWjKR-A",clientId:"361295761775-qshg0f5buh495dhubp4v5bignk7i5dh1.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest","https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],scope:["https://www.googleapis.com/auth/gmail.readonly","https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.appdata"].join(" ")}).then(()=>{gapi.auth2.getAuthInstance().isSignedIn.listen(this.events.authStatusChanged),this.events.authStatusChanged(this.signedIn)},this.events.error)}get signedIn(){return navigator.onLine&&gapi.auth2.getAuthInstance().isSignedIn.get()}get accessToken(){return gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token}signIn(){gapi.auth2.getAuthInstance().signIn()}signOut(){gapi.auth2.getAuthInstance().signOut()}}class p{constructor(){this.ids=new Map}download(e,t){return Object(n["b"])(this,void 0,void 0,(function*(){const i=yield gapi.client.drive.files.list({q:`name = '${e}'`,pageSize:10,spaces:p.folder,fields:"files(id)"});if(!i.result.files)return;const r=i.result.files;for(const n of r){if(!n.id)continue;const i=yield gapi.client.drive.files.get({fileId:n.id,alt:"media"}),r=i.result;if(t(r))return this.ids.set(e,n.id),r;gapi.client.drive.files.delete({fileId:n.id})}}))}upload(e,t,i,r){return Object(n["b"])(this,void 0,void 0,(function*(){let n="",a="";const s={name:e,mimeType:t};this.ids.has(e)?(a="PATCH",n=`https://www.googleapis.com/upload/drive/v3/files/${this.ids.get(e)}?uploadType=multipart`):(a="POST",n="https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",s.parents=[p.folder]);const o=new FormData;o.append("metadata",new Blob([JSON.stringify(s)],{type:t})),o.append("file",i);const c="Bearer "+r;let l;try{const e=yield fetch(n,{method:a,headers:new Headers({Authorization:c}),body:o});l=yield e.json()}catch(d){return!1}return!(!l||"string"!==typeof l.id)&&(this.ids.set(e,l.id),!0)}))}}p.folder="appDataFolder";class g{constructor(){this.auth=new m,this.drive=new p}init(e){d["a"].loadScript("https://apis.google.com/js/api.js").then(()=>{e()})}}var h,f,b=i("a7a0");(function(e){function t(e,t,a){const s=new b["a"];s.status=t,s.scanner=a,t===l["a"].StatusCode.Pending?(s.confirmedTime=parseInt(e.internalDate),s.confirmationMailId=e.id):(s.resultTime=parseInt(e.internalDate),s.resultMailId=e.id);for(const i of e.payload.headers)if("Subject"===i.name){const e=i.value.match(/[:：](.+)/);e&&e.length>1&&(s.title=e[1].trim());break}for(const o of e.payload.parts){if("1"!==o.partId)continue;const e=n(o.body.data),c=e.match(/(?:googleusercontent|ggpht)\.com\/([0-9a-zA-Z\-\_]+)/);c&&c.length>1&&(s.image=c[1],s.id=b["a"].parseId(s.image)),a===l["a"].ScannerCode.Redacted&&t!==l["a"].StatusCode.Pending&&(s.lngLat=r(e)),t===l["a"].StatusCode.Rejected&&(s.status=l["a"].StatusCode.Rejected,s.reasons=i(e,a));break}return s}function i(e,t){const i=e.match(/(\n|\r|.)+?\-NianticOps/);if(!i||i.length<1)return[];const r=i[0],n=[];for(const[a,s]of l["a"].reason){const e=s.keywords.get(t);if(e)for(const t of e){const e=r.search(t);if(!(e<0)){n.push([e,a]);break}}}return n.sort((e,t)=>e[0]>t[0]?1:-1).map(e=>e[1])}function r(e){const t=e.match(/www\.ingress\.com\/intel\?ll\=([\.\d]+),([\.\d]+)/);if(t&&!(t.length<3))return{lng:parseFloat(t[2]),lat:parseFloat(t[1])}}function n(e){return unescape(decodeURIComponent(escape(window.atob(e.replace(/\-/g,"+").replace(/\_/g,"/")))))}e.parse=t})(h||(h={}));class v{constructor(){this.total=0,this.finished=0}clear(){this.total=0,this.finished=0}get left(){return this.finished<this.total}get percent(){return 0===this.total?0:this.finished/this.total}}class y{constructor(){this.lists=new v,this.messages=new v,this.onProgress=()=>{}}clear(){this.lists.clear(),this.messages.clear()}addList(){this.lists.total+=1}finishList(e){this.lists.finished+=1,this.messages.total+=e,this.onProgress(this.percent),console.log(`Mari progress: [list][${this.lists.finished}/${this.lists.total}]`)}finishMessage(){this.messages.finished+=1,console.log(`Mari progress: [message][${this.messages.finished}/${this.messages.total}]`),this.lists.left||this.onProgress(this.percent)}get left(){return this.lists.left||this.messages.left}get percent(){return 0===this.lists.total||0===this.messages.total?0:this.lists.left?.2*this.lists.percent:.2+.8*this.messages.percent}}class O{constructor(){this.queryAfter="",this.ignoreIds=[],this.nominations=[],this.progress=new y,this.events={alert:()=>{},progress:()=>{}}}init(){this.progress.onProgress=e=>this.events.progress(e)}start(e){return Object(n["b"])(this,void 0,void 0,(function*(){if(this.nominations.length=0,this.progress.lists.clear(),this.progress.messages.clear(),this.ignoreIds=e.flatMap(e=>e.resultMailId.length>0?[e.confirmationMailId,e.resultMailId]:[e.confirmationMailId]),c["a"].general.queryAfterLatest()){const e=Math.floor(this.nominations.reduce((e,t)=>Math.max(e,t.confirmedTime,t.resultTime),0)/1e3);this.queryAfter=" after:"+e}else this.queryAfter="";const t=[];for(const e of l["a"].status.values())for(const i of e.queries.keys())t.push(this.query(e,i));yield Promise.allSettled(t),e.push(...this.nominations)}))}query(e,t){return Object(n["b"])(this,void 0,void 0,(function*(){this.progress.addList();const i=[];let r=void 0;do{const n=yield gapi.client.gmail.users.messages.list({userId:"me",q:`${e.queries.get(t)}${this.queryAfter}`,pageToken:r});if(!n)break;if(n.result.messages){const e=n.result.messages.filter(e=>!!e.id&&!this.ignoreIds.includes(e.id)).map(e=>e.id);i.push(...e)}r=n.result.nextPageToken}while(r);this.progress.finishList(i.length);for(const a of i){const i=yield gapi.client.gmail.users.messages.get({userId:"me",id:a,format:"full",metadataHeaders:"Subject"});if(!i)continue;const r=i.result;try{const i=h.parse(r,e.code,t);this.nominations.push(i)}catch(n){let i="";for(const e of r.payload.headers)if("Subject"===e.name){i=e.value;break}let a=n;if("message"in n){const e=n;a=e.stack||e.message}this.events.alert(`message:service.mari.reportParserError ${i} [${e}:${t}]${a}`)}this.progress.finishMessage()}}))}}(function(e){let t;(function(e){e["nominations"]="nominations.json",e["legacy"]="potori.json"})(t||(t={}));const i="application/json",m=new g,p=new O;let h;function f(t){h=t,window.addEventListener("error",t=>{e.errors.push(t)}),D(),m.init(()=>{m.auth.events.authStatusChanged=e=>{h.commit("setGAPIAuthed",e),h.commit("gapiLoaded")},m.auth.init(),p.events.alert=e=>{o["a"].alert(e)},p.events.progress=e=>{L(e)},p.init()})}function v(){m.auth.signIn()}function y(){m.auth.signOut()}function j(){return Object(n["b"])(this,void 0,void 0,(function*(){c["a"].google.sync()&&(yield R(t.nominations)),L(0),C(u["a"].Status.processingMails);const e=_();yield p.start(e);const i=[],r=e.reduce((e,t)=>{if(t.id.length<1)return console.log(`service.arrange: Need match: #${t.id}[${t.title}]`),i.push(t),e;let r=!1;for(const i of e)if(i.merge(t)){r=!0;break}return r||e.push(t),e},new Array);console.log(`service.arrange: ${e.length} reduced to ${r.length}`),i.length>0&&(yield x(i,r)),c["a"].brainstorming.autoQueryFirebase()&&(yield B(r)),c["a"].google.sync()&&(yield I()),h.commit("setNominations",r),F(),C(u["a"].Status.idle)}))}function w(){return Object(n["b"])(this,void 0,void 0,(function*(){C(u["a"].Status.queryingBrainstorming);const e=yield s["a"].update(_(),e=>{L(e)});return C(u["a"].Status.idle),e}))}function S(){return Object(n["b"])(this,void 0,void 0,(function*(){yield R(t.nominations),yield I()}))}function I(){return Object(n["b"])(this,void 0,void 0,(function*(){C(u["a"].Status.syncing);const e=J();yield m.drive.upload(t.nominations,i,e,m.auth.accessToken),C(u["a"].Status.idle)}))}function E(e){R(t.legacy).then(t=>{C(u["a"].Status.idle),e(t)})}function P(e){d["a"].importFile().then(t=>{try{const i=JSON.parse(t),r=q(i);e(r)}catch(i){e(0)}})}function M(){d["a"].exportFile(t.nominations,J())}function k(e){let t;try{t=JSON.parse(e)}catch(a){return-1}if(!t.result||t.result.length<1)return-2;const i=h.state.nominations,r=i.reduce((e,t)=>(e.set(t.id,t),e),new Map);let n=0;for(const s of t.result){const e=b["a"].parseId(s.imageUrl),t=r.get(e);t&&(t.title=s.title,t.lngLat={lng:parseFloat(s.lng),lat:parseFloat(s.lat)},n+=1)}return F(),n}function A(e){r.save(Object(a["o"])(e))}function N(){r.clear(),h.commit("setNominations",[])}function T(e){r.remove(e),h.commit("deleteNomination",e)}function F(){const e=_();r.saveAll(e)}function D(){return Object(n["b"])(this,void 0,void 0,(function*(){yield r.init();const e=yield r.load(),t=e.map(e=>b["a"].from(e));h.commit("setNominations",t),s["a"].init()}))}function x(t,i){return Object(n["b"])(this,void 0,void 0,(function*(){const r=i.filter(l["a"].status.get(l["a"].StatusCode.Pending).predicator),n=[];for(const e of t){const t=e.scanner!==l["a"].ScannerCode.Unknown,i=r.filter(i=>i.title===e.title&&(!(i.confirmedTime>=e.resultTime)&&(!t||i.scanner===l["a"].ScannerCode.Unknown||i.scanner===i.scanner)));i.length<1||n.push({target:e,candidates:i,selected:""})}return new Promise(t=>{n.length<1?t():(e.matchData.packs=n,e.matchData.callback=()=>{e.matchData.callback=()=>{};for(const t of e.matchData.packs)if(!(t.selected.length<1)){for(const e of t.candidates)if(e.id===t.selected){t.target.image=e.image,t.target.id=e.id;break}if(!(t.target.id.length<1))for(const e of i)e.merge(t.target)}e.matchData.packs=[],t()},C(u["a"].Status.requestMatch))})}))}function B(e){return Object(n["b"])(this,void 0,void 0,(function*(){C(u["a"].Status.queryingBrainstorming);let t=0;for(const i of e){if(t++,i.lngLat){L(t/e.length);continue}const r=yield s["a"].query(i).catch(e=>{});r?(i.lngLat={lng:parseFloat(r.lng),lat:parseFloat(r.lat)},L(t/e.length)):L(t/e.length)}}))}function C(e){h.commit("setStatus",e)}function L(e){h.commit("setProgress",e)}function R(e){return Object(n["b"])(this,void 0,void 0,(function*(){C(u["a"].Status.syncing);const t=yield m.drive.download(e,e=>{try{const t=e;t.forEach(e=>b["a"].from(e))}catch(t){return!1}return!0});return t?q(t):0}))}function q(e){let t=0;try{const i=e.map(e=>b["a"].from(e)),r=h.state.nominations.map(e=>e);for(const e of i){let i=!1;for(const n of r)if(i=n.merge(e),i){t+=1;break}i||r.push(e)}h.commit("setNominations",r),F()}catch(i){t=0}return t}function _(){return h.state.nominations.map(e=>Object(a["o"])(e))}function J(){const e=h.state.nominations.map(e=>Object(a["o"])(e.data));return new Blob([JSON.stringify(e,null,4)],{type:i})}e.matchData={packs:[],callback:()=>{}},e.errors=[],e.init=f,e.signIn=v,e.signOut=y,e.refresh=j,e.updateBrainstorming=w,e.sync=S,e.upload=I,e.migrate=E,e.importNominationsFile=P,e.exportNominationsFile=M,e.importWayfarerJSON=k,e.update=A,e.clearNominations=N,e.deleteNomination=T,e.save=F})(f||(f={}))},8043:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var r,n=i("9ab4"),a=i("9d44");(function(e){function t(e){const t=Object(a["a"])("textarea",{value:e,readOnly:!0});document.body.append(t),t.select(),document.execCommand("copy"),t.remove()}function i(e,t){const i=Object(a["a"])("a",{href:URL.createObjectURL(t),download:e,hidden:!0});document.body.append(i),i.click(),i.remove()}function r(){return Object(n["b"])(this,void 0,void 0,(function*(){const e=Object(a["a"])("input",{type:"file",accept:"json",hidden:!0});return new Promise(t=>{e.addEventListener("change",()=>{if(setTimeout(()=>{e.remove()},1e3),!e.files||e.files.length<1)return;const i=e.files[0],r=new FileReader;r.onload=()=>{"string"===typeof r.result&&t(r.result)},r.readAsText(i)},!1),document.body.append(e),e.click()})}))}function s(e){return Object(n["b"])(this,void 0,void 0,(function*(){const t=Object(a["a"])("script",{src:e,defer:!0});return new Promise(e=>{t.onload=()=>{e()},document.head.append(t)})}))}e.copy=t,e.exportFile=i,e.importFile=r,e.loadScript=s})(r||(r={}))},"81dd":function(e,t,i){"use strict";var r=i("7a23");const n={class:"fa mdc-icon-button"};function a(e,t,i,a,s,o){const c=Object(r["A"])("material-icon-raw");return Object(r["t"])(),Object(r["e"])("button",n,[Object(r["i"])(c,{icon:e.icon},null,8,["icon"])])}var s=i("9ab4"),o=i("40ff"),c=i("1b40"),l=i("bd16");let d=class extends c["d"]{mounted(){this.ctrl=o["a"].attachTo(this.$el),this.ctrl.unbounded=!0}updated(){var e;null===(e=this.ctrl)||void 0===e||e.destroy(),this.ctrl=o["a"].attachTo(this.$el),this.ctrl.unbounded=!0}unmounted(){var e;null===(e=this.ctrl)||void 0===e||e.destroy()}};Object(s["c"])([Object(c["c"])(String)],d.prototype,"icon",void 0),d=Object(s["c"])([Object(c["b"])({components:{MaterialIconRaw:l["a"]}})],d);var u=d;i("ea19");u.render=a;t["a"]=u},"8c1d":function(e){e.exports=JSON.parse('{"service.brainstorming.firebaseError":"Failed to query Firebase.","service.brainstorming.notExists":"Nomination not exists in database.","service.brainstorming.early":"Early nominaion not exists in database.","service.loadBsData":"Load as Brainstorming Data.","service.nominationsEmpty":"No Nomination to save.","service.uploaded":"Uploaded.","service.uploadNominationsError":"Unable to upload Nomination List.","service.uploadBsDataError":"Unable to upload Brainstorming Data.","service.parseError":"Unable to parse the code.","service.invalidData":"Invalid data","service.bsDataUpdated":"Brainstorming Data updated.","service.parseEmpty":"List is empty.","service.parseNominationsFailed":"Failed to parse as Nomination List.","service.parseBsDataFailed":"Failed to parse as Brainstorming Data.","service.imported":"Imported and updated {{count}} nomination.","service.imported_plural":"Imported and updated {{count}} nominations.","service.mari.reportParserError":"An error occurs when parsing mail, you may report the mail {{ subject }} with this message to developers: {{ message }}.","service.nomination.parseErrorMissingId":"ID is missing in JSON","service.nomination.parseErrorMissingTitle":"Title is missing in JSON","service.nomination.parseErrorMissingImage":"Image is missing in JSON","service.nomination.parseErrorInvalidId":"ID is invalid in JSON","service.nomination.parseErrorInvalidImage":"Image is invalid in JSON"}')},"8d5e":function(e){e.exports=JSON.parse('{"data.pending":"审核中","data.accepted":"批准","data.rejected":"拒绝","data.undeclared":"未指明","data.duplicated":"重复","data.close":"过近","data.criteriaCriteria":"不合标准","data.criteriaNatural":"天然地貌","data.criteriaTemporary":"临时","data.criteriaGeneric":"一般商家","data.locationMismatched":"地点不符","data.data.locationPedestrian":"行人通道","data.locationPrivate":"私人","data.photoPlate":"车牌","data.photoQuality":"照片质量"}')},9408:function(e,t,i){},a7a0:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i("ce89");const n="service.nomination",a={day:n+".day",missing:n+".missing",messageParseErrorMissingId:`message:${n}.parseErrorMissingId`,messageParseErrorMissingTitle:`message:${n}.parseErrorMissingTitle`,messageParseErrorMissingImage:`message:${n}.parseErrorMissingImage`,messageParseErrorInvalidId:`message:${n}.parseErrorInvalidId`,messageParseErrorInvalidImage:`message:${n}.parseErrorInvalidImage`};class s{constructor(){this.id="",this.title="",this.image="",this.scanner=r["a"].ScannerCode.Unknown,this.status=r["a"].StatusCode.Pending,this.reasons=[],this.confirmedTime=0,this.confirmationMailId="",this.resultTime=0,this.resultMailId="",this.lngLat=void 0}get imageUrl(){return"https://lh4.googleusercontent.com/"+this.image}get intelUrl(){return this.lngLat?`https://intel.ingress.com/intel?ll=${this.lngLat.lat},${this.lngLat.lng}&z=18`:"https://intel.ingress.com/intel"}get bsUrl(){return"https://brainstorming.azurewebsites.net/watermeter.html#"+this.id}get scannerData(){return r["a"].scanner.get(this.scanner)}get statusData(){return r["a"].status.get(this.status)}get reasonsData(){return this.reasons.map(e=>r["a"].reason.get(e))}get restoreTime(){return this.confirmedTime+12096e5}get data(){let e={id:this.id,title:this.title,image:this.image,scanner:this.scanner,status:this.status,confirmedTime:this.confirmedTime/1e3,confirmationMailId:this.confirmationMailId};return this.reasons.length>0&&(e.reasons=this.reasons),this.resultTime&&(e.resultTime=this.resultTime/1e3),this.resultMailId&&(e.resultMailId=this.resultMailId),this.lngLat&&(e.lngLat={lng:this.lngLat.lng,lat:this.lngLat.lat}),e}merge(e){return this.id===e.id&&(this.status===r["a"].StatusCode.Pending?(this.title=e.title,this.status=e.status,this.reasons=e.reasons,this.resultTime=e.resultTime,this.resultMailId=e.resultMailId):(this.confirmedTime=e.confirmedTime,this.confirmationMailId=e.confirmationMailId),this.lngLat||(this.lngLat=e.lngLat),!0)}static from(e){if(!e.id)throw new Error(a.messageParseErrorMissingId);if(!e.title)throw new Error(a.messageParseErrorMissingTitle);if(!e.image)throw new Error(a.messageParseErrorMissingImage);const t=e.image.replace("\r","");if(!/^[a-zA-Z0-9]+$/.test(e.id))throw new Error(a.messageParseErrorInvalidId);if(!/^[0-9a-zA-Z\-\_]+$/.test(t))throw new Error(a.messageParseErrorInvalidImage);const i=new s;if(i.id=e.id,i.title=e.title,i.image=t,e.scanner&&(i.scanner=e.scanner),e.status===r["a"].StatusCode.Pending?i.status=r["a"].StatusCode.Pending:e.status===r["a"].StatusCode.Accepted?i.status=r["a"].StatusCode.Accepted:(i.status=r["a"].StatusCode.Rejected,e.status!==r["a"].Reason.undeclared&&r["a"].reason.has(e.status)&&i.reasons.push(e.status)),e.reasons)for(const n of e.reasons)r["a"].reason.has(n)&&!i.reasons.includes(n)&&i.reasons.push(n);return i.confirmedTime=e.confirmedTime>s.timestampSecondBound?e.confirmedTime:1e3*e.confirmedTime,i.confirmationMailId=e.confirmationMailId,e.resultTime&&(i.resultTime=e.resultTime>s.timestampSecondBound?e.resultTime:1e3*e.resultTime),e.resultMailId&&(i.resultMailId=e.resultMailId),e.lngLat&&(i.lngLat={lng:e.lngLat.lng,lat:e.lngLat.lat}),i}static parseId(e){return e.replace(/[^a-zA-Z0-9]/g,"").slice(-10).toLowerCase()}}s.timestampSecondBound=1e12,s.comparatorByTime=(e,t)=>{const i=e.resultTime?e.resultTime:e.confirmedTime,r=t.resultTime?t.resultTime:t.confirmedTime;return i<r?1:-1}},ab99:function(e){e.exports=JSON.parse('{"service.brainstorming.quality":"质量","service.brainstorming.description":"描述","service.brainstorming.cultural":"文化","service.brainstorming.uniqueness":"独特","service.brainstorming.safety":"安全","service.brainstorming.location":"位置","service.nomination.day":"{{count}}天","service.nomination.missing":"缺失"}')},ad8e:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var r,n=i("9ab4"),a=i("ce89"),s=i("8043"),o=i("a7a0");(function(e){const t="application/json",r="bsdata.json";let c;(function(e){e["INDEXEDDB_ERROR"]="message:service.brainstorming.indexedDBError",e["FIREBASE_ERROR"]="message:service.brainstorming.firebaseError",e["NOT_EXISTS"]="message:service.brainstorming.notExists",e["EARLY"]="message:service.brainstorming.early"})(c=e.FailReason||(e.FailReason={}));const l="brainstorming",d=1,u="record";let m=void 0,p=void 0;function g(){return Object(n["b"])(this,void 0,void 0,(function*(){return new Promise((e,t)=>{const i=window.indexedDB.open(l,d);i.onsuccess=()=>{m=i.result,e(!0)},i.onerror=()=>t(i.error),i.onupgradeneeded=()=>{i.result.createObjectStore(u)}})}))}function h(e){return Object(n["b"])(this,void 0,void 0,(function*(){if(P(e))throw new Error(c.EARLY);let t=yield w(e.id).catch(e=>{throw e});if(t)return t;if(t=yield S(e.id).catch(e=>{throw e}),!t)throw new Error(c.NOT_EXISTS);return t}))}function f(e,t){return Object(n["b"])(this,void 0,void 0,(function*(){let i=0,r=0;const n=e.length,a=[];for(const s of e){if(P(s)){r++,t(r/n);continue}const e=S(s.id).then(e=>(r++,e&&i++,t(r/n),e)).catch(e=>{r++,t(r/n)});a.push(e)}return yield Promise.allSettled(a),i}))}function b(e){return Object(n["b"])(this,void 0,void 0,(function*(){if(!P(e))return yield w(e.id)}))}function v(e){return Object(n["b"])(this,void 0,void 0,(function*(){if(P(e))return!1;const t=yield w(e.id);return"undefined"!==typeof t}))}function y(){return Object(n["b"])(this,void 0,void 0,(function*(){const e=yield s["a"].importFile();let t;try{t=new Map(JSON.parse(e))}catch(i){return 0}for(const[r,n]of t)E(r,n);return t.size}))}function O(){return Object(n["b"])(this,void 0,void 0,(function*(){const e=yield I();if(e.length<1)return 0;const i=e.map(e=>[o["a"].parseId(e.imageUrl),e]),n=new Blob([JSON.stringify(i,null,4)],{type:t});return s["a"].exportFile(r,n),i.length}))}function j(){const e=M("readwrite");e&&e.clear()}function w(e){return new Promise((t,i)=>{const r=M("readonly");if(!r)return void i(c.INDEXEDDB_ERROR);const n=r.get(e);n.onsuccess=()=>t(n.result),n.onerror=()=>t(void 0)})}function S(e){return Object(n["b"])(this,void 0,void 0,(function*(){const[t,r]=yield Promise.all([i.e("firebase").then(i.bind(null,"cc84")),i.e("firebase").then(i.bind(null,"e947"))]).catch(e=>{throw new Error(c.FIREBASE_ERROR)});if(!p){const e=t.default.initializeApp({databaseURL:"https://oprbrainstorming.firebaseio.com"});p||(p=e.database().ref("c/reviews/"))}const n=yield p.child(e).once("value").catch(e=>{throw new Error(c.FIREBASE_ERROR)}),a=n.val();return a&&E(e,a),a}))}function I(){return new Promise(e=>{const t=M("readonly");if(!t)return void e([]);const i=t.getAll();i.onsuccess=()=>{e(i.result)},i.onerror=()=>{console.log(i.error),e([])}})}function E(e,t){const i=M("readwrite");i&&i.put(t,e)}function P(e){return e.status!==a["a"].StatusCode.Pending&&e.resultTime<15187968e5}function M(e){if(m)return m.transaction([u],e).objectStore(u)}e.init=g,e.query=h,e.update=f,e.getFromLocal=b,e.contains=v,e.importDatabase=y,e.exportDatabase=O,e.clear=j})(r||(r={}))},b15b:function(e,t,i){"use strict";var r;i.d(t,"a",(function(){return r})),function(e){function t(e,t){localStorage.setItem(e,JSON.stringify(t))}function i(e,t){const i=localStorage.getItem(e);return null!==i?JSON.parse(i):t}let r,n,a;e.set=t,e.get=i,function(t){const i="potori.pref.general.queryAfterLatest";function r(){return e.get(i,!1)}function n(t){e.set(i,t)}t.queryAfterLatest=r,t.setQueryAfterLatest=n}(r=e.general||(e.general={})),function(t){const i="potori.pref.google.sync";function r(){return e.get(i,!1)}function n(t){e.set(i,t)}t.sync=r,t.setSync=n}(n=e.google||(e.google={})),function(t){const i="potori.pref.brainstorming.autoQueryFirebase";function r(){return e.get(i,!1)}function n(t){e.set(i,t)}t.autoQueryFirebase=r,t.setAutoQueryFirebase=n}(a=e.brainstorming||(e.brainstorming={}))}(r||(r={}))},bd16:function(e,t,i){"use strict";var r=i("7a23");function n(e,t,i,n,a,s){return Object(r["C"])(e.symbol)}var a=i("9ab4"),s=i("1b40");const o={search:"","th-list":"",check:"",times:"",cog:"",clock:"",redo:"",edit:"","info-circle":"","arrow-left":"","arrow-up":"",plus:"","calendar-alt":"","folder-open":"","chart-bar":"",globe:"","angle-up":"","angle-down":"","ellipsis-v":"",trash:"",map:"","sync-alt":"","sign-in-alt":"","redo-alt":"",pen:"","map-marker-alt":"","mobile-alt":"","tachometer-alt":"","user-check":"",brain:""};class c extends s["d"]{get symbol(){return c.nameRegex.test(this.icon)?o[this.icon]:this.icon}}c.nameRegex=/^[a-z\-]+$/,Object(a["c"])([Object(s["c"])(String)],c.prototype,"icon",void 0);i("5be9");c.render=n;t["a"]=c},cd49:function(e,t,i){"use strict";i.r(t);var r=i("7a23"),n=i("47e2"),a=i("6022");function s(e,t,i,n,a,s){const o=Object(r["A"])("router-view"),c=Object(r["A"])("material-dialog"),l=Object(r["A"])("material-snackbar");return Object(r["t"])(),Object(r["e"])(r["a"],null,[Object(r["i"])(o),Object(r["i"])(c,{modelValue:e.alertOpen,"onUpdate:modelValue":t[1]||(t[1]=t=>e.alertOpen=t)},{default:Object(r["F"])(()=>[Object(r["h"])(Object(r["C"])(e.alertMessage),1)]),_:1},8,["modelValue"]),Object(r["i"])(l,{message:e.informMessage,modelValue:e.informOpen,"onUpdate:modelValue":t[2]||(t[2]=t=>e.informOpen=t)},null,8,["message","modelValue"])],64)}var o=i("9ab4"),c=i("1b40"),l=i("42b4");const d={class:"mdc-dialog"},u={class:"mdc-dialog__container"},m={class:"mdc-dialog__surface",role:"alertdialog","aria-modal":"true"},p={class:"mdc-dialog__content"},g={class:"mdc-dialog__actions"},h=Object(r["i"])("div",{class:"mdc-dialog__scrim"},null,-1);function f(e,t,i,n,a,s){const o=Object(r["A"])("material-dialog-action");return Object(r["t"])(),Object(r["e"])("div",d,[Object(r["i"])("div",u,[Object(r["i"])("div",m,[Object(r["i"])("div",p,[Object(r["z"])(e.$slots,"default")]),Object(r["i"])("div",g,[Object(r["z"])(e.$slots,"actions",{},()=>[Object(r["i"])(o,{text:"Discard",action:"close","as-default":""})])])])]),h])}var b=i("704c");function v(e,t,i,n,a,s){const o=Object(r["A"])("material-button");return Object(r["t"])(),Object(r["e"])(o,{type:"button",class:"mdc-dialog__button","data-mdc-dialog-action":e.action,"data-mdc-dialog-button-default":e.asDefault},{default:Object(r["F"])(()=>[Object(r["h"])(Object(r["C"])(e.text),1)]),_:1},8,["data-mdc-dialog-action","data-mdc-dialog-button-default"])}var y=i("1703");let O=class extends c["d"]{};Object(o["c"])([Object(c["c"])(String)],O.prototype,"action",void 0),Object(o["c"])([Object(c["c"])(Boolean)],O.prototype,"asDefault",void 0),Object(o["c"])([Object(c["c"])(String)],O.prototype,"text",void 0),O=Object(o["c"])([Object(c["b"])({components:{MaterialButton:y["a"]}})],O);var j=O;j.render=v;var w=j;let S=class extends c["d"]{onValueChanged(e,t){this.ctrl&&e&&this.ctrl.open()}mounted(){this.ctrl=b["a"].attachTo(this.$el),this.ctrl.listen("MDCDialog:closed",()=>{this.$emit("update:modelValue",!1)}),this.value&&this.ctrl.open()}unmounted(){var e,t,i;(null===(e=this.ctrl)||void 0===e?void 0:e.isOpen)&&(null===(t=this.ctrl)||void 0===t||t.close()),null===(i=this.ctrl)||void 0===i||i.destroy()}};Object(o["c"])([Object(c["a"])("modelValue",{type:Boolean,default:!1})],S.prototype,"value",void 0),Object(o["c"])([Object(c["e"])("value")],S.prototype,"onValueChanged",null),S=Object(o["c"])([Object(c["b"])({components:{MaterialDialogAction:w}})],S);var I=S;i("d65d");I.render=f;var E=I;const P={class:"mdc-snackbar"},M={class:"mdc-snackbar__surface",role:"status","aria-relevant":"additions"},k=Object(r["i"])("div",{class:"mdc-snackbar__label","aria-atomic":"false"},null,-1),A={class:"mdc-snackbar__actions","aria-atomic":"true"};function N(e,t,i,n,a,s){const o=Object(r["A"])("material-icon-button");return Object(r["t"])(),Object(r["e"])("aside",P,[Object(r["i"])("div",M,[k,Object(r["i"])("div",A,[Object(r["i"])(o,{class:"mdc-snackbar__dismiss",icon:"times"})])])])}var T=i("4226"),F=i("81dd");let D=class extends c["d"]{onMessageChanged(e,t){this.ctrl&&(this.ctrl.labelText=e)}onValueChanged(e,t){this.ctrl&&e&&this.ctrl.open()}mounted(){this.ctrl=T["a"].attachTo(this.$el),this.ctrl.labelText=this.message,this.ctrl.listen("MDCSnackbar:closed",()=>{this.$emit("update:modelValue",!1)}),this.value&&this.ctrl.open()}unmounted(){var e,t,i;(null===(e=this.ctrl)||void 0===e?void 0:e.isOpen)&&(null===(t=this.ctrl)||void 0===t||t.close()),null===(i=this.ctrl)||void 0===i||i.destroy()}};Object(o["c"])([Object(c["a"])("modelValue",{type:Boolean,default:!1})],D.prototype,"value",void 0),Object(o["c"])([Object(c["c"])(String)],D.prototype,"message",void 0),Object(o["c"])([Object(c["e"])("message")],D.prototype,"onMessageChanged",null),Object(o["c"])([Object(c["e"])("value")],D.prototype,"onValueChanged",null),D=Object(o["c"])([Object(c["b"])({components:{MaterialIconButton:F["a"]}})],D);var x=D;i("5558");x.render=N;var B=x;let C=class extends c["d"]{constructor(){super(...arguments),this.alertMessage="",this.alertOpen=!1,this.informMessage="",this.informOpen=!1}mounted(){l["a"].events.alert=e=>{this.alertMessage=e,this.alertOpen=!0},l["a"].events.inform=e=>{this.informMessage=e,this.informOpen=!0}}};C=Object(o["c"])([Object(c["b"])({components:{MaterialDialog:E,MaterialSnackbar:B}})],C);var L=C;i("fef8");L.render=s;var R=L,q=i("f90c"),_=i("8d5e"),J=i("ee33"),$=i("8c1d"),U=i("ab99"),z=i("e6cb"),V=i("dd33"),Q=i("2eba"),G=i("d725"),H=i("d18c"),K={en:{general:q},zh:{general:_},"en-US":{general:J,message:$},"zh-CN":{general:U,message:z},"zh-HK":{general:V,message:Q},"zh-TW":{general:G,message:H}},W=i("6c02");const X=[{path:"/",name:"Dashboard",component:()=>Promise.all([i.e("brainstorming~charts~dashboard~details~list~map~match~preferences"),i.e("brainstorming~dashboard"),i.e("dashboard")]).then(i.bind(null,"7277"))},{path:"/charts",name:"Charts",component:()=>Promise.all([i.e("brainstorming~charts~dashboard~details~list~map~match~preferences"),i.e("brainstorming~charts"),i.e("charts")]).then(i.bind(null,"6923"))},{path:"/brainstorming",name:"Brainstorming",component:()=>Promise.all([i.e("brainstorming~charts~dashboard~details~list~map~match~preferences"),i.e("brainstorming~charts"),i.e("brainstorming~dashboard"),i.e("brainstorming")]).then(i.bind(null,"88b2"))},{path:"/list",name:"List",component:()=>Promise.all([i.e("brainstorming~charts~dashboard~details~list~map~match~preferences"),i.e("list")]).then(i.bind(null,"46b1"))},{path:"/details",name:"Details",component:()=>Promise.all([i.e("brainstorming~charts~dashboard~details~list~map~match~preferences"),i.e("details~map"),i.e("details")]).then(i.bind(null,"069a"))},{path:"/map",name:"Map",component:()=>Promise.all([i.e("brainstorming~charts~dashboard~details~list~map~match~preferences"),i.e("details~map"),i.e("map")]).then(i.bind(null,"4af0"))},{path:"/preferences",name:"Preferences",component:()=>Promise.all([i.e("brainstorming~charts~dashboard~details~list~map~match~preferences"),i.e("preferences")]).then(i.bind(null,"a55d"))},{path:"/match",name:"Match",component:()=>Promise.all([i.e("brainstorming~charts~dashboard~details~list~map~match~preferences"),i.e("match")]).then(i.bind(null,"e21b"))}],Z=Object(W["a"])({history:Object(W["b"])("/next/"),routes:X});var Y=Z,ee=i("0613");const te=Object(n["a"])({locale:navigator.language,fallbackLocale:"en",messages:K});a["a"].init(ee["b"]),Object(r["d"])(R).use(ee["b"]).use(Y).use(te).mount("#app")},ce89:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var r,n=i("eded");(function(e){let t,i;(function(e){e[e["Unknown"]=0]="Unknown",e[e["Redacted"]=1]="Redacted",e[e["Prime"]=2]="Prime"})(t=e.ScannerCode||(e.ScannerCode={}));class r{constructor(e,t){this.code=e,this.title=t,this.predicator=e=>e.scanner===this.code}}e.Scanner=r,function(e){e[e["Pending"]=0]="Pending",e[e["Accepted"]=1]="Accepted",e[e["Rejected"]=101]="Rejected"}(i=e.StatusCode||(e.StatusCode={}));class a{constructor(e,t,i,r){this.code=e,this.title=t,this.icon=i,this.queries=r,this.predicator=e=>e.status===this.code}}e.Status=a;class s{constructor(e,t,r,n,a){this.code=e,this.title=t,this.icon=r,this.color=n,this.keywords=a,e===s.undeclared?this.predicator=e=>e.status===i.Rejected&&e.reasons.length<1:this.predicator=t=>t.status===i.Rejected&&t.reasons.indexOf(e)>-1}}s.undeclared=101,s.duplicated=102,s.close=103,e.Reason=s,e.scanner=n.scanners.reduce((e,t)=>{const i=new r(t.code,t.title);return e.set(i.code,i),e},new Map),e.status=n.statuses.reduce((e,t)=>{const i=new a(t.code,t.title,t.iconFA,t.queries.reduce((e,t)=>(e.set(t.scanner,t.query),e),new Map));return e.set(i.code,i),e},new Map),e.reason=n.reasons.reduce((e,t)=>{const i=new s(t.code,t.title,t.iconFA,t.color,t.keywords.reduce((e,t)=>(e.set(t.scanner,t.keywords),e),new Map));return e.set(i.code,i),e},new Map)})(r||(r={}))},d18c:function(e){e.exports=JSON.parse('{"service.brainstorming.firebaseError":"无法擷取線上資料庫。","service.brainstorming.notExists":"資料庫中未找到提名。","service.brainstorming.early":"早期提名資料未录入資料庫中。","service.loadBsData":"加載為Brainstorming數據。","service.nominationsEmpty":"没有提名。","service.uploaded":"已上載。","service.uploadNominationsError":"無法上載提名列表。","service.uploadBsDataError":"無法上載Brainstorming數據。","service.parseError":"无法解析代码。","service.invalidData":"數據無效。","service.bsDataUpdated":"Brainstorming數據已更新。","service.parseEmpty":"列表為空。","service.parseNominationsFailed":"無法解析為提名列表。","service.parseBsDataFailed":"無法解析為Brainstorming數據。","service.imported":"已匯入並更新{{count}}个提名。","service.mari.reportParserError":"解析郵件時出現錯誤，您可以將郵件《{{ subject }}》與這些訊息報告給開發者：{{ message }}。","service.nomination.parseErrorMissingId":"JSON內缺少ID信息","service.nomination.parseErrorMissingTitle":"JSON內缺少標題信息","service.nomination.parseErrorMissingImage":"JSON內缺少圖像信息","service.nomination.parseErrorInvalidId":"JSON內ID為無效值","service.nomination.parseErrorInvalidImage":"JSON內圖片為無效值"}')},d65d:function(e,t,i){"use strict";i("35b6")},d725:function(e){e.exports=JSON.parse('{"service.brainstorming.quality":"質量","service.brainstorming.description":"描述","service.brainstorming.cultural":"文化","service.brainstorming.uniqueness":"獨特","service.brainstorming.safety":"安全","service.brainstorming.location":"位置","service.nomination.day":"{{count}}天","service.nomination.missing":"缺失"}')},dd33:function(e){e.exports=JSON.parse('{"service.brainstorming.quality":"質量","service.brainstorming.description":"描述","service.brainstorming.cultural":"文化","service.brainstorming.uniqueness":"獨特","service.brainstorming.safety":"安全","service.brainstorming.location":"位置","service.nomination.day":"{{count}}天","service.nomination.missing":"缺失"}')},de57:function(e,t,i){},e6cb:function(e){e.exports=JSON.parse('{"service.brainstorming.firebaseError":"无法查询线上数据库。","service.brainstorming.notExists":"数据库中未找到提名。","service.brainstorming.early":"早期提名資料未录入資料庫中。","service.loadBsData":"加载为Brainstorming数据。","service.nominationsEmpty":"没有提名。","service.uploaded":"已上传。","service.uploadNominationsError":"无法上传提名列表。","service.uploadBsDataError":"无法上传Brainstorming数据。","service.parseError":"无法解析代码。","service.invalidData":"数据无效。","service.bsDataUpdated":"Brainstorming数据已更新。","service.parseEmpty":"列表为空。","service.parseNominationsFailed":"无法解析为提名列表。","service.parseBsDataFailed":"无法解析为Brainstorming数据。","service.imported":"已导入并更新{{count}}个提名。","service.mari.reportParserError":"解析邮件时出现错误，您可以将邮件《{{ subject }}》与这些信息报告给开发者：{{ message }}。","service.nomination.parseErrorMissingId":"JSON中缺少ID信息","service.nomination.parseErrorMissingTitle":"JSON中缺少标题信息","service.nomination.parseErrorMissingImage":"JSON中缺少图片信息","service.nomination.parseErrorInvalidId":"JSON中ID为无效值","service.nomination.parseErrorInvalidImage":"JSON中图片为无效值"}')},ea19:function(e,t,i){"use strict";i("39e4")},eded:function(e){e.exports=JSON.parse('{"version":"12","scanners":[{"code":0,"title":"Unknown"},{"code":1,"title":"Redacted"},{"code":2,"title":"Prime"}],"statuses":[{"code":0,"title":"data.pending","iconFA":"","iconSF":"clock","queries":[{"scanner":1,"query":"{from:ingress-support@nianticlabs.com from:ingress-support@google.com} {subject:\\"Portal submission confirmation\\" subject:\\"Ingress Portal Submitted\\"} -edit -photo"},{"scanner":2,"query":"from:nominations@portals.ingress.com subject:(\\"能量塔提交確認\\" OR \\"Portal申請の受領確認\\" OR \\"Portal submission confirmation\\") -AP"}]},{"code":1,"title":"data.accepted","iconFA":"","iconSF":"checkmark.circle","queries":[{"scanner":1,"query":"{from:ingress-support@nianticlabs.com from:ingress-support@google.com} {subject:\\"Portal review complete\\" subject:\\"Ingress Portal Live\\"} {\\"now available\\" \\"will be enabled\\"} -edit -photo"},{"scanner":2,"query":"from:nominations@portals.ingress.com Intel Map AP"}]},{"code":101,"title":"data.rejected","iconFA":"","iconSF":"xmark.circle","queries":[{"scanner":1,"query":"{from:ingress-support@nianticlabs.com from:ingress-support@google.com} subject:{\\"Portal review complete\\" \\"Ingress Portal Rejected\\" \\"Ingress Portal Duplicate\\"} {reviewed duplicate} -edit -photo -AP"},{"scanner":2,"query":"from:nominations@portals.ingress.com subject:(\\"能量塔審查完畢\\" OR \\"Portal審査の完了\\" OR \\"Portal review complete\\") -AP"}]}],"reasons":[{"code":101,"title":"data.undeclared","iconFA":"","iconSF":"xmark.circle","color":"#B0373C","keywords":[]},{"code":102,"title":"data.duplicated","iconFA":"","iconSF":"doc.on.doc","color":"#5E90B8","keywords":[{"scanner":1,"keywords":["duplicate of either an existing Portal","duplicate of an existing Portal"]},{"scanner":2,"keywords":["duplicate of an existing Portal"]}]},{"code":103,"title":"data.close","iconFA":"","iconSF":"ruler","color":"#009345","keywords":[{"scanner":1,"keywords":["is too close to an existing Portal"]},{"scanner":2,"keywords":["能量塔過近","too close to"]}]},{"code":226,"title":"data.criteriaCriteria","iconFA":"","iconSF":"xmark.octagon","color":"#B80233","keywords":[{"scanner":2,"keywords":["meet acceptance criteria"]}]},{"code":236,"title":"data.criteriaNatural","iconFA":"","iconSF":"leaf","color":"#5F8FAD","keywords":[{"scanner":2,"keywords":["be a natural feature"]}]},{"code":246,"title":"data.criteriaTemporary","iconFA":"","iconSF":"circle.dashed","color":"#647372","keywords":[{"scanner":2,"keywords":["seasonal display"]}]},{"code":281,"title":"data.criteriaGeneric","iconFA":"","iconSF":"shippingbox","color":"#F0C649","keywords":[{"scanner":2,"keywords":["generic store"]}]},{"code":331,"title":"data.locationMismatched","iconFA":"","iconSF":"mappin.slash","color":"#C28282","keywords":[{"scanner":2,"keywords":["accurately reflects the submitted"]}]},{"code":341,"title":"data.locationPedestrian","iconFA":"","iconSF":"figure.walk","color":"#B084AC","keywords":[{"scanner":2,"keywords":["acceptable pedestrian pathway"]}]},{"code":346,"title":"data.locationPrivate","iconFA":"","iconSF":"lock","color":"#5A4C4C","keywords":[{"scanner":2,"keywords":["private residential"]}]},{"code":426,"title":"data.photoPlate","iconFA":"","iconSF":"car","color":"#004DB5","keywords":[{"scanner":2,"keywords":["license plate"]}]},{"code":431,"title":"data.photoQuality","iconFA":"","iconSF":"photo","color":"#5A715F","keywords":[{"scanner":2,"keywords":["Photo is low quality"]}]}]}')},ee33:function(e){e.exports=JSON.parse('{"service.brainstorming.quality":"Quality","service.brainstorming.description":"Description","service.brainstorming.cultural":"Cultural","service.brainstorming.uniqueness":"Uniqueness","service.brainstorming.safety":"Safety","service.brainstorming.location":"Location","service.nomination.day":"{{count}} day","service.nomination.day_plural":"{{count}} days","service.nomination.missing":"Missing"}')},f90c:function(e){e.exports=JSON.parse('{"data.pending":"Pending","data.accepted":"Accepted","data.rejected":"Rejected","data.undeclared":"Undeclared","data.duplicated":"Duplicated","data.close":"Too Close","data.criteriaCriteria":"Criteria","data.criteriaNatural":"Natural","data.criteriaTemporary":"Temporary","data.criteriaGeneric":"Generic Store","data.locationMismatched":"Mismatched","data.data.locationPedestrian":"Pedestrian","data.locationPrivate":"Private","data.photoPlate":"License Plate","data.photoQuality":"Photo Quality"}')},fef8:function(e,t,i){"use strict";i("29d4")}});
//# sourceMappingURL=app.bac54fd1.js.map