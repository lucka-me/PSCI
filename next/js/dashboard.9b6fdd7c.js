(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"0473":function(t,e,a){},"075d":function(t){t.exports=JSON.parse('{"en":{"link":"Link Google Account","match":"Manually Match","charts":"Charts","brainstorming":"Brainstorming","processingMails":"Processing Mails","queryingBrainstorming":"Querying Brainstorming","syncing":"Syncing","loadingGAPI":"Loading Google API"},"zh":{"link":"连接Google账号","match":"手动匹配","charts":"图表","brainstorming":"Brainstorming","processingMails":"处理邮件中","queryingBrainstorming":"查询Brainstorming中","syncing":"同步中","loadingGAPI":"正在加载Google API"}}')},"0dcb":function(t,e,a){},"0f82":function(t,e,a){},"123d":function(t){t.exports=JSON.parse('{"en":{"header":"Hightlight","all":"All"},"zh":{"header":"要点","all":"全部"}}')},"292b":function(t,e,a){"use strict";a("9ea5")},"2f0c":function(t){t.exports=JSON.parse('{"en":{"title":"Dashboard","refresh":"Refresh","preferences":"Preferences"},"zh":{"title":"仪表盘","refresh":"刷新","preferences":"偏好设置"}}')},5442:function(t,e,a){},"55fa":function(t){t.exports=JSON.parse('{"en":{"header":"Scanners"},"zh":{"header":"扫描器"}}')},"625f":function(t,e,a){"use strict";a("5442")},7277:function(t,e,a){"use strict";a.r(e);var s=a("7a23");const c={class:"dashboard"};function n(t,e,a,n,r,i){const o=Object(s["A"])("material-icon-button"),l=Object(s["A"])("material-top-app-bar"),u=Object(s["A"])("material-top-app-bar-adjust"),d=Object(s["A"])("status"),b=Object(s["A"])("highlight"),O=Object(s["A"])("gallery"),h=Object(s["A"])("scanners"),j=Object(s["A"])("reasons");return Object(s["t"])(),Object(s["e"])(s["a"],null,[Object(s["i"])(l,{title:t.$t("title")},{default:Object(s["F"])(()=>[t.canRefresh?(Object(s["t"])(),Object(s["e"])(o,{key:0,icon:"redo",title:t.$t("refresh"),onClick:t.refresh},null,8,["title","onClick"])):Object(s["f"])("",!0),Object(s["i"])(o,{icon:"cog",title:t.$t("preferences"),onClick:t.openPreference},null,8,["title","onClick"])]),_:1},8,["title"]),Object(s["i"])(u),Object(s["i"])("main",c,[Object(s["i"])(d),t.empty?Object(s["f"])("",!0):(Object(s["t"])(),Object(s["e"])(b,{key:0})),t.empty?Object(s["f"])("",!0):(Object(s["t"])(),Object(s["e"])(O,{key:1})),t.empty?Object(s["f"])("",!0):(Object(s["t"])(),Object(s["e"])(h,{key:2})),t.empty?Object(s["f"])("",!0):(Object(s["t"])(),Object(s["e"])(j,{key:3}))])],64)}var r=a("9ab4"),i=a("1b40"),o=a("6022"),l=a("81dd"),u=a("2281"),d=a("4892");const b={class:"status"},O={key:0,class:"progress"},h={key:1,class:"actions"};function j(t,e,a,c,n,r){const i=Object(s["A"])("material-linear-progress"),o=Object(s["A"])("material-icon-button");return Object(s["t"])(),Object(s["e"])("div",b,[t.showProgress?(Object(s["t"])(),Object(s["e"])("div",O,[Object(s["i"])("div",null,Object(s["C"])(t.$t(t.progressText)),1),Object(s["i"])(i,{progress:t.$store.state.progress.progress,determinate:t.progressDeterminate},null,8,["progress","determinate"])])):Object(s["f"])("",!0),t.showActions?(Object(s["t"])(),Object(s["e"])("div",h,[t.showLinkButton?(Object(s["t"])(),Object(s["e"])(o,{key:0,icon:"sign-in-alt",title:t.$t("link"),onClick:t.link},null,8,["title","onClick"])):Object(s["f"])("",!0),t.showMatchButton?(Object(s["t"])(),Object(s["e"])(o,{key:1,icon:"user-check",title:t.$t("match"),onClick:t.match},null,8,["title","onClick"])):Object(s["f"])("",!0),t.showChartsButton?(Object(s["t"])(),Object(s["e"])(o,{key:2,icon:"chart-bar",title:t.$t("charts"),onClick:t.openCharts},null,8,["title","onClick"])):Object(s["f"])("",!0),t.showChartsButton?(Object(s["t"])(),Object(s["e"])(o,{key:3,icon:"brain",title:t.$t("brainstorming"),onClick:t.openBrainstorming},null,8,["title","onClick"])):Object(s["f"])("",!0)])):Object(s["f"])("",!0)])}var p=a("2e5e"),g=a("ea0e"),m=a("075d");let v=class extends i["d"]{constructor(){super(...arguments),this.empty=!0}get saveID(){return this.$store.state.dia.saveID}get showProgress(){return this.$store.state.service.status===o["b"].Status.processingMails||(this.$store.state.service.status===o["b"].Status.queryingBrainstorming||(this.$store.state.service.status===o["b"].Status.syncing||!(!this.empty||this.gapiLoaded)))}get progressText(){return this.$store.state.service.status===o["b"].Status.processingMails?"processingMails":this.$store.state.service.status===o["b"].Status.queryingBrainstorming?"queryingBrainstorming":this.$store.state.service.status===o["b"].Status.syncing?"syncing":this.empty&&!this.gapiLoaded?"loadingGAPI":""}get progressDeterminate(){return this.$store.state.service.status===o["b"].Status.processingMails||this.$store.state.service.status===o["b"].Status.queryingBrainstorming}get showLinkButton(){return this.gapiLoaded&&!this.$store.state.google.authed}get showMatchButton(){return this.$store.state.service.status===o["b"].Status.requestMatch}get showChartsButton(){return!this.empty}get showActions(){return this.showLinkButton||this.showMatchButton||this.showChartsButton}get idle(){return this.$store.state.service.status===o["b"].Status.idle}get gapiLoaded(){return this.$store.state.google.loaded}created(){this.updateData()}onSaved(){this.updateData()}link(){o["b"].signIn()}match(){this.$router.push({path:"/match"})}openCharts(){this.$router.push({path:"/charts"})}openBrainstorming(){this.$router.push({path:"/brainstorming"})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=yield p["a"].count();this.empty=t<1}))}};Object(r["c"])([Object(i["e"])("saveID")],v.prototype,"onSaved",null),v=Object(r["c"])([Object(i["b"])({components:{MaterialIconButton:l["a"],MaterialLinearProgress:g["a"]},i18n:{messages:m}})],v);var f=v;a("292b");f.render=j;var y=f;const k={class:"card-grid"};function C(t,e,a,c,n,r){const i=Object(s["A"])("dashboard-card");return Object(s["t"])(),Object(s["e"])(s["a"],null,[Object(s["i"])("h2",null,Object(s["C"])(t.$t("header")),1),Object(s["i"])("div",k,[Object(s["i"])(i,{title:t.$t("all"),icon:"arrow-up",count:t.countAll,onClick:t.open},null,8,["title","count","onClick"]),(Object(s["t"])(!0),Object(s["e"])(s["a"],null,Object(s["y"])(t.dataset,e=>(Object(s["t"])(),Object(s["e"])(i,{key:e.status.code,title:e.status.title,icon:e.status.icon,count:e.count,onClick:a=>t.open(e.status)},null,8,["title","icon","count","onClick"]))),128))])],64)}var D=a("ce89");const A={class:"content"},$={class:"label"},S={class:"title"},w={class:"count"};function B(t,e,a,c,n,r){const i=Object(s["A"])("material-icon"),o=Object(s["A"])("material-card");return Object(s["t"])(),Object(s["e"])(o,{class:"dashboard-card"},{default:Object(s["F"])(()=>[Object(s["i"])("div",A,[Object(s["i"])("div",$,[Object(s["i"])(i,{icon:t.icon,"fixed-width":""},null,8,["icon"]),Object(s["i"])("span",S,Object(s["C"])(t.title),1)]),Object(s["i"])("div",w,Object(s["C"])(t.count),1)])]),_:1})}var M=a("e3a9"),I=a("7e13");let x=class extends i["d"]{};Object(r["c"])([Object(i["c"])(String)],x.prototype,"icon",void 0),Object(r["c"])([Object(i["c"])(String)],x.prototype,"title",void 0),Object(r["c"])([Object(i["c"])(Number)],x.prototype,"count",void 0),x=Object(r["c"])([Object(i["b"])({components:{MaterialCard:M["a"],MaterialIcon:I["a"]}})],x);var q=x;a("d101");q.render=B;var P=q,L=a("123d");let N=class extends i["d"]{constructor(){super(...arguments),this.countAll=0,this.dataset=[]}get saveID(){return this.$store.state.dia.saveID}created(){this.updateData()}onSaved(){this.updateData()}open(t){const e={path:"/list"};t&&(e.query={status:t.code}),this.$router.push(e)}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=new Map;for(const a of D["a"].status.values())t.set(a.code,{status:a,count:0});const e=yield p["a"].getAll();for(const a of e){const e=t.get(a.status);e.count++}this.countAll=e.length,this.dataset=Array.from(t.values())}))}};Object(r["c"])([Object(i["e"])("saveID")],N.prototype,"onSaved",null),N=Object(r["c"])([Object(i["b"])({components:{DashboardCard:P},i18n:{messages:L}})],N);var _=N;_.render=C;var G=_;const J={class:"gallery"},z={class:"caption"};function R(t,e,a,c,n,r){const i=Object(s["A"])("material-icon"),o=Object(s["A"])("material-card");return Object(s["t"])(),Object(s["e"])(s["a"],null,[Object(s["i"])("h2",null,Object(s["C"])(t.$t("header")),1),Object(s["i"])("div",J,[(Object(s["t"])(!0),Object(s["e"])(s["a"],null,Object(s["y"])(t.nominations,e=>(Object(s["t"])(),Object(s["e"])("div",{key:e.id},[Object(s["i"])(o,{image:e.imageUrl,"square-image":"",onClick:a=>t.open(e.id)},{default:Object(s["F"])(()=>[Object(s["i"])("div",z,[Object(s["i"])(i,{icon:e.statusData.icon,"fixed-width":""},null,8,["icon"]),Object(s["i"])("span",null,Object(s["C"])(e.title),1)])]),_:2},1032,["image","onClick"])]))),128))])],64)}var T,F=a("a7a0"),U=a("a1cc");let H=T=class extends i["d"]{constructor(){super(...arguments),this.nominations=[]}get saveID(){return this.$store.state.dia.saveID}created(){this.updateData()}onSaved(){this.updateData()}open(t){this.$router.push({path:"/details",query:{id:t}})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=yield p["a"].getAll(T.predicator);this.nominations=t.map(t=>F["a"].from(t)).sort(F["a"].comparatorByTime)}))}};H.datePast30Days=Date.now()-2592e6,H.predicator=t=>t.confirmedTime>T.datePast30Days||t.resultTime>T.datePast30Days,Object(r["c"])([Object(i["e"])("saveID")],H.prototype,"onSaved",null),H=T=Object(r["c"])([Object(i["b"])({components:{MaterialCard:M["a"],MaterialIcon:I["a"]},i18n:{messages:U}})],H);var W=H;a("c79b");W.render=R;var Q=W;const E={class:"card-grid"};function K(t,e,a,c,n,r){const i=Object(s["A"])("dashboard-card");return Object(s["t"])(),Object(s["e"])(s["a"],null,[Object(s["i"])("h2",null,Object(s["C"])(t.$t("header")),1),Object(s["i"])("div",E,[(Object(s["t"])(!0),Object(s["e"])(s["a"],null,Object(s["y"])(t.dataset,e=>(Object(s["t"])(),Object(s["e"])(i,{key:e.scanner.code,title:e.scanner.title,icon:"mobile-alt",count:e.count,onClick:a=>t.open(e.scanner)},null,8,["title","count","onClick"]))),128))])],64)}var V=a("55fa");let X=class extends i["d"]{constructor(){super(...arguments),this.dataset=[]}created(){this.updateData()}onSaved(){this.updateData()}open(t){this.$router.push({path:"/list",query:{scanner:t.code}})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=new Map;for(const a of D["a"].scanner.values())a.code!==D["a"].ScannerCode.Unknown&&t.set(a.code,{scanner:a,count:0});const e=yield p["a"].getAll();for(const a of e){if(a.scanner===D["a"].ScannerCode.Unknown)continue;const e=t.get(a.scanner);e.count++}this.dataset=Array.from(t.values()).filter(t=>t.count>0).sort((t,e)=>t.scanner.code>e.scanner.code?1:-1)}))}};Object(r["c"])([Object(i["e"])("saveID")],X.prototype,"onSaved",null),X=Object(r["c"])([Object(i["b"])({components:{DashboardCard:P},i18n:{messages:V}})],X);var Y=X;Y.render=K;var Z=Y;const tt={class:"title-with-action"},et=Object(s["i"])("div",{class:"spacer"},null,-1),at={class:"card-grid"};function st(t,e,a,c,n,r){const i=Object(s["A"])("material-button"),o=Object(s["A"])("dashboard-card");return Object(s["t"])(),Object(s["e"])(s["a"],null,[Object(s["i"])("h2",tt,[Object(s["i"])("span",null,Object(s["C"])(t.$t("header")),1),et,Object(s["i"])(i,{onClick:t.toggleMore},{default:Object(s["F"])(()=>[Object(s["h"])(Object(s["C"])(t.$t(t.more?"less":"more")),1)]),_:1},8,["onClick"])]),Object(s["i"])("div",at,[(Object(s["t"])(!0),Object(s["e"])(s["a"],null,Object(s["y"])(t.dataset,e=>(Object(s["t"])(),Object(s["e"])(o,{key:e.reason.code,title:e.reason.title,icon:e.reason.icon,count:e.count,onClick:a=>t.open(e.reason)},null,8,["title","icon","count","onClick"]))),128))])],64)}var ct=a("1703"),nt=a("960b");let rt=class extends i["d"]{constructor(){super(...arguments),this.more=!1,this.datasetAll=[]}get saveID(){return this.$store.state.dia.saveID}get dataset(){return this.more?this.datasetAll:this.datasetAll.slice(0,4)}created(){this.updateData()}onSaved(){this.updateData()}toggleMore(){this.more=!this.more}open(t){this.$router.push({path:"/list",query:{reason:t.code}})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=new Map,e=yield p["a"].getAll(D["a"].status.get(D["a"].StatusCode.Rejected).predicator);for(const a of D["a"].reason.values()){const s=e.filter(a.predicator).length;s<1||t.set(a.code,{reason:a,count:s})}this.datasetAll=Array.from(t.values())}))}};Object(r["c"])([Object(i["e"])("saveID")],rt.prototype,"onSaved",null),rt=Object(r["c"])([Object(i["b"])({components:{MaterialButton:ct["a"],DashboardCard:P},i18n:{messages:nt}})],rt);var it=rt;a("adc7");it.render=st;var ot=it,lt=a("2f0c");let ut=class extends i["d"]{constructor(){super(...arguments),this.empty=!0}get canRefresh(){return this.$store.state.service.status===o["b"].Status.idle&&this.$store.state.google.authed}get saveID(){return this.$store.state.dia.saveID}created(){this.updateData()}onSaved(){this.updateData()}refresh(){o["b"].refresh()}openPreference(){this.$router.push({path:"/preferences"})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=yield p["a"].count();this.empty=t<1}))}};Object(r["c"])([Object(i["e"])("saveID")],ut.prototype,"onSaved",null),ut=Object(r["c"])([Object(i["b"])({components:{MaterialTopAppBar:u["a"],MaterialTopAppBarAdjust:d["a"],MaterialIconButton:l["a"],Status:y,Highlight:G,Gallery:Q,Scanners:Z,Reasons:ot},i18n:{messages:lt}})],ut);var dt=ut;a("625f");dt.render=n;e["default"]=dt},"7e13":function(t,e,a){"use strict";var s=a("7a23");function c(t,e,a,c,n,r){const i=Object(s["A"])("material-icon-raw");return Object(s["t"])(),Object(s["e"])("i",{class:t.className},[Object(s["i"])(i,{icon:t.icon},null,8,["icon"])],2)}var n=a("9ab4"),r=a("1b40"),i=a("bd16");let o=class extends r["d"]{get className(){let t="fa";return this.fixedWidth&&(t+=" fa-fw"),t}};Object(n["c"])([Object(r["c"])(String)],o.prototype,"icon",void 0),Object(n["c"])([Object(r["c"])(Boolean)],o.prototype,"fixedWidth",void 0),o=Object(n["c"])([Object(r["b"])({components:{MaterialIconRaw:i["a"]}})],o);var l=o;l.render=c;e["a"]=l},"8e15":function(t,e,a){"use strict";a("0f82")},"960b":function(t){t.exports=JSON.parse('{"en":{"header":"Reasons","more":"More","less":"Less"},"zh":{"header":"拒绝原因","more":"更多","less":"更少"}}')},"9ea5":function(t,e,a){},a1cc:function(t){t.exports=JSON.parse('{"en":{"header":"Last 30 Days"},"zh":{"header":"近30天"}}')},adc7:function(t,e,a){"use strict";a("0473")},c79b:function(t,e,a){"use strict";a("0dcb")},d101:function(t,e,a){"use strict";a("ee55")},e3a9:function(t,e,a){"use strict";var s=a("7a23");const c={class:"mdc-card mdc-card--outlined"},n={class:"mdc-card__primary-action"};function r(t,e,a,r,i,o){return Object(s["t"])(),Object(s["e"])("div",c,[Object(s["i"])("div",n,[t.image?(Object(s["t"])(),Object(s["e"])("div",{key:0,class:t.mediaClassName,style:t.mediaStyle},null,6)):Object(s["f"])("",!0),Object(s["z"])(t.$slots,"default")])])}var i=a("9ab4"),o=a("1b40");class l extends o["d"]{get mediaClassName(){return"mdc-card__media mdc-card__media--"+(this.squareImage?"square":"16-9")}get mediaStyle(){return this.image?`background-image: url("${this.image}")`:""}}Object(i["c"])([Object(o["c"])(String)],l.prototype,"image",void 0),Object(i["c"])([Object(o["c"])(Boolean)],l.prototype,"squareImage",void 0);a("8e15");l.render=r;e["a"]=l},ee55:function(t,e,a){}}]);
//# sourceMappingURL=dashboard.9b6fdd7c.js.map