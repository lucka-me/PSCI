(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["charts"],{"16f8":function(t){t.exports=JSON.parse('{"en":{"title":"Charts"},"zh":{"title":"图表"}}')},"24c7":function(t,e,s){},"3fde":function(t){t.exports=JSON.parse('{"en":{"title":"Status"},"zh":{"title":"状态"}}')},6923:function(t,e,s){"use strict";s.r(e);var a=s("7a23");const r={key:0,class:"charts"},o={class:"grid grid--1-2"},n={class:"grid grid--2-1"};function c(t,e,s,c,i,l){const u=Object(a["A"])("material-top-app-bar"),b=Object(a["A"])("material-top-app-bar-adjust"),d=Object(a["A"])("status-chart"),h=Object(a["A"])("reasons-chart"),p=Object(a["A"])("count-by-month-chart"),f=Object(a["A"])("interval-chart"),O=Object(a["A"])("quotas-chart");return Object(a["t"])(),Object(a["e"])(a["a"],null,[Object(a["i"])(u,{title:t.$t("title"),"navi-back":""},null,8,["title"]),Object(a["i"])(b),t.$store.getters.empty?Object(a["f"])("",!0):(Object(a["t"])(),Object(a["e"])("main",r,[Object(a["i"])("div",o,[Object(a["i"])(d),Object(a["i"])(h)]),Object(a["i"])(p),Object(a["i"])("div",n,[Object(a["i"])(f),Object(a["i"])(O)])]))],64)}var i=s("9ab4"),l=s("9b4a"),u=(s("cadc"),s("ce1f")),b=s("2281"),d=s("4892");function h(t,e,s,r,o,n){const c=Object(a["A"])("chart-view"),i=Object(a["A"])("chart-block");return Object(a["t"])(),Object(a["e"])(i,{title:t.$t("title")},{default:Object(a["F"])(()=>[Object(a["i"])(c,{"chart-type":"line","chart-datasets":t.datasets,"chart-options":t.options},null,8,["chart-datasets","chart-options"])]),_:1},8,["title"])}var p=s("1315"),f=s("1b40"),O=s("240d"),m=s("6163"),j=s("7607");let g=class extends f["d"]{constructor(){super(...arguments),this.options={scales:{x:{type:"time",time:{unit:"month",tooltipFormat:"yyyy-MM",displayFormats:{month:"yyyy-MM"}}}},plugins:{tooltip:{mode:"x"}}}}get datasets(){var t,e;const s=this.$store.state.nominations,a=new Map,r=new Map;if(s.length>0){let o=p["DateTime"].fromMillis(s[0].confirmedTime).startOf("month").valueOf(),n=o;for(const c of s){if(c.confirmedTime>0){const e=p["DateTime"].fromMillis(c.confirmedTime).startOf("month").valueOf();e<o?o=e:e>n&&(n=e),a.set(e,(null!==(t=a.get(e))&&void 0!==t?t:0)+1)}if(c.resultTime>0){const t=p["DateTime"].fromMillis(c.resultTime).startOf("month").valueOf();t>n&&(n=t),r.set(t,(null!==(e=r.get(t))&&void 0!==e?e:0)+1)}}Object(O["b"])(a,o,n),Object(O["b"])(r,o,n)}const o=[],n=[];for(const[l,u]of a)o.push({x:l,y:u});for(const[l,u]of r)n.push({x:l,y:u});o.sort((t,e)=>t.x-e.x),n.sort((t,e)=>t.x-e.x);const c={label:this.$t("submissions"),data:o,borderColor:"orange",pointBackgroundColor:"orange",pointRadius:0,fill:!1},i={label:this.$t("results"),data:n,borderColor:"royalblue",pointBackgroundColor:"royalblue",pointRadius:0,fill:!1};return[c,i]}};g=Object(i["c"])([Object(f["b"])({components:{ChartBlock:O["a"],ChartView:m["a"]},i18n:{messages:j}})],g);var v=g;v.render=h;var y=v;function C(t,e,s,r,o,n){const c=Object(a["A"])("chart-view"),i=Object(a["A"])("chart-block");return Object(a["t"])(),Object(a["e"])(i,{title:t.$t("title")},{default:Object(a["F"])(()=>[Object(a["i"])(c,{"chart-type":"bar","chart-datasets":t.datasets,"chart-labels":t.labels,"chart-options":t.options},null,8,["chart-datasets","chart-labels","chart-options"])]),_:1},8,["title"])}var k,A=s("ce89"),w=s("8899");let x=k=class extends f["d"]{constructor(){super(...arguments),this.options={plugins:{legend:{display:!1}}}}get labels(){return this.stats.map(t=>t.interval)}get datasets(){const t=this.stats.map(t=>t.count),e={data:t,backgroundColor:"royalblue",hoverBackgroundColor:"royalblue"};return[e]}get stats(){const t=this.$store.state.nominations,e=t.reduce((t,e)=>{var s;if(e.status===A["a"].StatusCode.Pending)return t;if(e.confirmedTime<k.timeValid)return t;if(e.resultTime<k.timeValid)return t;if(e.resultTime<e.confirmedTime)return t;const a=Math.floor((e.resultTime-e.confirmedTime)/k.timeDay);return t.set(a,(null!==(s=t.get(a))&&void 0!==s?s:0)+1),t},new Map),s=[];for(const[a,r]of e)s.push({interval:a,count:r});return s.sort((t,e)=>t.interval-e.interval),s}};x.timeValid=1325347200,x.timeDay=864e5,x=k=Object(i["c"])([Object(f["b"])({components:{ChartBlock:O["a"],ChartView:m["a"]},i18n:{messages:w}})],x);var M=x;M.render=C;var B=M;function T(t,e,s,r,o,n){const c=Object(a["A"])("chart-view"),i=Object(a["A"])("chart-block");return Object(a["t"])(),Object(a["e"])(i,{title:t.$t("title")},{default:Object(a["F"])(()=>[Object(a["i"])(c,{"chart-type":"bar","chart-datasets":t.datasets,"chart-labels":t.labels,"chart-options":t.options},null,8,["chart-datasets","chart-labels","chart-options"])]),_:1},8,["title"])}var $,S=s("f433");let D=$=class extends f["d"]{constructor(){super(...arguments),this.options={plugins:{legend:{display:!1}}}}get labels(){const t=[];for(let e=0;e<14;e++)t.push(e);return t}get datasets(){const t=this.$store.state.nominations,e=Date.now(),s=new Array(14).fill(0);for(const r of t){const t=r.restoreTime;t>e&&(s[Math.floor((t-e)/$.timeDay)]+=1)}const a={data:s,backgroundColor:"royalblue",hoverBackgroundColor:"royalblue"};return[a]}};D.timeDay=864e5,D=$=Object(i["c"])([Object(f["b"])({components:{ChartBlock:O["a"],ChartView:m["a"]},i18n:{messages:S}})],D);var F=D;F.render=T;var J=F;function R(t,e,s,r,o,n){const c=Object(a["A"])("chart-view"),i=Object(a["A"])("chart-block");return Object(a["t"])(),Object(a["e"])(i,{title:t.$t("title")},{default:Object(a["F"])(()=>[Object(a["i"])(c,{"chart-type":"doughnut","chart-datasets":t.datasets,"chart-labels":t.labels,"chart-options":t.opitons},null,8,["chart-datasets","chart-labels","chart-options"])]),_:1},8,["title"])}var V=s("f667");let z=class extends f["d"]{constructor(){super(...arguments),this.opitons={plugins:{legend:{display:!0,position:"right"}}}}get labels(){const t=this.stats,e=[];for(const s of t.values())s[1]<1||e.push(s[0].title);return e}get datasets(){const t=this.stats,e=[],s=[];for(const r of t.values())r[1]<1||(e.push(r[1]),s.push(r[0].color));const a={data:e,backgroundColor:s,borderAlign:"inner",borderColor:"rgba(0, 0, 0, 0.2)",hoverBackgroundColor:s,hoverBorderColor:"rgba(0, 0, 0, 0.4)"};return[a]}get stats(){const t=new Map;for(const[e,s]of A["a"].reason)t.set(e,[s,0]);return this.$store.state.nominations.reduce((t,e)=>{if(e.status!==A["a"].StatusCode.Rejected)return t;if(e.reasons.length>0)for(const s of e.reasons)t.get(s)[1]++;else t.get(A["a"].Reason.undeclared)[1]++;return t},t),t}};z=Object(i["c"])([Object(f["b"])({components:{ChartBlock:O["a"],ChartView:m["a"]},i18n:{messages:V}})],z);var N=z;N.render=R;var _=N;function q(t,e,s,r,o,n){const c=Object(a["A"])("chart-view"),i=Object(a["A"])("chart-block");return Object(a["t"])(),Object(a["e"])(i,{title:t.$t("title")},{default:Object(a["F"])(()=>[Object(a["i"])(c,{"chart-type":"doughnut","chart-datasets":t.datasets,"chart-labels":t.labels,"chart-options":t.options},null,8,["chart-datasets","chart-labels","chart-options"])]),_:1},8,["title"])}var I,Q=s("3fde");let P=I=class extends f["d"]{constructor(){super(...arguments),this.options={plugins:{legend:{display:!0,position:"right"}}}}get labels(){const t=[];for(const e of A["a"].status.values())t.push(e.title);return t}get datasets(){const t=new Map;for(const a of A["a"].status.keys())t.set(a,0);this.$store.state.nominations.reduce((t,e)=>(t.set(e.status,t.get(e.status)+1),t),t);const e=[];for(const a of t.values())e.push(a);const s={data:e,backgroundColor:I.colors,borderAlign:"inner",borderColor:"rgba(0, 0, 0, 0.2)",hoverBackgroundColor:I.colors,hoverBorderColor:"rgba(0, 0, 0, 0.4)"};return[s]}};P.colors=["#CAAF85","#35C572","#B0373C"],P=I=Object(i["c"])([Object(f["b"])({components:{ChartBlock:O["a"],ChartView:m["a"]},i18n:{messages:Q}})],P);var W=P;W.render=q;var E=W,G=s("16f8");let H=class extends u["b"]{created(){l["e"].register(l["a"],l["c"],l["j"],l["m"],l["b"],l["f"],l["i"],l["d"],l["k"],l["l"],l["p"],l["q"],l["h"]),l["e"].defaults.maintainAspectRatio=!1,l["e"].defaults.plugins.legend.labels.boxWidth=10,l["e"].defaults.plugins.tooltip.intersect=!1,l["e"].defaults.elements.line.tension=.1}};H=Object(i["c"])([Object(u["a"])({components:{MaterialTopAppBar:b["a"],MaterialTopAppBarAdjust:d["a"],StatusChart:E,ReasonsChart:_,CountByMonthChart:y,IntervalChart:B,QuotasChart:J},i18n:{messages:G}})],H);var K=H;s("8e88");K.render=c;e["default"]=K},7607:function(t){t.exports=JSON.parse('{"en":{"title":"Count by Month","submissions":"Submissions","results":"Results"},"zh":{"title":"每月统计","submissions":"提交","results":"结果"}}')},8899:function(t){t.exports=JSON.parse('{"en":{"title":"Interval (Days)"},"zh":{"title":"耗时（天）"}}')},"8e88":function(t,e,s){"use strict";s("24c7")},f433:function(t){t.exports=JSON.parse('{"en":{"title":"Quotas (Days)"},"zh":{"title":"名额（天）"}}')},f667:function(t){t.exports=JSON.parse('{"en":{"title":"Reasons"},"zh":{"title":"拒绝理由"}}')}}]);
//# sourceMappingURL=charts.48d83eba.js.map