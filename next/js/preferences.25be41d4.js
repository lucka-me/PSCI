(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["preferences"],{"041d":function(e,t,n){},"0d7f":function(e){e.exports=JSON.parse('{"version":"0.9.0","build":"1400"}')},a55d:function(e,t,n){"use strict";n.r(t);var c=n("7a23");const r={class:"preferences"},a=Object(c["h"])("hr",null,null,-1),o=Object(c["h"])("hr",null,null,-1),i=Object(c["h"])("hr",null,null,-1);function s(e,t,n,s,l,d){const u=Object(c["x"])("material-top-app-bar"),b=Object(c["x"])("material-top-app-bar-adjust"),O=Object(c["x"])("general-preferences"),j=Object(c["x"])("google-preferences"),h=Object(c["x"])("data-preferences"),p=Object(c["x"])("about-preferences");return Object(c["q"])(),Object(c["d"])(c["a"],null,[Object(c["h"])(u,{title:"Preferences","navi-back":""}),Object(c["h"])(b),Object(c["h"])("main",r,[Object(c["h"])(O),a,Object(c["h"])(j),o,Object(c["h"])(h),i,Object(c["h"])(p)])],64)}var l=n("9ab4"),d=n("ce1f"),u=n("2281"),b=n("4892");const O=Object(c["h"])("h2",null,"About",-1),j=Object(c["g"])("Open"),h=Object(c["g"])("Open"),p=Object(c["g"])("Export");function f(e,t,n,r,a,o){const i=Object(c["x"])("preference-row"),s=Object(c["x"])("material-button");return Object(c["q"])(),Object(c["d"])(c["a"],null,[O,Object(c["h"])(i,{text:"App Version",desc:e.appVersion},null,8,["desc"]),Object(c["h"])(i,{text:"Data Version",desc:e.dataVersion},null,8,["desc"]),Object(c["h"])(i,{text:"Document"},{default:Object(c["C"])(()=>[Object(c["h"])(s,{onClick:e.openDoc},{default:Object(c["C"])(()=>[j]),_:1},8,["onClick"])]),_:1}),Object(c["h"])(i,{text:"Code Repository",desc:"GitHub"},{default:Object(c["C"])(()=>[Object(c["h"])(s,{onClick:e.openRepo},{default:Object(c["C"])(()=>[h]),_:1},8,["onClick"])]),_:1}),e.hasErrors?(Object(c["q"])(),Object(c["d"])(i,{key:0,text:"Export Errors",desc:"Export errors logged by Potori"},{default:Object(c["C"])(()=>[Object(c["h"])(s,{onClick:e.exportErrors},{default:Object(c["C"])(()=>[p]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0)],64)}var C,m=n("42b4"),g=n("6022"),v=n("0d7f"),y=n("eded");(function(e){e.full=document.URL.includes("lucka.moe"),e.text=`${v.version}-${e.full?"lite":"full"} (${v.build})`,e.data=y.version})(C||(C={}));var k=n("1703");const _={class:"row"},x={class:"text"},w={key:0,class:"desc"},E={key:0,class:"spacer"},A={key:1,class:"action"};function S(e,t,n,r,a,o){return Object(c["q"])(),Object(c["d"])("div",_,[Object(c["h"])("div",x,[Object(c["h"])("span",null,Object(c["z"])(e.text),1),e.desc?(Object(c["q"])(),Object(c["d"])("span",w,Object(c["z"])(e.desc),1)):Object(c["e"])("",!0)]),e.$slots.default?(Object(c["q"])(),Object(c["d"])("div",E)):Object(c["e"])("",!0),e.$slots.default?(Object(c["q"])(),Object(c["d"])("div",A,[Object(c["w"])(e.$slots,"default")])):Object(c["e"])("",!0)])}var N=n("1b40");class L extends N["d"]{}Object(l["c"])([Object(N["c"])(String)],L.prototype,"text",void 0),Object(l["c"])([Object(N["c"])(String)],L.prototype,"desc",void 0);n("e723");L.render=S;var q=L;let D=class extends d["b"]{get appVersion(){return C.text}get dataVersion(){return C.data}get hasErrors(){return g["a"].errors.length>0}openDoc(){window.open("/docs","_blank")}openRepo(){window.open("https://github.com/lucka-me/potori","_blank")}exportErrors(){let e="";for(const n of g["a"].errors){let t=n.message;if("message"in n.error){const e=n.error;t=e.stack||e.message}e+=`[${n.filename}][${n.lineno}:${n.colno}]${t}\n`}const t=document.createElement("textarea");t.value=e,t.readOnly=!0,document.body.append(t),t.select(),document.execCommand("copy"),t.remove(),m["a"].inform(`Copied ${g["a"].errors.length} errors to clipboard.`)}};D=Object(l["c"])([Object(d["a"])({components:{MaterialButton:k["a"],PreferenceRow:q}})],D);var R=D;R.render=f;var P=R;const $=Object(c["h"])("h2",null,"Data",-1),I=Object(c["g"])("Import"),T=Object(c["g"])("Export"),V=Object(c["g"])("Import"),M=Object(c["g"])("Clear");function U(e,t,n,r,a,o){const i=Object(c["x"])("material-button"),s=Object(c["x"])("preference-row");return Object(c["q"])(),Object(c["d"])(c["a"],null,[$,e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:0,text:"Import Nominations",desc:"Import nominations from file"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{onClick:e.importNominations},{default:Object(c["C"])(()=>[I]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0),e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:1,text:"Export Nominations",desc:"Export nominations to file"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{onClick:e.exportNominations},{default:Object(c["C"])(()=>[T]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0),e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:2,text:"Import Wayfarer JSON",desc:"Export JSON from https://wayfarer.nianticlabs.com/api/v1/vault/manage"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{onClick:e.importWayfarerJSON},{default:Object(c["C"])(()=>[V]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0),e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:3,text:"Clear Nominations",desc:"Clear all nominations from local storage"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{onClick:e.clearNominations},{default:Object(c["C"])(()=>[M]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0)],64)}var B=n("0613");let G=class extends d["b"]{get idle(){return this.$store.state.status===B["a"].Status.idle}importNominations(){g["a"].importNominationsFile(e=>{m["a"].inform(`Imported ${e} nominations.`)})}exportNominations(){g["a"].exportNominationsFile()}importWayfarerJSON(){const e=window.prompt("Paste Wayfarer JSON");if(!e)return;const t=g["a"].importWayfarerJSON(e);switch(t){case-1:m["a"].alert("Unable to parse the JSON.");break;case-2:m["a"].alert("The data is invalid.");break;default:m["a"].inform(`Updated ${t} nominations.`);break}}clearNominations(){g["a"].clearNominations()}};G=Object(l["c"])([Object(d["a"])({components:{MaterialButton:k["a"],PreferenceRow:q}})],G);var H=G;H.render=U;var J=H;const W=Object(c["h"])("h2",null,"General",-1);function F(e,t,n,r,a,o){const i=Object(c["x"])("material-switch"),s=Object(c["x"])("preference-row");return Object(c["q"])(),Object(c["d"])(c["a"],null,[W,Object(c["h"])(s,{text:"Query After Latest",desc:"Query mails received after the latest one"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{modelValue:e.queryAfterLatest,"onUpdate:modelValue":t[1]||(t[1]=t=>e.queryAfterLatest=t)},null,8,["modelValue"])]),_:1})],64)}var K=n("b15b");const Q={class:"mdc-switch"},z=Object(c["h"])("div",{class:"mdc-switch__track"},null,-1),X=Object(c["h"])("div",{class:"mdc-switch__thumb-underlay"},[Object(c["h"])("div",{class:"mdc-switch__thumb"}),Object(c["h"])("input",{type:"checkbox",class:"mdc-switch__native-control",role:"switch"})],-1);function Y(e,t,n,r,a,o){return Object(c["q"])(),Object(c["d"])("div",Q,[z,X])}var Z=n("8136"),ee=n("9373"),te=n("d87f"),ne=n("40ff"),ce=n("4303"),re=n("6689"),ae={CHECKED:"mdc-switch--checked",DISABLED:"mdc-switch--disabled"},oe={ARIA_CHECKED_ATTR:"aria-checked",NATIVE_CONTROL_SELECTOR:".mdc-switch__native-control",RIPPLE_SURFACE_SELECTOR:".mdc-switch__thumb-underlay"},ie=function(e){function t(n){return e.call(this,Object(l["a"])(Object(l["a"])({},t.defaultAdapter),n))||this}return Object(l["d"])(t,e),Object.defineProperty(t,"strings",{get:function(){return oe},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return ae},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlChecked:function(){},setNativeControlDisabled:function(){},setNativeControlAttr:function(){}}},enumerable:!0,configurable:!0}),t.prototype.setChecked=function(e){this.adapter.setNativeControlChecked(e),this.updateAriaChecked_(e),this.updateCheckedStyling_(e)},t.prototype.setDisabled=function(e){this.adapter.setNativeControlDisabled(e),e?this.adapter.addClass(ae.DISABLED):this.adapter.removeClass(ae.DISABLED)},t.prototype.handleChange=function(e){var t=e.target;this.updateAriaChecked_(t.checked),this.updateCheckedStyling_(t.checked)},t.prototype.updateCheckedStyling_=function(e){e?this.adapter.addClass(ae.CHECKED):this.adapter.removeClass(ae.CHECKED)},t.prototype.updateAriaChecked_=function(e){this.adapter.setNativeControlAttr(oe.ARIA_CHECKED_ATTR,""+!!e)},t}(re["a"]),se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ripple_=t.createRipple_(),t}return Object(l["d"])(t,e),t.attachTo=function(e){return new t(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ripple_.destroy(),this.nativeControl_.removeEventListener("change",this.changeHandler_)},t.prototype.initialSyncWithDOM=function(){var e=this;this.changeHandler_=function(){for(var t,n=[],c=0;c<arguments.length;c++)n[c]=arguments[c];return(t=e.foundation).handleChange.apply(t,Object(l["e"])(n))},this.nativeControl_.addEventListener("change",this.changeHandler_),this.checked=this.checked},t.prototype.getDefaultFoundation=function(){var e=this,t={addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},setNativeControlChecked:function(t){return e.nativeControl_.checked=t},setNativeControlDisabled:function(t){return e.nativeControl_.disabled=t},setNativeControlAttr:function(t,n){return e.nativeControl_.setAttribute(t,n)}};return new ie(t)},Object.defineProperty(t.prototype,"ripple",{get:function(){return this.ripple_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this.nativeControl_.checked},set:function(e){this.foundation.setChecked(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.nativeControl_.disabled},set:function(e){this.foundation.setDisabled(e)},enumerable:!0,configurable:!0}),t.prototype.createRipple_=function(){var e=this,t=ie.strings.RIPPLE_SURFACE_SELECTOR,n=this.root.querySelector(t),c=Object(l["a"])(Object(l["a"])({},ne["a"].createAdapter(this)),{addClass:function(e){return n.classList.add(e)},computeBoundingRect:function(){return n.getBoundingClientRect()},deregisterInteractionHandler:function(t,n){e.nativeControl_.removeEventListener(t,n,Object(ee["a"])())},isSurfaceActive:function(){return Object(te["c"])(e.nativeControl_,":active")},isUnbounded:function(){return!0},registerInteractionHandler:function(t,n){e.nativeControl_.addEventListener(t,n,Object(ee["a"])())},removeClass:function(e){n.classList.remove(e)},updateCssVariable:function(e,t){n.style.setProperty(e,t)}});return new ne["a"](this.root,new ce["a"](c))},Object.defineProperty(t.prototype,"nativeControl_",{get:function(){var e=ie.strings.NATIVE_CONTROL_SELECTOR;return this.root.querySelector(e)},enumerable:!0,configurable:!0}),t}(Z["a"]);class le extends N["d"]{mounted(){this.ctrl=se.attachTo(this.$el),this.ctrl.checked=this.value,this.ctrl.listen("change",this.changed)}updated(){var e;null===(e=this.ctrl)||void 0===e||e.destroy(),this.ctrl=se.attachTo(this.$el),this.ctrl.checked=this.value,this.ctrl.listen("change",this.changed)}unmounted(){var e;null===(e=this.ctrl)||void 0===e||e.destroy()}changed(){this.ctrl&&this.$emit("update:modelValue",this.ctrl.checked)}}Object(l["c"])([Object(N["a"])("modelValue",{type:Boolean,default:!1})],le.prototype,"value",void 0);n("e4ce");le.render=Y;var de=le;let ue=class extends d["b"]{get queryAfterLatest(){return K["a"].general.queryAfterLatest()}set queryAfterLatest(e){K["a"].general.setQueryAfterLatest(e)}};ue=Object(l["c"])([Object(d["a"])({components:{MaterialSwitch:de,PreferenceRow:q}})],ue);var be=ue;be.render=F;var Oe=be;const je=Object(c["h"])("h2",null,"Google",-1),he=Object(c["g"])("Unlink"),pe=Object(c["g"])("Link"),fe=Object(c["g"])("Sync"),Ce=Object(c["g"])("Upload"),me=Object(c["g"])("Migrate");function ge(e,t,n,r,a,o){const i=Object(c["x"])("material-button"),s=Object(c["x"])("preference-row"),l=Object(c["x"])("material-switch");return Object(c["q"])(),Object(c["d"])(c["a"],null,[je,e.loaded?(Object(c["q"])(),Object(c["d"])(s,{key:0,text:"Account",desc:"Link / unlink Google Account"},{default:Object(c["C"])(()=>[e.authed?(Object(c["q"])(),Object(c["d"])(i,{key:0,onClick:e.unlink},{default:Object(c["C"])(()=>[he]),_:1},8,["onClick"])):(Object(c["q"])(),Object(c["d"])(i,{key:1,onClick:e.link},{default:Object(c["C"])(()=>[pe]),_:1},8,["onClick"]))]),_:1})):Object(c["e"])("",!0),e.authed&&e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:1,text:"Sync Google Drive",desc:"Sync with Google Drive when refresh"},{default:Object(c["C"])(()=>[Object(c["h"])(l,{modelValue:e.sync,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sync=t)},null,8,["modelValue"])]),_:1})):Object(c["e"])("",!0),e.authed&&e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:2,text:"Sync Now",desc:"Sync with Google Drive"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{onClick:e.doSync},{default:Object(c["C"])(()=>[fe]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0),e.authed&&e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:3,text:"Upload Now",desc:"Upload data to Google Drive"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{onClick:e.upload},{default:Object(c["C"])(()=>[Ce]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0),e.authed&&e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:4,text:"Migrate",desc:"Migrate data from Potori before 0.8.0"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{onClick:e.migrate},{default:Object(c["C"])(()=>[me]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0),e.loaded?Object(c["e"])("",!0):(Object(c["q"])(),Object(c["d"])(s,{key:5,text:"Loading Google API"}))],64)}let ve=class extends d["b"]{get loaded(){return this.$store.state.gapiLoaded}get authed(){return this.$store.state.gapiAuthed}get idle(){return this.$store.state.status===B["a"].Status.idle}get sync(){return K["a"].google.sync()}set sync(e){K["a"].google.setSync(e)}link(){g["a"].signIn()}unlink(){g["a"].signOut()}doSync(){g["a"].sync()}upload(){g["a"].upload(()=>{})}migrate(){g["a"].migrate(e=>{m["a"].inform(`Migrated ${e} nominations.`)})}};ve=Object(l["c"])([Object(d["a"])({components:{MaterialButton:k["a"],MaterialSwitch:de,PreferenceRow:q}})],ve);var ye=ve;ye.render=ge;var ke=ye;let _e=class extends d["b"]{};_e=Object(l["c"])([Object(d["a"])({components:{MaterialTopAppBar:u["a"],MaterialTopAppBarAdjust:b["a"],GeneralPreferences:Oe,GooglePreferences:ke,DataPreferences:J,AboutPreferences:P}})],_e);var xe=_e;n("f1e8");xe.render=s;t["default"]=xe},ab45:function(e,t,n){},e4ce:function(e,t,n){"use strict";n("041d")},e723:function(e,t,n){"use strict";n("e979")},e979:function(e,t,n){},f1e8:function(e,t,n){"use strict";n("ab45")}}]);
//# sourceMappingURL=preferences.25be41d4.js.map