(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["preferences"],{"041d":function(e,t,n){},"436f":function(e,t,n){},a163:function(e,t,n){"use strict";n("436f")},a55d:function(e,t,n){"use strict";n.r(t);var c=n("7a23");const r={class:"preferences"},a=Object(c["h"])("hr",null,null,-1),o=Object(c["h"])("hr",null,null,-1),i=Object(c["h"])("hr",null,null,-1),s=Object(c["h"])("hr",null,null,-1);function l(e,t,n,l,d,u){const b=Object(c["x"])("material-top-app-bar"),O=Object(c["x"])("material-top-app-bar-adjust"),j=Object(c["x"])("general-preferences"),h=Object(c["x"])("google-preferences"),p=Object(c["x"])("brainstorming-preferences"),f=Object(c["x"])("data-preferences"),m=Object(c["x"])("about-preferences");return Object(c["q"])(),Object(c["d"])(c["a"],null,[Object(c["h"])(b,{title:"Preferences","navi-back":""}),Object(c["h"])(O),Object(c["h"])("main",r,[Object(c["h"])(j),a,Object(c["h"])(h),o,Object(c["h"])(p),i,Object(c["h"])(f),s,Object(c["h"])(m)])],64)}var d=n("9ab4"),u=n("ce1f"),b=n("2281"),O=n("4892");const j=Object(c["h"])("h2",null,"About",-1),h=Object(c["g"])("Open"),p=Object(c["g"])("Open"),f=Object(c["g"])("Export");function m(e,t,n,r,a,o){const i=Object(c["x"])("preference-row"),s=Object(c["x"])("material-button");return Object(c["q"])(),Object(c["d"])(c["a"],null,[j,Object(c["h"])(i,{text:"App Version",desc:e.appVersion},null,8,["desc"]),Object(c["h"])(i,{text:"Data Version",desc:e.dataVersion},null,8,["desc"]),Object(c["h"])(i,{text:"Document"},{default:Object(c["C"])(()=>[Object(c["h"])(s,{onClick:e.openDoc},{default:Object(c["C"])(()=>[h]),_:1},8,["onClick"])]),_:1}),Object(c["h"])(i,{text:"Code Repository",desc:"GitHub"},{default:Object(c["C"])(()=>[Object(c["h"])(s,{onClick:e.openRepo},{default:Object(c["C"])(()=>[p]),_:1},8,["onClick"])]),_:1}),e.hasErrors?(Object(c["q"])(),Object(c["d"])(i,{key:0,text:"Export Errors",desc:"Export errors logged by Potori"},{default:Object(c["C"])(()=>[Object(c["h"])(s,{onClick:e.exportErrors},{default:Object(c["C"])(()=>[f]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0)],64)}var C=n("42b4"),g=n("6022"),y=n("bb8d"),v=n("1703");const k={class:"row"},_={class:"text"},x={key:0,class:"desc"},w={key:0,class:"spacer"},E={key:1,class:"action"};function A(e,t,n,r,a,o){return Object(c["q"])(),Object(c["d"])("div",k,[Object(c["h"])("div",_,[Object(c["h"])("span",null,Object(c["z"])(e.text),1),e.desc?(Object(c["q"])(),Object(c["d"])("span",x,Object(c["z"])(e.desc),1)):Object(c["e"])("",!0)]),e.$slots.default?(Object(c["q"])(),Object(c["d"])("div",w)):Object(c["e"])("",!0),e.$slots.default?(Object(c["q"])(),Object(c["d"])("div",E,[Object(c["w"])(e.$slots,"default")])):Object(c["e"])("",!0)])}var S=n("1b40");class N extends S["d"]{}Object(d["c"])([Object(S["c"])(String)],N.prototype,"text",void 0),Object(d["c"])([Object(S["c"])(String)],N.prototype,"desc",void 0);n("e723");N.render=A;var q=N;let L=class extends u["b"]{get appVersion(){return y["a"].text}get dataVersion(){return y["a"].data}get hasErrors(){return g["a"].errors.length>0}openDoc(){window.open("/docs","_blank")}openRepo(){window.open("https://github.com/lucka-me/potori","_blank")}exportErrors(){let e="";for(const n of g["a"].errors){let t=n.message;if("message"in n.error){const e=n.error;t=e.stack||e.message}e+=`[${n.filename}][${n.lineno}:${n.colno}]${t}\n`}const t=document.createElement("textarea");t.value=e,t.readOnly=!0,document.body.append(t),t.select(),document.execCommand("copy"),t.remove(),C["a"].inform(`Copied ${g["a"].errors.length} errors to clipboard.`)}};L=Object(d["c"])([Object(u["a"])({components:{MaterialButton:v["a"],PreferenceRow:q}})],L);var D=L;D.render=m;var P=D;const R=Object(c["h"])("h2",null,"Brainstorming",-1);function V(e,t,n,r,a,o){const i=Object(c["x"])("material-switch"),s=Object(c["x"])("preference-row");return Object(c["q"])(),Object(c["d"])(c["a"],null,[R,Object(c["h"])(s,{text:"Automatically Query Firebase",desc:"Query Firebase to get locations after processing mails"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{modelValue:e.autoQueryFirebase,"onUpdate:modelValue":t[1]||(t[1]=t=>e.autoQueryFirebase=t)},null,8,["modelValue"])]),_:1})],64)}var I=n("b15b");const T={class:"mdc-switch"},$=Object(c["h"])("div",{class:"mdc-switch__track"},null,-1),B=Object(c["h"])("div",{class:"mdc-switch__thumb-underlay"},[Object(c["h"])("div",{class:"mdc-switch__thumb"}),Object(c["h"])("input",{type:"checkbox",class:"mdc-switch__native-control",role:"switch"})],-1);function M(e,t,n,r,a,o){return Object(c["q"])(),Object(c["d"])("div",T,[$,B])}var F=n("8136"),U=n("9373"),G=n("d87f"),H=n("40ff"),Q=n("4303"),J=n("6689"),W={CHECKED:"mdc-switch--checked",DISABLED:"mdc-switch--disabled"},K={ARIA_CHECKED_ATTR:"aria-checked",NATIVE_CONTROL_SELECTOR:".mdc-switch__native-control",RIPPLE_SURFACE_SELECTOR:".mdc-switch__thumb-underlay"},z=function(e){function t(n){return e.call(this,Object(d["a"])(Object(d["a"])({},t.defaultAdapter),n))||this}return Object(d["d"])(t,e),Object.defineProperty(t,"strings",{get:function(){return K},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return W},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlChecked:function(){},setNativeControlDisabled:function(){},setNativeControlAttr:function(){}}},enumerable:!0,configurable:!0}),t.prototype.setChecked=function(e){this.adapter.setNativeControlChecked(e),this.updateAriaChecked_(e),this.updateCheckedStyling_(e)},t.prototype.setDisabled=function(e){this.adapter.setNativeControlDisabled(e),e?this.adapter.addClass(W.DISABLED):this.adapter.removeClass(W.DISABLED)},t.prototype.handleChange=function(e){var t=e.target;this.updateAriaChecked_(t.checked),this.updateCheckedStyling_(t.checked)},t.prototype.updateCheckedStyling_=function(e){e?this.adapter.addClass(W.CHECKED):this.adapter.removeClass(W.CHECKED)},t.prototype.updateAriaChecked_=function(e){this.adapter.setNativeControlAttr(K.ARIA_CHECKED_ATTR,""+!!e)},t}(J["a"]),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ripple_=t.createRipple_(),t}return Object(d["d"])(t,e),t.attachTo=function(e){return new t(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ripple_.destroy(),this.nativeControl_.removeEventListener("change",this.changeHandler_)},t.prototype.initialSyncWithDOM=function(){var e=this;this.changeHandler_=function(){for(var t,n=[],c=0;c<arguments.length;c++)n[c]=arguments[c];return(t=e.foundation).handleChange.apply(t,Object(d["e"])(n))},this.nativeControl_.addEventListener("change",this.changeHandler_),this.checked=this.checked},t.prototype.getDefaultFoundation=function(){var e=this,t={addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},setNativeControlChecked:function(t){return e.nativeControl_.checked=t},setNativeControlDisabled:function(t){return e.nativeControl_.disabled=t},setNativeControlAttr:function(t,n){return e.nativeControl_.setAttribute(t,n)}};return new z(t)},Object.defineProperty(t.prototype,"ripple",{get:function(){return this.ripple_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this.nativeControl_.checked},set:function(e){this.foundation.setChecked(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.nativeControl_.disabled},set:function(e){this.foundation.setDisabled(e)},enumerable:!0,configurable:!0}),t.prototype.createRipple_=function(){var e=this,t=z.strings.RIPPLE_SURFACE_SELECTOR,n=this.root.querySelector(t),c=Object(d["a"])(Object(d["a"])({},H["a"].createAdapter(this)),{addClass:function(e){return n.classList.add(e)},computeBoundingRect:function(){return n.getBoundingClientRect()},deregisterInteractionHandler:function(t,n){e.nativeControl_.removeEventListener(t,n,Object(U["a"])())},isSurfaceActive:function(){return Object(G["c"])(e.nativeControl_,":active")},isUnbounded:function(){return!0},registerInteractionHandler:function(t,n){e.nativeControl_.addEventListener(t,n,Object(U["a"])())},removeClass:function(e){n.classList.remove(e)},updateCssVariable:function(e,t){n.style.setProperty(e,t)}});return new H["a"](this.root,new Q["a"](c))},Object.defineProperty(t.prototype,"nativeControl_",{get:function(){var e=z.strings.NATIVE_CONTROL_SELECTOR;return this.root.querySelector(e)},enumerable:!0,configurable:!0}),t}(F["a"]);class Y extends S["d"]{mounted(){this.ctrl=X.attachTo(this.$el),this.ctrl.checked=this.value,this.ctrl.listen("change",this.changed)}updated(){var e;null===(e=this.ctrl)||void 0===e||e.destroy(),this.ctrl=X.attachTo(this.$el),this.ctrl.checked=this.value,this.ctrl.listen("change",this.changed)}unmounted(){var e;null===(e=this.ctrl)||void 0===e||e.destroy()}changed(){this.ctrl&&this.$emit("update:modelValue",this.ctrl.checked)}}Object(d["c"])([Object(S["a"])("modelValue",{type:Boolean,default:!1})],Y.prototype,"value",void 0);n("e4ce");Y.render=M;var Z=Y;let ee=class extends u["b"]{get autoQueryFirebase(){return I["a"].brainstorming.autoQueryFirebase()}set autoQueryFirebase(e){I["a"].brainstorming.setAutoQueryFirebase(e)}};ee=Object(d["c"])([Object(u["a"])({components:{MaterialButton:v["a"],MaterialSwitch:Z,PreferenceRow:q}})],ee);var te=ee;te.render=V;var ne=te;const ce=Object(c["h"])("h2",null,"Data",-1),re=Object(c["g"])("Import"),ae=Object(c["g"])("Export"),oe=Object(c["g"])("Import"),ie=Object(c["g"])("Clear");function se(e,t,n,r,a,o){const i=Object(c["x"])("material-button"),s=Object(c["x"])("preference-row");return Object(c["q"])(),Object(c["d"])(c["a"],null,[ce,e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:0,text:"Import Nominations",desc:"Import nominations from file"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{onClick:e.importNominations},{default:Object(c["C"])(()=>[re]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0),e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:1,text:"Export Nominations",desc:"Export nominations to file"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{onClick:e.exportNominations},{default:Object(c["C"])(()=>[ae]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0),e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:2,text:"Import Wayfarer JSON",desc:"Export JSON from https://wayfarer.nianticlabs.com/api/v1/vault/manage"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{onClick:e.importWayfarerJSON},{default:Object(c["C"])(()=>[oe]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0),e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:3,text:"Clear Nominations",desc:"Clear all nominations from local storage"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{onClick:e.clearNominations},{default:Object(c["C"])(()=>[ie]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0)],64)}var le=n("0613");let de=class extends u["b"]{get idle(){return this.$store.state.status===le["a"].Status.idle}importNominations(){g["a"].importNominationsFile(e=>{C["a"].inform(`Imported ${e} nominations.`)})}exportNominations(){g["a"].exportNominationsFile()}importWayfarerJSON(){const e=window.prompt("Paste Wayfarer JSON");if(!e)return;const t=g["a"].importWayfarerJSON(e);switch(t){case-1:C["a"].alert("Unable to parse the JSON.");break;case-2:C["a"].alert("The data is invalid.");break;default:C["a"].inform(`Updated ${t} nominations.`);break}}clearNominations(){g["a"].clearNominations()}};de=Object(d["c"])([Object(u["a"])({components:{MaterialButton:v["a"],PreferenceRow:q}})],de);var ue=de;ue.render=se;var be=ue;const Oe=Object(c["h"])("h2",null,"General",-1);function je(e,t,n,r,a,o){const i=Object(c["x"])("material-switch"),s=Object(c["x"])("preference-row");return Object(c["q"])(),Object(c["d"])(c["a"],null,[Oe,Object(c["h"])(s,{text:"Query After Latest",desc:"Query mails received after the latest one"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{modelValue:e.queryAfterLatest,"onUpdate:modelValue":t[1]||(t[1]=t=>e.queryAfterLatest=t)},null,8,["modelValue"])]),_:1})],64)}let he=class extends u["b"]{get queryAfterLatest(){return I["a"].general.queryAfterLatest()}set queryAfterLatest(e){I["a"].general.setQueryAfterLatest(e)}};he=Object(d["c"])([Object(u["a"])({components:{MaterialSwitch:Z,PreferenceRow:q}})],he);var pe=he;pe.render=je;var fe=pe;const me=Object(c["h"])("h2",null,"Google",-1),Ce=Object(c["g"])("Unlink"),ge=Object(c["g"])("Link"),ye=Object(c["g"])("Sync"),ve=Object(c["g"])("Upload"),ke=Object(c["g"])("Migrate");function _e(e,t,n,r,a,o){const i=Object(c["x"])("material-button"),s=Object(c["x"])("preference-row"),l=Object(c["x"])("material-switch");return Object(c["q"])(),Object(c["d"])(c["a"],null,[me,e.loaded?(Object(c["q"])(),Object(c["d"])(s,{key:0,text:"Account",desc:"Link / unlink Google Account"},{default:Object(c["C"])(()=>[e.authed?(Object(c["q"])(),Object(c["d"])(i,{key:0,onClick:e.unlink},{default:Object(c["C"])(()=>[Ce]),_:1},8,["onClick"])):(Object(c["q"])(),Object(c["d"])(i,{key:1,onClick:e.link},{default:Object(c["C"])(()=>[ge]),_:1},8,["onClick"]))]),_:1})):Object(c["e"])("",!0),e.authed&&e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:1,text:"Sync Google Drive",desc:"Sync with Google Drive when refresh"},{default:Object(c["C"])(()=>[Object(c["h"])(l,{modelValue:e.sync,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sync=t)},null,8,["modelValue"])]),_:1})):Object(c["e"])("",!0),e.authed&&e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:2,text:"Sync Now",desc:"Sync with Google Drive"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{onClick:e.doSync},{default:Object(c["C"])(()=>[ye]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0),e.authed&&e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:3,text:"Upload Now",desc:"Upload data to Google Drive"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{onClick:e.upload},{default:Object(c["C"])(()=>[ve]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0),e.authed&&e.idle?(Object(c["q"])(),Object(c["d"])(s,{key:4,text:"Migrate",desc:"Migrate data from Potori before 0.8.0"},{default:Object(c["C"])(()=>[Object(c["h"])(i,{onClick:e.migrate},{default:Object(c["C"])(()=>[ke]),_:1},8,["onClick"])]),_:1})):Object(c["e"])("",!0),e.loaded?Object(c["e"])("",!0):(Object(c["q"])(),Object(c["d"])(s,{key:5,text:"Loading Google API"}))],64)}let xe=class extends u["b"]{get loaded(){return this.$store.state.gapiLoaded}get authed(){return this.$store.state.gapiAuthed}get idle(){return this.$store.state.status===le["a"].Status.idle}get sync(){return I["a"].google.sync()}set sync(e){I["a"].google.setSync(e)}link(){g["a"].signIn()}unlink(){g["a"].signOut()}doSync(){g["a"].sync()}upload(){g["a"].upload()}migrate(){g["a"].migrate(e=>{C["a"].inform(`Migrated ${e} nominations.`)})}};xe=Object(d["c"])([Object(u["a"])({components:{MaterialButton:v["a"],MaterialSwitch:Z,PreferenceRow:q}})],xe);var we=xe;we.render=_e;var Ee=we;let Ae=class extends u["b"]{};Ae=Object(d["c"])([Object(u["a"])({components:{MaterialTopAppBar:b["a"],MaterialTopAppBarAdjust:O["a"],GeneralPreferences:fe,GooglePreferences:Ee,BrainstormingPreferences:ne,DataPreferences:be,AboutPreferences:P}})],Ae);var Se=Ae;n("a163");Se.render=l;t["default"]=Se},e4ce:function(e,t,n){"use strict";n("041d")},e723:function(e,t,n){"use strict";n("e979")},e979:function(e,t,n){}}]);
//# sourceMappingURL=preferences.037bf5e0.js.map